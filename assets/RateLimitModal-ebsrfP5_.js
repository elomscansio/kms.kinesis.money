import{ab as Z,ag as z,q as J,r as b,j as a,ah as V,w as A,d as X,y as _,u as G,N as K,z as Q,C as F,R as L,A as tt,t as T,D as st,S as et}from"./index-B1IYvx0M.js";import{D as nt,C as it,a as rt,A as ot}from"./index-Bo_9n-PG.js";import{M as at}from"./index-muQS-9Gf.js";import{A as ut}from"./Action-Chaeft7b.js";var k={exports:{}},dt=k.exports,N;function ct(){return N||(N=1,function(c,h){(function(l,i){c.exports=i()})(dt,function(){var l,i,m=1e3,p=6e4,M=36e5,x=864e5,Y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,$=31536e6,g=2628e6,w=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,D={years:$,months:g,days:x,hours:M,minutes:p,seconds:m,milliseconds:1,weeks:6048e5},C=function(e){return e instanceof O},S=function(e,s,t){return new O(e,t,s.$l)},j=function(e){return i.p(e)+"s"},I=function(e){return e<0},y=function(e){return I(e)?Math.ceil(e):Math.floor(e)},B=function(e){return Math.abs(e)},v=function(e,s){return e?I(e)?{negative:!0,format:""+B(e)+s}:{negative:!1,format:""+e+s}:{negative:!1,format:""}},O=function(){function e(t,n,o){var r=this;if(this.$d={},this.$l=o,t===void 0&&(this.$ms=0,this.parseFromMilliseconds()),n)return S(t*D[j(n)],this);if(typeof t=="number")return this.$ms=t,this.parseFromMilliseconds(),this;if(typeof t=="object")return Object.keys(t).forEach(function(f){r.$d[j(f)]=t[f]}),this.calMilliseconds(),this;if(typeof t=="string"){var u=t.match(w);if(u){var d=u.slice(2).map(function(f){return f!=null?Number(f):0});return this.$d.years=d[0],this.$d.months=d[1],this.$d.weeks=d[2],this.$d.days=d[3],this.$d.hours=d[4],this.$d.minutes=d[5],this.$d.seconds=d[6],this.calMilliseconds(),this}}return this}var s=e.prototype;return s.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce(function(n,o){return n+(t.$d[o]||0)*D[o]},0)},s.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=y(t/$),t%=$,this.$d.months=y(t/g),t%=g,this.$d.days=y(t/x),t%=x,this.$d.hours=y(t/M),t%=M,this.$d.minutes=y(t/p),t%=p,this.$d.seconds=y(t/m),t%=m,this.$d.milliseconds=t},s.toISOString=function(){var t=v(this.$d.years,"Y"),n=v(this.$d.months,"M"),o=+this.$d.days||0;this.$d.weeks&&(o+=7*this.$d.weeks);var r=v(o,"D"),u=v(this.$d.hours,"H"),d=v(this.$d.minutes,"M"),f=this.$d.seconds||0;this.$d.milliseconds&&(f+=this.$d.milliseconds/1e3,f=Math.round(1e3*f)/1e3);var E=v(f,"S"),W=t.negative||n.negative||r.negative||u.negative||d.negative||E.negative,U=u.format||d.format||E.format?"T":"",H=(W?"-":"")+"P"+t.format+n.format+r.format+U+u.format+d.format+E.format;return H==="P"||H==="-P"?"P0D":H},s.toJSON=function(){return this.toISOString()},s.format=function(t){var n=t||"YYYY-MM-DDTHH:mm:ss",o={Y:this.$d.years,YY:i.s(this.$d.years,2,"0"),YYYY:i.s(this.$d.years,4,"0"),M:this.$d.months,MM:i.s(this.$d.months,2,"0"),D:this.$d.days,DD:i.s(this.$d.days,2,"0"),H:this.$d.hours,HH:i.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:i.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:i.s(this.$d.seconds,2,"0"),SSS:i.s(this.$d.milliseconds,3,"0")};return n.replace(Y,function(r,u){return u||String(o[r])})},s.as=function(t){return this.$ms/D[j(t)]},s.get=function(t){var n=this.$ms,o=j(t);return o==="milliseconds"?n%=1e3:n=o==="weeks"?y(n/D[o]):this.$d[o],n||0},s.add=function(t,n,o){var r;return r=n?t*D[j(n)]:C(t)?t.$ms:S(t,this).$ms,S(this.$ms+r*(o?-1:1),this)},s.subtract=function(t,n){return this.add(t,n,!0)},s.locale=function(t){var n=this.clone();return n.$l=t,n},s.clone=function(){return S(this.$ms,this)},s.humanize=function(t){return l().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},s.valueOf=function(){return this.asMilliseconds()},s.milliseconds=function(){return this.get("milliseconds")},s.asMilliseconds=function(){return this.as("milliseconds")},s.seconds=function(){return this.get("seconds")},s.asSeconds=function(){return this.as("seconds")},s.minutes=function(){return this.get("minutes")},s.asMinutes=function(){return this.as("minutes")},s.hours=function(){return this.get("hours")},s.asHours=function(){return this.as("hours")},s.days=function(){return this.get("days")},s.asDays=function(){return this.as("days")},s.weeks=function(){return this.get("weeks")},s.asWeeks=function(){return this.as("weeks")},s.months=function(){return this.get("months")},s.asMonths=function(){return this.as("months")},s.years=function(){return this.get("years")},s.asYears=function(){return this.as("years")},e}(),R=function(e,s,t){return e.add(s.years()*t,"y").add(s.months()*t,"M").add(s.days()*t,"d").add(s.hours()*t,"h").add(s.minutes()*t,"m").add(s.seconds()*t,"s").add(s.milliseconds()*t,"ms")};return function(e,s,t){l=t,i=t().$utils(),t.duration=function(r,u){var d=t.locale();return S(r,{$l:d},u)},t.isDuration=C;var n=s.prototype.add,o=s.prototype.subtract;s.prototype.add=function(r,u){return C(r)?R(this,r,1):n.bind(this)(r,u)},s.prototype.subtract=function(r,u){return C(r)?R(this,r,-1):o.bind(this)(r,u)}}})}(k)),k.exports}var ht=ct();const lt=Z(ht);z.extend(lt);const mt=c=>{const h=z.duration(c);return`${h.minutes().toString()}:${h.seconds().toString().padStart(2,"0")}`};it.register(rt,ot);const ft=A("div")`
  width: 64px;
  height: 64px;
  position: relative;
`,pt=A(nt)`
  border-radius: 50%;
  box-shadow: inset 0 0 0 4px ${({theme:c})=>c.palette.designColors.borders.default};
`,$t=A("div")`
  position: absolute;
  top: 20px;
  width: 64px;
  text-align: center;
`,gt=c=>{const{countdown:h,totalDuration:l}=c,i=J(),m=b.useMemo(()=>{const p=h/l*100;return{datasets:[{data:[p,100-p],backgroundColor:[i.palette.designColors.interactive.primary.default,"transparent"],borderWidth:0,cutout:"88%",borderRadius:30}]}},[h,i.palette.designColors.interactive.primary.default,l]);return a.jsxs(ft,{children:[a.jsx(pt,{data:m,options:{maintainAspectRatio:!0,rotation:360,plugins:{tooltip:{enabled:!1},legend:{display:!1},annotation:!1},animation:{duration:0}}}),a.jsx($t,{children:h>=0&&a.jsx(V,{children:mt(h)})})]})},q=3e5,P=(c=Date.now())=>q-(Date.now()-c),Dt=c=>{const{active:h,open:l,setOpen:i}=c,m=X(_),[p,M]=b.useState(P(m)),x=G(),Y=K();b.useEffect(()=>{i(h)},[h,i,Y]);const $=b.useCallback(()=>{i(!1),x(Q())},[x,i]);return b.useEffect(()=>{let g=null;return l&&m&&(g=setInterval(()=>{const w=P(m);w>0?M(w):(clearInterval(g),$())},1e3)),()=>{g&&clearInterval(g)}},[m,x,l,$]),a.jsx(at,{open:l,onClose:$,footer:a.jsx(ut,{children:a.jsx(L,{padding:"0px 0px 16px 0px",children:a.jsx(et,{size:"medium",onClick:$,children:a.jsx(T,{id:"rbrahO",defaultMessage:[{type:0,value:"Close"}]})})})}),bodyStyle:{alignItems:"center"},children:a.jsxs(F,{padding:"0px 0px 24x 0px",gap:"24px",width:"360px",children:[a.jsx(L,{justifyContent:"center",children:a.jsx(gt,{totalDuration:q,countdown:p})}),a.jsxs(F,{padding:"0px 16px 8px 16px",gap:"8px",alignItems:"center",children:[a.jsx(tt,{children:a.jsx(T,{id:"kL5OCf",defaultMessage:[{type:0,value:"Too many attempts"}]})}),a.jsx(st,{strong:!0,children:a.jsx(T,{id:"0yZXye",defaultMessage:[{type:0,value:"Try again later."}]})})]})]})})};export{gt as C,q as F,Dt as R};
