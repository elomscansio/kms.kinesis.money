import{b1 as f,c6 as C}from"./index-B1IYvx0M.js";import{a as $}from"./index-DamApG0r.js";import{g as A}from"./getCurrencySymbol-U33HH9zA.js";import{s as W}from"./index-CVGWP4XK.js";import{i as w}from"./fiat-currencies-4YJiRIqJ.js";const z=t=>!t.loading&&!N(t.data)?t.data:{KAG:0,KAU:0},_=t=>!t.loading&&!N(t.data)?t.data:{KAG:0,KAU:0},x=t=>{const e=t.split("").filter(r=>r===".").length,n=Number.isNaN(Number(t));return!(e>1||n)},N=t=>t==null,R=()=>{const t=C.getState();return $(t)??{}},u=()=>{const t=C.getState();return W(t)??{}},D=({code:t,value:e,symbolId:n},r)=>{const{appendCurrencyCode:o=!1,prependFiatSymbol:i=!0,useGrouping:s=!0,currencyBoundaries:m=u(),completeWithZerosAlways:a=!1,decimalPoints:c}=r??{};if(!e&&e!==0)return"0";const p=Z(e),l=c??(n?K(n,t):d(t,m)),S=P(p.toFixed(l,f.roundDown),l),b=i&&w(t),F=b?{useGrouping:s,minimumFractionDigits:a?l:2}:{minimumFractionDigits:a?l:0,maximumFractionDigits:20,useGrouping:s},g=b?A(t):"",h=g.length<=2?g:g+" ",y=new Intl.NumberFormat("en-us",F).format(Number(S));return p.lt(0)?`-${h}${y.substring(1)}${o?` ${t}`:""}`:`${h}${y}${o?` ${t}`:""}`},k=(t,e)=>{const n=d(t,u());return O(e.round(n).toString())};function O(t){const e=Math.sign(Number(t));let n=`${Math.abs(Number(t))}`;if(/\d+\.?\d*e[+-]*\d+/i.test(t)){const r="0",o=String(t).toLowerCase().split("e"),i=o.pop();let s=Math.abs(Number(i));const m=Number(i)/s,a=o[0].split(".");if(m===-1)s=s-a[0].length,s<0?n=a[0].slice(0,s)+"."+a[0].slice(s)+(a.length===2?a[1]:""):n=r+"."+new Array(s+1).join(r)+a.join("");else{const c=a[1];c&&(s=s-c.length),s<0?n=a[0]+c.slice(0,s)+"."+c.slice(s):n=a.join("")+new Array(s+1).join(r)}}return e<0?"-"+n:n}const H=t=>Number(D({code:t.currencyCode,value:t.value},{appendCurrencyCode:!1,prependFiatSymbol:!1,useGrouping:!1})),P=(t,e)=>{const[n,r]=t.split(".");return!r&&!t.includes(".")?n:n.concat(".",r.slice(0,e))},J=({value:t,currencyCode:e,handler:n,defaultDecimals:r},o=u())=>{let i=t.replace(/,/g,"");i==="."&&(i="0."),i.startsWith(".")&&(i=`0.${i.slice(1)}`);const s=d(e,o,r);if(x(i)&&j(i,s))return i=V(i),i=G(i,e),n(i)},V=t=>{if(t&&t!=="0"){const e=t.length>1&&t.charAt(0)==="0"&&!["0","."].includes(t.charAt(1))?t.substring(1):t;return e.includes(".")?e[e.length-1]!=="."?e.replace(/^0+/,"0"):e:e.replace(/^0+/,"")}return t[t.length-1]==="."?t:"0"},G=(t,e)=>{const[n,r]=t.split("."),o=t.includes(".");return D({code:e,value:Number(n)},{appendCurrencyCode:!1,prependFiatSymbol:!1,useGrouping:!1}).concat(`${o?".":""}${r&&o?r:""}`)};function j(t,e){return t===""||I(t,e)}const I=(t,e)=>{const n=e?`(.)?([0-9]{1,${e}})?`:"";return new RegExp(`^[0-9]+${n}$`).test(t)},d=(t,e=u(),n)=>{const r=e==null?void 0:e[t];return(r==null?void 0:r.maxDecimals)??n??5},K=(t,e,n=R())=>{const r=n==null?void 0:n[t];return r?t.split("_")[0]===e?r.baseDecimals:r.quoteDecimals:5},M=/,/g,Q=t=>Number(t.replace(M,"")),Z=t=>{try{return new f(t)}catch{return new f(0)}};export{_ as a,H as b,k as c,D as f,z as g,J as h,Q as p,Z as s};
