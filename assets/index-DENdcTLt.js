import{j as e,F as M,d as x,df as I,u as G,r as b,dj as R,aw as j,bg as B,e as P,R as v,fN as S,t as E,q as w,aN as F,aM as N,w as g,C as y,H as W,B as H,cS as O,S as $}from"./index-B1IYvx0M.js";import{M as T,S as U}from"./index-Do1i7yHT.js";import{B as Z,P as z}from"./PaybisButton-CLNx20jt.js";import{i as K,u as Q,a as V}from"./order-source-yjVi4RrL.js";import{e as _,a as X}from"./index-DQUs1ZHf.js";import{O as L}from"./order-direction-B5kfqJoW.js";import{N as J,a as Y,b as C}from"./Names-CaXmBvXg.js";import{S as r}from"./index-DeSxTRGL.js";import{u as ee}from"./index-BBKt8-YL.js";const te=()=>{const{formatMessage:n}=M(),{trade:t}=Q(),{onDirection:s}=V(),{canBuy:a,canSell:l}=x(i=>_(i,t.symbol.symbolId))??{},{base:o,quote:c}=x(I),m=x(X),f=G(),{validPair:k,bases:p,quotes:u}=b.useMemo(()=>{const i=[];m.forEach((q,A)=>{q.includes(c)&&i.push(A)});const h=m.get(o)??[];return{validPair:!!h.length&&!!h.includes(c)&&!!i.length&&!!i.includes(o),bases:i,quotes:h}},[o,c,m]);return b.useEffect(()=>{k||f(R({base:(p==null?void 0:p[0])??j.KAU,quote:(u==null?void 0:u[0])??j.USD}))},[o,f,p,u,k]),e.jsx(e.Fragment,{children:e.jsx(T,{options:{bodyStyle:{padding:"0px"}},headerSlots:{tabs:{options:[{value:L.buy,label:n({id:"EnCOBJ",defaultMessage:[{type:0,value:"Buy"}]}),disabled:!a},{value:L.sell,label:n({id:"9AgXoz",defaultMessage:[{type:0,value:"Sell"}]}),disabled:!l}],active:t.direction,onTabChange:i=>s(i)},customButtons:e.jsx(z,{})},children:e.jsx(Z,{})})})},je=()=>e.jsx(K,{children:e.jsx(te,{})});var d=(n=>(n.news="news",n.blog="blog",n))(d||{});B.injectEndpoints({endpoints:n=>({getMediaPosts:n.query({queryFn:()=>({data:[{title:"Gold Price News: Gold Falls to Two-Week Low",description:"Gold prices fell on Tuesday, coming under pressure from a recent strengthening of the US dollar and news that China's central bank had bought no further gold in September.",articleLink:"https://kinesis.money/market-analysis/gold-news/gold-falls-biweekly-low/",createdAt:"2024-10-09T09:05:47.000Z",imageLinkSmall:"https://kinesis.money/wp-content/uploads/2024/10/gold-square-sunshine2-wed.jpg",imageLinkLarge:"https://kinesis.money/wp-content/uploads/2024/10/gold-news-feature-gold-falls-to-two-week-low.jpg",type:d.news},{title:"Part 1: How we've enhanced the Kinesis Virtual Card",description:"With pre-registration for the Kinesis Virtual Card now open, we are proud to introduce our users to our enhanced card program, built to make choosing gold, silver and digital assets practical and rewarding for everyone.&nbsp; Earlier this year, we sent out a survey to find out the Kinesis Virtual Card features and upgrades most valued [&hellip;]",articleLink:"https://kinesis.money/blog/part-1-how-kinesis-virtual-card-enhanced/",createdAt:"2024-10-07T15:40:35.000Z",imageLinkSmall:"https://kinesis.money/wp-content/uploads/2024/10/nav-image.jpg",imageLinkLarge:"https://kinesis.money/wp-content/uploads/2024/10/company-news.png",type:d.blog},{title:"Silver Price News: Silver Posts Steady Gains Through Week",description:"Silver prices made modest gains on Friday to close out a slightly bullish week for the metal overall, as the market remains supported by falling interest rates and safe-haven demand.",articleLink:"https://kinesis.money/market-analysis/silver-news/silver-posts-steady-gains/",createdAt:"2024-10-07T08:23:00.000Z",imageLinkSmall:"https://kinesis.money/wp-content/uploads/2024/10/silver-square-silver2-mon.jpg",imageLinkLarge:"https://kinesis.money/wp-content/uploads/2024/10/silver-news-feature-silver-posts-steady-gains-through-week.jpg",type:d.news},{title:"Gold Price News: Gold Ends Slightly Lower on Friday",description:"Gold prices saw a volatile day on Friday, with prices ending the day marginally lower, capping a slightly bearish week for the precious metal overall.",articleLink:"https://kinesis.money/market-analysis/gold-news/gold-ends-lower/",createdAt:"2024-10-07T08:22:51.000Z",imageLinkSmall:"https://kinesis.money/wp-content/uploads/2024/10/gold-square-gold2-mon.jpg",imageLinkLarge:"https://kinesis.money/wp-content/uploads/2024/10/gold-news-feature-gold-ends-slightly-lower-on-friday.jpg",type:d.news}]}),keepUnusedDataFor:60*60})}),overrideExisting:P.dataProvider==="mock"});const se=B.injectEndpoints({endpoints:n=>({getMediaPosts:n.query({query:()=>({url:"reference-data/news-article"}),keepUnusedDataFor:60*60})}),overrideExisting:P.dataProvider==="api"}),ne=se,{useGetMediaPostsQuery:ae}=ne;function oe(n){const t=Math.floor((Date.now()-new Date(n).getTime())/1e3);let s=t/31536e3;return s>1?`${Math.floor(s)}y`:(s=t/2592e3,s>1?`${Math.floor(s)}m`:(s=t/86400,s>1?`${Math.floor(s)}d`:(s=t/3600,`${Math.floor(s)}h`)))}const ie=n=>{const{formatMessage:t}=M();return{[d.blog]:{icon:C.mediaTypeBlog,text:t({id:"tv5FG3",defaultMessage:[{type:0,value:"Blog"}]})},[d.news]:{icon:C.mediaTypeNews,text:t({id:"NZyhSX",defaultMessage:[{type:0,value:"News"}]})}}[n]},D=n=>{const{isLoading:t,data:s}=n,a=ie(s.type);return e.jsxs(v,{justifyContent:"space-between",alignItems:"center",children:[e.jsx(S,{strong:!0,children:e.jsxs(r,{isLoading:t,children:[oe(s.createdAt)," ",e.jsx(E,{id:"xNk9pE",defaultMessage:[{type:0,value:"ago"}]})]})}),e.jsx(r,{isLoading:t,children:e.jsxs(v,{gap:"4px",alignItems:"center",children:[e.jsx(J,{name:a.icon,size:Y.twelve}),e.jsx(S,{strong:!0,children:a.text})]})})]})},re=g("img")(({theme:n})=>({width:"100%",minHeight:"174px",borderRadius:"8px",objectFit:"cover",imageRendering:"auto",[n.breakpoints.down("sm")]:{minWidth:"unset",width:"100%",height:"auto"}})),le=g(H)`
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  @supports (-webkit-line-clamp: 2) {
    white-space: initial;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
  }
`,de=n=>{const{isLoading:t,data:s}=n,a=w();return e.jsxs(F,{component:N,target:"_blank",to:s.articleLink,container:!0,sx:{width:"100%",height:"100%",flexWrap:"nowrap",flex:"1",gap:"24px",flexDirection:"column",padding:"8px",borderRadius:"12px",cursor:t?"unset":"pointer",backgroundColor:a.palette.background.paper,":hover":{boxShadow:`0px 8px 20px 0px ${a.palette.designColors.greyscale.black[5]}`}},children:[e.jsx(r,{variant:"rounded",isLoading:t,children:e.jsx(re,{src:s.imageLinkLarge})}),e.jsxs(y,{gap:"8px",padding:"8px",children:[e.jsx(D,{data:s,isLoading:t}),e.jsx(W,{children:e.jsx(r,{isLoading:t,rows:["80%"],children:s.title})}),e.jsx(le,{strong:!0,children:e.jsx(r,{isLoading:t,rows:["100%","80%"],children:s.description})})]})]})},ce=g("img")(()=>({width:"90px",height:"90px",minWidth:"90px",minHeight:"90px",borderRadius:"8px",objectFit:"cover",imageRendering:"auto"})),pe=g(O)({maxHeight:"68px"}),ue=n=>{const{isLoading:t,data:s}=n,a=w();return e.jsxs(F,{component:N,target:"_blank",to:s.articleLink,container:!0,sx:{gap:"12px",padding:"8px",flexDirection:"row",flexWrap:"nowrap",borderRadius:"8px",justifyContent:"space-between",cursor:t?"unset":"pointer",backgroundColor:a.palette.background.paper,":hover":{backgroundColor:t?"undefined":a.palette.designColors.greyscale.black[4]}},children:[e.jsxs(y,{gap:"8px",width:"100%",children:[e.jsx(D,{data:s,isLoading:t}),e.jsx(pe,{children:e.jsx(r,{rows:["100%","80%"],isLoading:t,children:s.title})})]}),e.jsx(r,{variant:"rounded",isLoading:t,children:e.jsx(ce,{src:s.imageLinkSmall})})]})},ve=n=>{const{column:t=!1}=n,s=w(),a=ee(s.breakpoints.down("sm")),{data:l,isLoading:o}=ae(void 0,{refetchOnMountOrArgChange:!0});return e.jsx(T,{headerSlots:t?void 0:{title:"Media centre"},options:{noHeader:!0,bodyStyle:{flexDirection:t||a?"column":"row",backgroundColor:"transparent",padding:"0 0 40px 0",gap:"12px"}},children:!!(l!=null&&l.length)&&e.jsxs(e.Fragment,{children:[e.jsx(de,{isLoading:o,data:l[0]}),e.jsxs(U,{sx:{flex:"1",gap:"16px",justifyContent:"space-between",alignItems:"center",padding:"8px 8px 24px 8px",width:"100%"},children:[e.jsx(y,{width:"100%",children:l.slice(-3).map(c=>e.jsx(ue,{isLoading:o,data:c},c.title))}),e.jsx(r,{isLoading:o,children:e.jsx($,{onClick:()=>window.open("https://kinesis.money/media-centre/","_blank"),children:e.jsx(E,{id:"yoLwRW",defaultMessage:[{type:0,value:"See more"}]})})})]})]})})};export{je as B,ve as M};
