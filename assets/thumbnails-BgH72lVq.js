import{ag as b,ek as D,bg as M,e as A,fQ as d,b1 as O,ax as r,q as P,r as g,aw as v,j as h,bY as C,F as k}from"./index-B1IYvx0M.js";import{B as q,C as G,f as H,g as B,d as U,e as j,p as Q}from"./index-Bo_9n-PG.js";import{S as N}from"./index-Do1i7yHT.js";import{f as w}from"./currencyFormatter-DqHkUfNj.js";import{u as W}from"./usePrivacyMode-sFMhOLJ_.js";import{D as z}from"./Divider-DtXA8bzM.js";const K=D({selectId:t=>t.createdAt}),$=K.getInitialState(),S=t=>{const a=t.reduce((e,i)=>{const s={};for(const n of Object.keys(i.feeBreakdown))n==="depositors"||n==="kinesisAndPartners"||(s[n]={yieldType:n,...i.feeBreakdown[n]});return i.feeBreakdown=s,i.createdAt=b(i.createdAt).format("MMM YYYY"),e[i.createdAt]=i,e},{});return K.setAll($,a)},F=t=>Object.entries(t).reduce((a,e)=>{const[i,s]=e;return a.label.push(i),a.KAU.push(s.KAU),a.KAG.push(s.KAG),a.total.push(new O(s.KAU.totalDistributedUsdAmount).plus(s.KAG.totalDistributedUsdAmount).toNumber()),a},{label:[],KAU:[],KAG:[],total:[]}),Z=M.injectEndpoints({endpoints:t=>({getYieldHistory:t.query({query:a=>({method:"GET",url:"yield-data/history",params:a}),transformResponse:F,providesTags:["yields","account-info"]}),getYieldTotal:t.query({query:()=>({method:"GET",url:"yield-data/overview-details"}),providesTags:["yields","account-info"]}),getYieldFeePoolCirculation:t.query({query:({from:a})=>({method:"GET",url:"yield-data/circulation/v2",params:{from:a}})}),getMasterFeePool:t.query({query:()=>({method:"GET",url:"yield-data/fee-pools/distributable"}),transformResponse:S}),getYieldOverview:t.query({query:({yieldType:a})=>({url:"yield-data/overview-details",params:{yieldType:a}})}),getYieldPaymentList:t.query({query:({yieldType:a})=>({url:"yield-data/distribution",params:a===d.TOTAL?void 0:{yieldType:a}})})}),overrideExisting:A.dataProvider==="api"});M.injectEndpoints({endpoints:t=>({getYieldHistory:t.query({queryFn:async()=>{const a=(await r(async()=>{const{default:e}=await import("./mock-yields-history-BQrmJYMo.js");return{default:e}},[])).default;return{data:F(a)}},providesTags:["yields","account-info"]}),getYieldTotal:t.query({queryFn:async()=>({data:(await r(async()=>{const{default:e}=await import("./total-C9k7lqOD.js");return{default:e}},[])).default}),providesTags:["yields","account-info"]}),getYieldFeePoolCirculation:t.query({queryFn:async()=>({data:(await r(async()=>{const{default:e}=await import("./mock-circulation-data-DHc3gFXy.js");return{default:e}},[])).default})}),getMasterFeePool:t.query({queryFn:async()=>{const a=(await r(async()=>{const{default:e}=await import("./mock-yields-distributable-XC9eMDwv.js");return{default:e}},[])).default;return{data:S(a)}}}),getYieldOverview:t.query({queryFn:async({yieldType:a})=>{switch(a){case d.HOLDERS:return{data:(await r(async()=>{const{default:e}=await import("./holders-DAaKEgeb.js");return{default:e}},[])).default};case d.KVT:return{data:(await r(async()=>{const{default:e}=await import("./kvt-CPEqVXUq.js");return{default:e}},[])).default};case d.MINTERS:return{data:(await r(async()=>{const{default:e}=await import("./minters-Di0el6FS.js");return{default:e}},[])).default};case d.REFERRERS:return{data:(await r(async()=>{const{default:e}=await import("./referrers-MIHCweLl.js");return{default:e}},[])).default};case d.VELOCITY:return{data:(await r(async()=>{const{default:e}=await import("./velocity-CO5T3B8G.js");return{default:e}},[])).default};default:return{data:{}}}}}),getYieldPaymentList:t.query({queryFn:async({yieldType:a})=>{switch(a){case d.HOLDERS:return{data:(await r(async()=>{const{default:e}=await import("./holders-BF6fZGx6.js");return{default:e}},[])).default};case d.KVT:return{data:(await r(async()=>{const{default:e}=await import("./kvt-K6fnWhzg.js");return{default:e}},[])).default};case d.MINTERS:return{data:(await r(async()=>{const{default:e}=await import("./minters-K6fnWhzg.js");return{default:e}},[])).default};case d.REFERRERS:return{data:(await r(async()=>{const{default:e}=await import("./referrers-Id6sFHAw.js");return{default:e}},[])).default};case d.VELOCITY:return{data:(await r(async()=>{const{default:e}=await import("./velocity-fzzY6sJt.js");return{default:e}},[])).default};default:return{data:(await r(async()=>{const{default:e}=await import("./total-Dw83TXOO.js");return{default:e}},[])).default}}}})}),overrideExisting:A.dataProvider==="mock"});const J=Z,{endpoints:se,useGetYieldHistoryQuery:X,useGetYieldTotalQuery:re,useGetYieldFeePoolCirculationQuery:oe,useGetMasterFeePoolQuery:ne,useGetYieldOverviewQuery:ue,useGetYieldPaymentListQuery:ye}=J,x=(t,a,e,i,s)=>n=>{var V;const{active:f,chart:c,datasetIndex:y,index:p,parsed:T,raw:l}=n;if(l==="0.00")return e;const _=c.getDatasetMeta(y).data[p];if(!_)return e;const{x:u,width:I,base:L}=_,m=y===0?L:c.scales.y.getPixelForValue(((V=T._stacks)==null?void 0:V.y[y-1])??0);if(u){const R=c.ctx;if(s!==null&&!(f&&s===p)){const Y=R.createLinearGradient(u,m,u+I,m);return Y.addColorStop(0,i),Y.addColorStop(1,t),Y}const E=R.createLinearGradient(u,m,u+I,m);return E.addColorStop(0,t),E.addColorStop(1,a),E}};G.register(H,B,U,j,Q);const ce=t=>{const{months:a=12,location:e}=t,{data:i}=X({from:b().subtract(a,"M").startOf("month").toISOString(),to:b().startOf("month").toISOString()}),s=P(),n=g.useMemo(()=>i!=null&&i.total?Math.max(...i.total):0,[i==null?void 0:i.total]),[f,c]=g.useState(null),{hide:y}=W(),p=g.useId(),T=g.useMemo(()=>i?{labels:i.label.map((l,o)=>e==="yield"||o%3===1?l.split(" ")[0]:""),datasets:[{label:v.KAG,data:i.KAG.map(({totalDistributedUsdAmount:l})=>l?l.toFixed(2):null),backgroundColor:x("#A2A5A6","#75797A","transparent"," #c6bfaf",f),barThickness:e==="yield"?15:10,minBarLength:e==="yield"?15:10,animation:{delay:0,duration:300}},{label:v.KAU,data:i.KAU.map(({totalDistributedUsdAmount:l})=>l?l.toFixed(2):null),backgroundColor:x("#9E8E66","#715F37","#F0F1F2","#d0d1d1",f),barThickness:e==="yield"?15:10,minBarLength:e==="yield"?15:10,animation:{delay:0,duration:300}}]}:{labels:[],datasets:[]},[i,f,e]);return h.jsxs(N,{sx:{position:"relative",padding:"16px",cursor:"pointer",maxHeight:"350px",flex:1},children:[!!n&&e!=="yield"&&h.jsx(z,{textAlign:"left",absolute:!0,sx:{height:"30px",top:"10px",paddingLeft:"16px",paddingRight:"16px",alignItems:"center",pointerEvents:"none"},children:h.jsx(C,{subdued:!0,children:y(w({value:n,code:v.USD}),"✱✱✱")})}),h.jsx(q,{id:p,data:T,options:{onHover:(l,o)=>l.type==="mousemove"&&c(o.length?o[0].index:null),elements:{bar:{borderRadius:{bottomLeft:50,bottomRight:50,topLeft:50,topRight:50},borderSkipped:!1,borderWidth:2,borderColor:"transparent"}},plugins:{legend:{display:!1},annotation:!1,tooltip:{mode:"nearest",yAlign:"center",displayColors:!1,titleFont:{size:12,weight:400,family:s.typography.fonts.medium},bodyFont:{size:13,weight:700,family:s.typography.fonts.medium},footerFont:{size:12,weight:400,family:s.typography.fonts.medium},caretPadding:10,caretSize:6,cornerRadius:4,padding:{top:8,bottom:8,left:12,right:12},backgroundColor:s.palette.designColors.icons.default,animation:{delay:200,duration:300},callbacks:{title:l=>{var o;return i==null?void 0:i.label[((o=l[0])==null?void 0:o.dataIndex)??0]},label:l=>{const o=l.dataset.label;return y(`${i[o][l.dataIndex].totalDistributedAmount.toFixed(5)} ${o==="KAU"?"g":"oz"}`)},footer:l=>{var _,u;const o=((_=l[0])==null?void 0:_.dataset.label)??"KAU";return y(`$${i[o][((u=l[0])==null?void 0:u.dataIndex)??0].totalDistributedUsdAmount.toFixed(2)}`,"✱✱✱✱")}}}},interaction:{intersect:!1,mode:"nearest"},scales:{x:{ticks:{font:{size:12,family:s.typography.fonts.medium}},stacked:!0,grid:{display:!1},border:{display:!1}},y:{display:e==="yield",stacked:!0,ticks:{callback:l=>w({value:l,code:v.USD})},grid:{display:!1}}},responsive:!0,maintainAspectRatio:!1},onMouseLeave:()=>setTimeout(()=>c(null),20)})]})},fe=()=>{const{formatMessage:t}=k();return{[d.TOTAL]:{title:t({id:"FCK14W",defaultMessage:[{type:0,value:"Yields Explained"}]}),titleInMenu:t({id:"U53PGK",defaultMessage:[{type:0,value:"Explained"}]}),text:t({id:"YSB+wv",defaultMessage:[{type:0,value:"The reason behind them, the problem they solve, and how they benefit you."}]}),videoId:"jifUFa-HVlE",imageKey:"yieldsExplainedYieldVideo",menuImageKey:"yieldThumbnailsYield",yieldType:d.TOTAL,length:"2:27"},[d.MINTERS]:{title:t({id:"g4oo+m",defaultMessage:[{type:0,value:"Minter's"}]}),titleInMenu:t({id:"g4oo+m",defaultMessage:[{type:0,value:"Minter's"}]}),text:t({id:"4E/4CF",defaultMessage:[{type:0,value:"Create digital gold and silver currencies via the Kinesis Mint"}]}),videoId:"kFBtJBldhwU",imageKey:"yieldsMintersYieldVideo",menuImageKey:"yieldThumbnailsMintersYield",yieldType:d.MINTERS,length:"3:34"},[d.HOLDERS]:{title:t({id:"Mn01nf",defaultMessage:[{type:0,value:"Holder's"}]}),titleInMenu:t({id:"Mn01nf",defaultMessage:[{type:0,value:"Holder's"}]}),text:t({id:"o+WZhm",defaultMessage:[{type:0,value:"Earn a monthly yield in gold and silver simply by holding"}]}),videoId:"87acx0SLCwg",imageKey:"yieldsHoldersYieldVideo",menuImageKey:"yieldThumbnailsHoldersYield",yieldType:d.HOLDERS,length:"2:48"},[d.REFERRERS]:{title:t({id:"NigbxD",defaultMessage:[{type:0,value:"Referrer's"}]}),titleInMenu:t({id:"NigbxD",defaultMessage:[{type:0,value:"Referrer's"}]}),text:t({id:"5WFBsB",defaultMessage:[{type:0,value:"Refer new users and receive a return on their transactions"}]}),videoId:"zBOAMDWZ2r0",imageKey:"yieldsReferrersYieldVideo",menuImageKey:"yieldThumbnailsReferrersYield",yieldType:d.REFERRERS,length:"2:11"},[d.VELOCITY]:{title:t({id:"tEZYUk",defaultMessage:[{type:0,value:"Velocity"}]}),titleInMenu:t({id:"tEZYUk",defaultMessage:[{type:0,value:"Velocity"}]}),text:t({id:"HG8q8M",defaultMessage:[{type:0,value:"Be rewarded every time you trade KAU and KAG on the Kinesis Exchange or spend it with your Kinesis card"}]}),videoId:"H3KDMJh79_0",imageKey:"yieldsVelocityYieldVideo",menuImageKey:"yieldThumbnailsVelocityYield",yieldType:d.VELOCITY,length:"1:44"},[d.KVT]:{title:"KVT",titleInMenu:t({id:"7vU1bq",defaultMessage:[{type:0,value:"Velocity Token"}]}),text:t({id:"cWAQx3",defaultMessage:[{type:0,value:"KVT holders receive a proportionate share of every transaction"}]}),videoId:"FSd7FVVep4o",imageKey:"yieldsKvtYieldVideo",menuImageKey:"yieldThumbnailsKvtYield",yieldType:d.KVT,length:"3:33"}}},_e={yieldThumbnailsYield:"Illustration/Thumbnails/Yield",yieldThumbnailsMintersYield:"Illustration/Thumbnails/MintersYield",yieldThumbnailsVelocityYield:"Illustration/Thumbnails/VelocityYield@",yieldThumbnailsReferrersYield:"Illustration/Thumbnails/ReferrersYield",yieldThumbnailsKvtYield:"Illustration/Thumbnails/KVTYield",yieldThumbnailsHoldersYield:"Illustration/Thumbnails/HoldersYield",yieldThumbnailsDYield:"Illustration/Thumbnails/DepositersYield",yieldsMintersYieldVideo:"Illustration/Video/Support/MintersYield",yieldsReferrersYieldVideo:"Illustration/Video/Support/ReferrersYield",yieldsVelocityYieldVideo:"Illustration/Thumbnails/VelocityYield@4.svg",yieldsHoldersYieldVideo:"Illustration/Video/Support/HoldersYield",yieldsKvtYieldVideo:"Illustration/Video/Support/KVTYield",yieldsExplainedYieldVideo:"Illustration/Video/Support/Yield"};export{ce as C,_e as V,oe as a,ne as b,fe as c,ue as d,ye as e,K as f,X as g,$ as i,re as u,se as y};
