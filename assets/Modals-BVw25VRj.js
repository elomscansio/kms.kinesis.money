var Ys = Object.defineProperty;
var Zs = (e, n, s) =>
  n in e
    ? Ys(e, n, { enumerable: !0, configurable: !0, writable: !0, value: s })
    : (e[n] = s);
var ge = (e, n, s) => Zs(e, typeof n != "symbol" ? n + "" : n, s);
import {
  F as W,
  j as t,
  R,
  t as p,
  w as l,
  C as k,
  P as Z,
  be as Ct,
  r as C,
  d as L,
  aZ as At,
  a$ as Js,
  I as J,
  h as Tt,
  u as Me,
  hi as Ye,
  o as Ne,
  b2 as $t,
  ai as ye,
  cr as ds,
  hj as ei,
  q as It,
  x as G,
  B as xe,
  ft as ze,
  aw as u,
  S as ae,
  bD as et,
  hk as ti,
  hl as ni,
  hm as si,
  c4 as en,
  fq as ii,
  hn as xt,
  dM as tn,
  bY as at,
  bo as ai,
  ho as oi,
  L as Dt,
  d7 as Ae,
  bX as cs,
  bv as tt,
  b$ as ri,
  an as wn,
  bL as Ft,
  b1 as fe,
  hp as li,
  aX as di,
  aY as ci,
  a_ as ui,
  M as je,
  hq as pi,
  eZ as hi,
  gF as fi,
  bi as ue,
  aF as Mn,
  b3 as nn,
  b4 as qt,
  c7 as sn,
  v as us,
  e as an,
  bg as Et,
  ax as Sn,
  aG as mi,
  f5 as gi,
  dN as ps,
  aT as hs,
  ch as fs,
  W as ms,
  z as gs,
  eY as xs,
  aE as xi,
  f2 as yi,
  c8 as Pe,
  hr as bi,
  h4 as kn,
  H as Ci,
  hs as vi,
  ht as ji,
  aH as wi,
} from "./index-B1IYvx0M.js";
import {
  u as Mi,
  I as Si,
  T as ki,
  H as Ai,
  B as Ti,
  W as Ze,
  F as $i,
  a as An,
  O as Ii,
} from "./OnBoardingPopUp-CbaltDgU.js";
import { N as F, a as A, b as V, G as on, A as Tn } from "./Names-CaXmBvXg.js";
import { L as ys } from "./Link-BO_AVVLF.js";
import { M as Te } from "./index-muQS-9Gf.js";
import { c as Di, k as Ei, a as bs } from "./index-J1GP0RDZ.js";
import { S as Ri } from "./SocialIconsComponent-Df_rkOm7.js";
import { a as Cs, Q as Bi, W as yt } from "./WideTab-DPA0T2DX.js";
import {
  b as Ni,
  v as rn,
  M as ln,
  a as dn,
  T as Pi,
} from "./SmsMfaForm-tzQNy6xh.js";
import { I as Le } from "./InputStatus-DpYcmRe_.js";
import { I as vs, a as he } from "./Input-U7WLNE8T.js";
import "./PasswordInput-BRrGqd8k.js";
import { M as Fi } from "./shared-CWEmH2rA.js";
import { C as Q, N as cn } from "./NetworkDropdown-k4y5Zlke.js";
import { i as js } from "./accounts-CTdEXpRp.js";
import {
  c as ws,
  a as Wt,
  o as Ms,
  u as un,
  d as $n,
} from "./index.esm-B2HhHynd.js";
import { D as Li } from "./Dropdown-B-BoUpC5.js";
import { C as Ss } from "./index-6vxM0M4a.js";
import { C as _e, u as Vi } from "./useValidationProfile-GhVRzjhp.js";
import "./shared-kyc.form-DU9uJhtw.js";
import {
  h as In,
  f as ie,
  b as vt,
  c as Gt,
  s as Dn,
  p as zi,
} from "./currencyFormatter-DqHkUfNj.js";
import { C as ot, b as oe, d as Oi, D as Ui } from "./CurrencyIcon-BSh20PSx.js";
import { g as Ue, a as pn } from "./getCurrencySymbol-U33HH9zA.js";
import { c as hn } from "./long-names-G_UIJH0E.js";
import { T as nt, a as st, b as En } from "./index-Chya3hTY.js";
import { C as Ht } from "./CopyButton-B2DA-KPK.js";
import { N as ks, i as _i, a as Ki } from "./order-source-yjVi4RrL.js";
import { i as Rn } from "./addressValid-Buha1cAs.js";
import { u as qi } from "./usePrivacyMode-sFMhOLJ_.js";
import { u as Rt } from "./useRequireStatus-C5948B1u.js";
import {
  u as fn,
  c as Wi,
  d as Gi,
  b as Hi,
  e as Xi,
} from "./index-CRD6nWau.js";
import { a as Xt } from "./index-CVGWP4XK.js";
import { S as Qi } from "./Checkbox-azwF4S2Y.js";
import { S as Yi } from "./Switch-mECX2JQG.js";
import { P as Zi } from "./authenticatedLayoutContainer-D7vnPwpX.js";
import { i as rt, a as Ji } from "./helpers-D0lXFcyB.js";
import { S as ve, D as Lt } from "./legacy-enums-BdcxKfbC.js";
import { e as ea, s as ta, b as As } from "./index-DcvGW77o.js";
import { i as Ts, F as na } from "./fiat-currencies-4YJiRIqJ.js";
import {
  C as mn,
  L as $s,
  c as sa,
  d as ia,
  a as Is,
  D as Ds,
} from "./legacy-fonts-BbYsH4nw.js";
import { w as Qt } from "./WithLoaderHOC-BhoisqRA.js";
import { C as Bn } from "./CurrencyLabel-DGg5vM54.js";
import { a as Es } from "./helpers-BxXgrS-G.js";
import { M as aa } from "./mint-account-linking-status-DwXMEDoo.js";
import { V as Je, B as jt } from "./ValidBanks-pLLmmmje.js";
import { S as oa } from "./socket-client-ClPHFSdE.js";
import { b as ra } from "./BankInformation-DCMXwYv_.js";
import { a as la, h as da } from "./visitHistory-VyF4gOMN.js";
import {
  h as ca,
  i as Bt,
  j as ua,
  k as pa,
  u as ha,
  l as fa,
  m as Rs,
  A as ma,
  n as ga,
} from "./index-D8Aj9pZI.js";
import { d as Bs } from "./index-D4hGd7fZ.js";
import { D as Yt } from "./Divider-DtXA8bzM.js";
import { P as xa, B as ya } from "./PaybisButton-CLNx20jt.js";
import { O as ct } from "./order-direction-B5kfqJoW.js";
import "./index-DWKsSpgP.js";
import "./muiSxMerge-By-TMpOR.js";
import "./index-BBKt8-YL.js";
import "./index-C7glG_Ry.js";
import "./useSlot-DZH0Y2jJ.js";
import "./Menu-CbwN-UdZ.js";
import "./DialogContent-A833hUPt.js";
import "./index-iGSc46GB.js";
import "./Tooltip-QCFsSCkk.js";
import "./useFormControl-B5X7CYHM.js";
import "./createPopper-DLtJTqii.js";
import "./MaskedInput-CGosAaON.js";
import "./react-number-format.es-D6j4F3wj.js";
import "./index.esm-h9f6KZvT.js";
import "./TextField-DL0nOe5P.js";
import "./_getTag-BBZl3NB0.js";
import "./isObjectLike-BR2ybR99.js";
import "./_Map-Dn69b_0d.js";
import "./isObject-C3e4t58V.js";
import "./isArray-Dxzbedgu.js";
import "./index-DamApG0r.js";
import "./index-BdZiPhrX.js";
import "./order-type-BEH08Hfo.js";
import "./executed-orders.listener-GkgxCqGH.js";
import "./depth.listener-Bb9oU3qt.js";
import "./index-DQUs1ZHf.js";
import "./SegmentedTab-Bx0ApLVn.js";
import "./Tabs-nCopnh2s.js";
import "./capitalize-Crm3kySE.js";
import "./toString-BcLWPS8a.js";
import "./isSymbol-CPa7d4e7.js";
import "./upperFirst-DZHx3_7l.js";
import "./_baseSlice-F8doVSIJ.js";
import "./index-DeSxTRGL.js";
import "./Skeleton-D3zW9zfH.js";
import "./stellar-sdk.min-BPOzoUh5.js";
import "./index-DFdZF_Yd.js";
import "./index-DMBgV4GW.js";
import "./feature-flag-CBj2T29d.js";
import "./useGaTitle-Cd3oRIF0.js";
import "./useRoute-R5W9bIdF.js";
import "./index-Do1i7yHT.js";
import "./BubbleTab-BNonz68w.js";
import "./MenuItem-wDwmnSJr.js";
import "./dividerClasses-CKrR6pKE.js";
import "./index-Sia8Y9vT.js";
import "./IconButton-ClDlR7xP.js";
import "./index-D-VgVBE8.js";
import "./index-CW25_mQq.js";
import "./short-names-CEnQyANM.js";
import "./Collapse-UbjukSi0.js";
import "./index-PlqyMyPw.js";
import "./pill-oEl8g0mz.js";
import "./useCorporateAccounts-DAIK1YLZ.js";
import "./index-C4mvAiZ8.js";
import "./useIndividualAccount-B9oo-q0C.js";
import "./index-dgZWCLOJ.js";
import "./index-B2skL3Es.js";
import "./DropdownChipBase-Tvm1Fi1i.js";
import "./Chip-BmP1UBlr.js";
import "./Alert-D9otgbzb.js";
import "./chart-VlffLmI0.js";
import "./index.es-B63JM6fg.js";
import "./index-Bo_9n-PG.js";
import "./useOverflowFade-BK4lhouq.js";
import "./Action-Chaeft7b.js";
import "./DialogActions-CR6pyUZM.js";
import "./Basic-C8TpTkuW.js";
const Ns = () => {
    const { formatMessage: e } = W(),
      n = ws().shape({
        email: Wt()
          .email(
            e({
              id: "5WgK3Y",
              defaultMessage: [{ type: 0, value: "Invalid email address" }],
            })
          )
          .required(
            e({
              id: "Mfnh24",
              defaultMessage: [{ type: 0, value: "email is a required field" }],
            })
          ),
      });
    return Ms(n);
  },
  ba = l(k)`
  height: 100%;
  gap: 24px;
  border-radius: 6px 6px 0px 0px;
  white-space: nowrap;
  padding: 64px 16px 16px 16px;
`,
  Ca = l(Z)`
  margin: 32px auto 0 auto;
  width: 100%;
`,
  va = l(Ct)`
  color: ${({ theme: e }) => e.palette.designColors.surface.default};
`,
  ja = l(ys)`
  position: absolute;
  top: 16px;
  right: 12px;
  cursor: pointer;
  z-index: 100;
`,
  wa = (e) => {
    const {
        type: n,
        onButtonClick: s,
        onExploreLater: i,
        onDontShowAgain: a,
        onCloseClick: o,
      } = e,
      r = Mi();
    return t.jsxs(ba, {
      children: [
        t.jsx(ja, {
          size: "small",
          onClick: o,
          children: t.jsx(F, {
            name: V.close,
            size: A.sixteen,
            iconSize: A.sixteen,
          }),
        }),
        t.jsx(Si, { src: on(r[n].image), alt: r[n].headingText }),
        t.jsxs(ki, {
          children: [
            t.jsx(Ai, {
              id: "onboardingPopUpHeading",
              "data-testid": "onboarding-pop-up-heading",
              children: r[n].headingText,
            }),
            t.jsx(Ti, { weight: "regular", children: r[n].bodyText }),
            s &&
              t.jsx(Ca, {
                "data-testid": "onboarding-pop-up-action-btn",
                onClick: s,
                size: "large",
                "data-cy": "onboarding-btn",
                children: t.jsxs(R, {
                  gap: "4px",
                  alignItems: "center",
                  children: [
                    t.jsx(F, {
                      name: V.KycVerified,
                      size: A.eighteen,
                      iconSize: A.eighteen,
                    }),
                    t.jsx(va, { weight: "bold", children: r[n].buttonText }),
                  ],
                }),
              }),
            n === Ze.welcomeFutureMoney &&
              t.jsxs($i, {
                children: [
                  t.jsx(An, {
                    onClick: i,
                    children: t.jsx(p, {
                      id: "C/BPjY",
                      defaultMessage: [{ type: 0, value: "Explore later" }],
                    }),
                  }),
                  t.jsx("span", {
                    children: t.jsx(p, {
                      id: "v8m94Z",
                      defaultMessage: [{ type: 0, value: "|" }],
                    }),
                  }),
                  t.jsx(An, {
                    onClick: a,
                    children: t.jsx(p, {
                      id: "OfQY5F",
                      defaultMessage: [{ type: 0, value: "Don't show again" }],
                    }),
                  }),
                ],
              }),
          ],
        }),
      ],
    });
  },
  Ma = (e) => {
    const { requiredType: n, attrs: s } = e,
      i = Me();
    switch (n) {
      case J.kycVerified:
      case J.documentVerificationFailure:
        return t.jsx(wa, {
          onButtonClick: s.buttonAction,
          type: s.type,
          onCloseClick: () => i(Ye()),
        });
      case J.registered:
      case J.emailVerified:
      case J.pendingManualCheck:
      case J.identityVerificationFailure:
      case J.documentVerificationCompleted:
      case "2FA":
        return t.jsx(Ii, { onButtonClick: s.buttonAction, type: s.type });
    }
  },
  Sa = () => {
    const e = L((f) => f.userAuth.securityState.open),
      n = L((f) => f.userAuth.securityState.required),
      s = L(At),
      i = L(Js),
      { data: a } = Di(),
      o = i === J.pendingManualCheck,
      r = Tt(),
      d = Me(),
      h = C.useMemo(() => {
        const f = () => {
            d(Ye()),
              s === $t.corporate
                ? r(
                    Ne.kyc.childRoutes.corporateAccount.childRoutes.verification
                      .path
                  )
                : r(Ne.kyc.path);
          },
          m = () => {
            d(Ye()), r(Ne.settings.childRoutes.security.path);
          },
          c = () => {
            d(Ye()), r(Ne.support.childRoutes.contact.path);
          };
        switch (n) {
          case J.registered:
          case J.emailVerified:
          case J.kycVerified:
          case J.documentVerificationFailure:
          case J.pendingManualCheck:
          case J.identityVerificationFailure:
          case J.documentVerificationCompleted:
            return a
              ? { type: Ze.underage, buttonAction: c }
              : o
              ? { type: Ze.kycPending, buttonAction: c }
              : { type: Ze.kyc, buttonAction: f };
          case "2FA":
            return { type: Ze.mfa, buttonAction: m };
        }
      }, [s, d, a, o, r, n]);
    return t.jsx(Te, {
      open: e,
      onClose: () => d(Ye()),
      hidePuller: !0,
      bodyStyle: { padding: 0 },
      children: h && t.jsx(Ma, { attrs: h, requiredType: n }),
    });
  },
  ka = C.memo(Sa),
  gn = l("span")`
  font-size: 14px;
  line-height: 21px;
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
  color: ${({ theme: e }) => e.palette.designColors.text.default};
`,
  Ps = l(gn)`
  color: ${({ theme: e }) => e.palette.designColors.text.subdued};
`,
  Aa = { sendInviteEmail: ei.request, referModalControl: ds },
  Ta = l("span", { shouldForwardProp: G(["emailValid"]) })`
  display: flex;
  align-items: center;
  justify-content: center;

  height: 24px;
  font-size: 14px;
  border-radius: 12px;
  padding: 4px 8px;

  background-color: ${({ theme: e, emailValid: n }) =>
    n
      ? e.palette.designColors.surface.primary.default
      : e.palette.designColors.surface.critical.subdued};
`,
  $a = l("span", { shouldForwardProp: G(["emailValid"]) })`
  color: ${({ theme: e, emailValid: n }) =>
    n
      ? e.palette.designColors.interactive.primary.default
      : e.palette.designColors.text.critical};
`,
  Ia = l(F)`
  cursor: pointer;
`,
  Da = l(k)`
  width: 100%;
  gap: 4px;
`,
  Ea = (e) => {
    const { sendInviteEmail: n, messageText: s, referModalControl: i } = e,
      [a, o] = C.useState([]),
      [r, d] = C.useState(!1),
      [h, f] = C.useState(""),
      [m, c] = C.useState(!1),
      x = It(),
      { formatMessage: g } = W(),
      M = (v) => {
        a.splice(v, 1), o([...a]);
      },
      y = (v) => {
        c(!0), o([...a, { value: h, valid: r }]), (v.target.value = "");
      },
      b = (v) => {
        c(!1);
        const T = v.target.value.replace(/ /g, "");
        d(Ni(T)), f(T);
      },
      E = () => {
        m || a.push({ value: h, valid: !0 }),
          n({ invitationMessage: s, emails: a.map((v) => v.value) }),
          i({ refModalOpen: !1, emailInviteEnabled: !1 });
      };
    return t.jsxs(k, {
      gap: "16px",
      alignItems: "center",
      children: [
        t.jsxs(Da, {
          children: [
            t.jsxs(R, {
              justifyContent: "space-between",
              children: [
                t.jsx(gn, {
                  children: t.jsx(p, {
                    id: "La5HYq",
                    defaultMessage: [{ type: 0, value: "Invite via email" }],
                  }),
                }),
                t.jsx(Ps, {
                  children: t.jsx(p, {
                    id: "VZb4+Q",
                    defaultMessage: [
                      { type: 1, value: "length" },
                      { type: 0, value: "/" },
                      { type: 1, value: "maxLength" },
                    ],
                    values: { length: a.length, maxLength: 10 },
                  }),
                }),
              ],
            }),
            t.jsx(vs, {
              left: a.map((v, T) =>
                t.jsxs(
                  Ta,
                  {
                    emailValid: v.valid,
                    children: [
                      t.jsx($a, { emailValid: v.valid, children: v.value }),
                      t.jsx(Ia, {
                        name: V.cross,
                        fill: v.valid
                          ? x.palette.designColors.icons.interactive
                          : x.palette.designColors.icons.critical,
                        iconSize: A.fourteen,
                        size: A.sixteen,
                        onClick: () => M(T),
                      }),
                    ],
                  },
                  v.value
                )
              ),
              disabled: a.length >= 10,
              placeholder: a.length
                ? ""
                : g({
                    id: "hJZwTS",
                    defaultMessage: [{ type: 0, value: "Email address" }],
                  }),
              type: "text",
              onKeyUp: (v) =>
                (v.key === "Enter" || v.keyCode === 32) && r ? y(v) : null,
              onChange: (v) => b(v),
              multiline: !0,
              sx: {
                ".MuiInputBase-input": { padding: "0 !important" },
                ".MuiInputBase-root": {
                  display: "flex",
                  flexDirection: "row",
                  padding: "10px 12px !important",
                  flexWrap: "wrap",
                  gap: "8px",
                },
              },
            }),
            t.jsx(Le, {
              type: "error",
              visible: !r && !!h,
              children: t.jsx(p, {
                id: "oXg7aj",
                defaultMessage: [
                  {
                    type: 0,
                    value: "The email address you entered is not valid",
                  },
                ],
              }),
            }),
          ],
        }),
        t.jsx(Z, {
          size: "large",
          onClick: () => E(),
          disabled: !r,
          "data-cy": "email-list-input-invite-btn",
          children: t.jsx(p, {
            id: "Q2l0OG",
            defaultMessage: [
              { type: 0, value: "Send " },
              {
                type: 6,
                value: "multiple",
                options: {
                  "=0": { value: [{ type: 0, value: "invitation" }] },
                  other: { value: [{ type: 0, value: "invitations" }] },
                },
                offset: 0,
                pluralType: "cardinal",
              },
            ],
            values: { multiple: Number(a.length) },
          }),
        }),
      ],
    });
  },
  Ra = ye(null, Aa)(Ea),
  Ba = l(k)`
  padding: 24px;
  width: 500px;
  @media screen and (max-width: ${({ theme: e }) =>
    `${e.breakpoints.values.sm}px`}) {
    width: 100%;
    padding: 0 8px 8px 8px;
  }
`,
  Na = l(R)`
  gap: 16px;
  border-radius: 12px;
  align-items: center;
  justify-content: space-between;
  border: 1px solid ${({ theme: e }) => e.palette.designColors.borders.subdued};
`,
  Pa = l("img")`
  width: 100%;
  height: 190px;
  border-radius: 12px 0 0 12px;

  @media screen and (max-width: ${({ theme: e }) =>
    `${e.breakpoints.values.sm}px`}) {
    height: auto;
    border-radius: 12px;
  }
`,
  Fa = l(Cs)`
  width: 70px !important;
  height: 70px !important;
  margin-right: 16px;

  @media screen and (max-width: ${({ theme: e }) =>
    `${e.breakpoints.values.sm}px`}) {
    display: none;
  }
`;
function La(e) {
  const { formatMessage: n } = W(),
    s = n({
      id: "CAM7HV",
      defaultMessage: [
        {
          type: 0,
          value:
            "Kinesis is the most simple, cost-effective platform for buying, trading and spending physical gold and silver.",
        },
      ],
    }),
    { refCode: i, inviteViaEmail: a } = e,
    o = e.link ?? `https://kms.kinesis.money/signup/${i}`,
    [r, d] = C.useState(s),
    h = C.useRef(null),
    f = n(
      {
        id: "P0koqo",
        defaultMessage: [
          {
            type: 0,
            value:
              "To claim half an ounce of silver from Kinesis Money, start by signing up for free with my referral link: ",
          },
          { type: 1, value: "link" },
        ],
      },
      { link: o }
    );
  return t.jsxs(Ba, {
    gap: "24px",
    children: [
      t.jsxs(Na, {
        children: [
          t.jsx(Pa, { src: on(V.referPopUpImage, !0) }),
          t.jsx(Fa, { value: o }),
        ],
      }),
      t.jsxs(k, {
        gap: "4px",
        children: [
          t.jsxs(R, {
            justifyContent: "space-between",
            children: [
              t.jsx(gn, {
                children: t.jsx(p, {
                  id: "t3WXkE",
                  defaultMessage: [{ type: 0, value: "Your message" }],
                }),
              }),
              t.jsx(Ps, {
                children: t.jsx(p, {
                  id: "VZb4+Q",
                  defaultMessage: [
                    { type: 1, value: "length" },
                    { type: 0, value: "/" },
                    { type: 1, value: "maxLength" },
                  ],
                  values: { length: r.length, maxLength: 150 },
                }),
              }),
            ],
          }),
          t.jsx(vs, {
            ref: h,
            slotProps: { htmlInput: { maxLength: 150 } },
            right: t.jsx(xe, { subdued: !0, children: f }),
            multiline: !0,
            defaultValue: r,
            onChange: (m) => {
              d(m.target.value),
                (h.current.style.height = h.current.scrollHeight + "px");
            },
            sx: {
              ".MuiInputBase-input": { padding: "0 !important" },
              ".MuiInputBase-root": {
                display: "flex",
                flexDirection: "column",
                padding: "10px 12px !important",
                gap: "8px",
              },
            },
          }),
        ],
      }),
      a && t.jsx(Ra, { messageText: r }),
      t.jsx(R, {
        justifyContent: "center",
        children: t.jsx(Ri, {
          message: `${r}
${f}`,
          popUp: !0,
        }),
      }),
    ],
  });
}
const Va = ({
    referrals: {
      referrerLink: { activeCode: e },
    },
    uiState: {
      global: {
        refModal: { refModalOpen: n, emailInviteEnabled: s, link: i },
      },
    },
  }) => ({ activeCode: e, refModalOpen: n, emailInviteEnabled: s, link: i }),
  za = { referModalControl: ds },
  Oa = (e) => {
    const {
        activeCode: n,
        link: s,
        referModalControl: i,
        refModalOpen: a,
        emailInviteEnabled: o,
      } = e,
      r = () => i({ refModalOpen: !1, link: void 0 });
    return t.jsxs(Te, {
      open: a,
      onClose: () => r(),
      hidePuller: !0,
      size: "sm",
      children: [
        t.jsx(Fi, {
          children: t.jsx(p, {
            id: "hYOE+U",
            defaultMessage: [{ type: 0, value: "Invite" }],
          }),
        }),
        t.jsx(k, {
          alignItems: "center",
          children: t.jsx(La, { link: s, refCode: n, inviteViaEmail: o }),
        }),
      ],
    });
  },
  Ua = ye(Va, za)(Oa),
  Fs = (e, n, s) => {
    const i = e[n];
    return (
      s && ze.includes(n) && [Q.ethereum, Q.stellar].includes(s)
        ? i.find((o) => o.network === s)
        : i.find((o) => o.isDefaultNetwork)
    ).minimumAmount;
  },
  Ls = (e, n) =>
    [u.XLM, u.XRP, u.GBX, u.XAU, u.XAA, u.ATOM, u.HBAR, u.INJ, u.KVT].includes(
      e
    ) || n === Q.stellar,
  xn = (e) =>
    e === u.USD1 ? Q.stellar : ze.includes(e) ? Q.ethereum : Q.default,
  bt = (e, n, s) => {
    const i = e[n];
    if (s && ze.includes(n) && [Q.ethereum, Q.stellar].includes(s)) {
      const a = i.cryptoNetworkWithdrawalConfig[s];
      if (a) return a;
    }
    return i;
  },
  wt = {
    [u.KAU]: "0.00000",
    [u.KAG]: "0.00000",
    [u.BTC]: "0.00000000",
    [u.ETH]: "0.000000",
    [u.USDT]: "0.000000",
    [u.KVT]: "0",
    [u.USD]: "$0.00",
    [u.EUR]: "€0.00",
    [u.GBP]: "£0.00",
    [u.LTC]: "0.00000000",
    [u.BCH]: "0.00000000",
    [u.DASH]: "0.00000000",
    [u.XRP]: "0.000000",
    [u.ADA]: "0.000000",
    [u.AUD]: "A$0.00",
    [u.CAD]: "C$0.00",
    [u.SGD]: "S$0.00",
    [u.CHF]: "Fr0.00",
    [u.AED]: "0.00",
    [u.XLM]: "0.0000000",
    [u.XDC]: "0.00000",
    [u.USDC]: "0.000000",
    [u.KES]: "0.00",
    [u.GBX]: "0.0000000",
    [u.XAU]: "0.0000000",
    [u.XAA]: "0.0000000",
    [u.USD1]: "0.0000000",
    [u.ATOM]: "0.000000",
    [u.LINK]: "0.00000000",
    [u.MATIC]: "0.00000000",
    [u.UNI]: "0.00000000",
    [u.AVAX]: "0.00000000",
    [u.SOL]: "0.00000000",
    [u.DOT]: "0.00000000",
    [u.TRX]: "0.000000",
    [u.BNB]: "0.00000000",
    [u.COMP]: "0.00000000",
    [u.XTZ]: "0.00000000",
    [u.FTM]: "0.00000000",
    [u.S]: "0.00000000",
    [u.RENDER]: "0.00000000",
    [u.DAI]: "0.0000000",
    [u.ALGO]: "0.000000",
    [u.MKR]: "0.00000000",
    [u.HBAR]: "0.00000000",
    [u.QNT]: "0.00000000",
    [u.AAVE]: "0.0000000",
    [u.YFI]: "0.00000000",
    [u.BAT]: "0.00000000",
    [u.ZRX]: "0.00000000",
    [u.GALA]: "0.00000000",
    [u.LDO]: "0.00000000",
    [u.IMX]: "0.00000000",
    [u.HNT]: "0.00000000",
    [u.OM]: "0.00000000",
    [u.ARB]: "0.00000000",
    [u.DOGE]: "0.00000000",
    [u.EOS]: "0.00000000",
    [u.NEAR]: "0.00000000",
    [u.POL]: "0.00000000",
    [u["1INCH"]]: "0.00000000",
    [u.ANKR]: "0.00000000",
    [u.FET]: "0.00000000",
    [u.INJ]: "0.00000000",
    [u.SEI]: "0.00000000",
  };
var Zt = ((e) => ((e.INDIVIDUAL = "INDIVIDUAL"), (e.BUSINESS = "BUSINESS"), e))(
  Zt || {}
);
const _a = l("div")`
  width: 100%;
  height: 100%;
  max-height: 70dvh;
  overflow-y: auto;
  @media only screen and (max-width: 600px) {
    max-height: 65dvh;
  }
`,
  ut = l("div")`
  font-size: 14px;
  line-height: 21px;
  margin-bottom: 8px;
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
  color: ${({ theme: e }) => e.palette.designColors.text.strong};
`,
  Ka = l(_e)`
  margin-bottom: 32px;
`,
  qa = l("div")`
  width: 100%;
  height: 55px;
  border: 1px solid ${({ theme: e }) =>
    e.palette.designColors.borders.disabled};
  border-radius: 4px;
  display: flex;
  margin: auto;
  box-sizing: border-box;
  flex-direction: row;

  p {
    width: 50%;
    display: flex;
    justify-content: flex-end;
    margin: 0;
    padding: 5px;

    span {
      text-align: center;
      align-self: center;
      margin-right: 16px;
      font-size: 13px;
      line-height: 16px;
      font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
    }
  }

  img {
    margin-bottom: auto;
    margin-top: auto;
    margin-right: -8px;
  }
`,
  Nn = l("input")`
  font-size: 18px;
  line-height: 26px;
  margin: auto 8px;
  outline: none;
  border: none;
  text-align: end;
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
  max-width: 70%;
  height: 100%;
  width: 100%;

  ::placeholder {
    color: ${({ theme: e }) => e.palette.designColors.text.subdued};
  }
`,
  Wa = l("span")`
  border-left: 1px ${({ theme: e }) =>
    e.palette.designColors.borders.disabled} solid;
  display: flex;
  justify-content: flex-end;
  margin: 0;
  padding: 5px;
  width: 0;
`,
  Ga = l("div")`
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
  font-size: 14px;
  line-height: 30px;
  letter-spacing: -0.3px;
  color: ${({ theme: e }) => e.palette.designColors.text.strong};
`,
  Ha = l("div")`
  padding-top: 32px;
`,
  pt = l("div")`
  align-self: center;
  padding-bottom: 3px;
  padding-right: 8px;
`,
  Xa = l("div")`
  width: 100%;
  height: 55px;
  border-radius: 4px;
  display: flex;
  box-sizing: border-box;
  flex-direction: row;
  margin: 0 auto 8px auto;
`,
  Vs = {
    INDIVIDUAL: et`
    border-top-left-radius: 4px;
    border-bottom-left-radius: 4px;
  `,
    BUSINESS: et`
    border-top-right-radius: 4px;
    border-bottom-right-radius: 4px;
  `,
  },
  zs = l("div", { shouldForwardProp: G(["selected", "tab"]) })`
  cursor: pointer;
  display: flex;
  flex-direction: row;
  align-items: center;
  padding: 0 17px;
  width: 50%;
  border: 1px solid ${({ theme: e }) =>
    e.palette.designColors.borders.disabled};
  justify-content: flex-start;
  img {
    padding-right: 13px;
    height: fit-content;
  }
`,
  Qa = l(zs, { shouldForwardProp: G(["selected", "tab"]) })`
  border-right: none;
  border-top-left-radius: 3px;
  border-bottom-left-radius: 3px;
  ${({ selected: e, theme: n, tab: s }) =>
    e &&
    et`
      border: 1px solid ${n.palette.designColors.interactive.primary.default};
      ${Vs[s]}
    `}
`,
  Ya = l(zs, { shouldForwardProp: G(["selected", "tab"]) })`
  border-left: none;
  border-top-right-radius: 3px;
  border-bottom-right-radius: 3px;
  ${({ selected: e, theme: n, tab: s }) =>
    e &&
    et`
      border: 1px solid ${n.palette.designColors.interactive.primary.default};
      ${Vs[s]}
    `}
`,
  Pn = l("div", { shouldForwardProp: G(["selected"]) })`
  font-size: 14px;
  line-height: 21px;
  font-family: ${({ theme: e }) => e.typography.fonts.medium};

  color: ${({ selected: e, theme: n }) =>
    e
      ? n.palette.designColors.interactive.primary.default
      : n.palette.designColors.text.subdued};
`,
  Za = l("div")`
  display: flex;
  flex-direction: row;
  justify-content: center;
  width: 100%;
  height: 56px;
  border: 1px solid ${({ theme: e }) =>
    e.palette.designColors.borders.disabled};
  border-radius: 4px;
`,
  Ja = l("input")`
  border: none;
  outline: none;
  width: 100%;
  padding: 0 20px;
  border-radius: 4px;
  color: ${(e) => e.theme.palette.designColors.text.default};
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
  font-size: 14px;
  line-height: 21px;

  ::placeholder {
    color: ${(e) => e.theme.palette.designColors.text.subdued};
  }
`,
  eo = l("div")`
  display: flex;
  flex-direction: column;
  padding-right: 20px;
  justify-content: center;
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
  font-size: 14px;
  line-height: 21px;
  color: ${(e) => e.theme.palette.designColors.text.subdued};
  white-space: nowrap;
`,
  to = l("div")`
  width: 100%;
  display: flex;
  flex-direction: row;
  height: 56px;
  padding-bottom: 32px;
`,
  no = l("div")`
  width: 100%;
  margin-top: 32px;
`,
  so = l("div")`
  width: 25px;
  height: 25px;
  border-radius: 50%;
  z-index: 1;
  margin-right: -13px;
  margin-top: 13px;
  display: flex;
  align-items: center;
  border: 1px solid ${({ theme: e }) =>
    e.palette.designColors.borders.disabled};
  background-color: ${({ theme: e }) => e.palette.designColors.surface.default};
  padding: 6px;
`,
  io = l("div")`
  display: flex;
  justify-content: center;
  padding-top: 25px;
  padding-bottom: 25px;
  gap: 10px;
`,
  ao = l("div")`
  display: flex;
  flex-direction: row;
  justify-content: center;
  border: 1px solid ${({ theme: e }) =>
    e.palette.designColors.borders.disabled};
  border-radius: 4px;
  padding: 16px;
`,
  oo = l(F)`
  width: 24px;
  height: 24px;
  border-radius: 50%;
  padding: 7px 6px;
  background-color: ${({ theme: e }) =>
    e.palette.designColors.surface.disabled};
`,
  ro = l("input")`
  width: 100%;
  outline: none;
  border: none;
  color: ${({ theme: e }) => e.palette.designColors.text.default};
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
  font-size: 14px;
  margin-left: 12px;
  line-height: 21px;
  ::placeholder {
    color: ${({ theme: e }) => e.palette.designColors.text.subdued};
  }
`,
  lo = l("div")`
  margin-bottom: 32px;
`,
  co = (e) => {
    var M;
    const {
        selectedCurrency: n,
        reference: s,
        handleEmailChanged: i,
        email: a,
        cryptoNetwork: o,
        handleCryptoNetworkSelect: r,
      } = e,
      { register: d, formState: h } = un({ mode: "onChange", resolver: Ns() }),
      { errors: f } = h,
      { onChange: m, ...c } = d("email"),
      { formatMessage: x } = W(),
      g = ze.includes(n);
    return (
      C.useEffect(() => {
        const y = xn(n);
        r(y);
      }, [n]),
      t.jsxs(_a, {
        children: [
          t.jsx(ut, {
            children: t.jsx(p, {
              id: "Kxg6zV",
              defaultMessage: [{ type: 0, value: "I want to request" }],
            }),
          }),
          t.jsx(Ka, {
            showHorizontal: !0,
            defaultValue: n,
            options: e.currencyOptions,
            onChange: (y) => e.handleCurrencySelection(y),
            selectedCurrency: n,
          }),
          g
            ? t.jsxs(lo, {
                children: [
                  t.jsx(ut, {
                    children: t.jsx(p, {
                      id: "uRfNhn",
                      defaultMessage: [{ type: 0, value: "Network:" }],
                    }),
                  }),
                  t.jsx(cn, {
                    currentCryptoNetwork: o,
                    setNetwork: (y) => {
                      r(y);
                    },
                  }),
                ],
              })
            : "",
          t.jsx(ut, {
            children: t.jsx(p, {
              id: "/0TOL5",
              defaultMessage: [{ type: 0, value: "Amount" }],
            }),
          }),
          t.jsxs(qa, {
            children: [
              t.jsxs("p", {
                children: [
                  t.jsx(Nn, {
                    type: "text",
                    placeholder: wt[n],
                    onChange: (y) =>
                      In({
                        value: y.target.value,
                        currencyCode: n,
                        handler: (b) => {
                          e.handleChangeSelectedCurrencyAmount(b);
                        },
                      }),
                    value: e.selectedCurrencyAmount ?? "",
                  }),
                  t.jsx("span", { children: n }),
                ],
              }),
              t.jsx(so, {
                children: t.jsx(F, { name: V.approximation, size: A.twelve }),
              }),
              t.jsx(Wa, {}),
              t.jsxs("p", {
                children: [
                  t.jsx(Nn, {
                    type: "text",
                    placeholder: wt[n],
                    onChange: (y) =>
                      In({
                        value: y.target.value,
                        currencyCode: u.USD,
                        handler: (b) => {
                          e.handleChangeUSDAmount(b);
                        },
                      }),
                    value: e.USDAmount ?? "",
                  }),
                  t.jsx("span", {
                    children: t.jsx(p, {
                      id: "hCQDkn",
                      defaultMessage: [{ type: 0, value: "USD" }],
                    }),
                  }),
                ],
              }),
            ],
          }),
          e.isAmountBelowMinimumDepositAmount &&
            t.jsx(Le, {
              type: "caution",
              visible: e.isAmountBelowMinimumDepositAmount,
              children: e.isAmountBelowMinimumDepositAmount
                ? t.jsx(p, {
                    id: "kwluDR",
                    defaultMessage: [
                      { type: 0, value: "Amount below allowed minimum of " },
                      { type: 1, value: "depositMinimumAmounts" },
                      { type: 0, value: " " },
                      { type: 1, value: "selectedCurrency" },
                    ],
                    values: {
                      depositMinimumAmounts: Fs(e.depositMinimumAmounts, n, o),
                      selectedCurrency: n,
                    },
                  })
                : "",
            }),
          t.jsxs("div", {
            children: [
              t.jsx(Ga, {
                children: t.jsx(Ha, {
                  children: t.jsx(p, {
                    id: "9j3hXO",
                    defaultMessage: [{ type: 0, value: "To" }],
                  }),
                }),
              }),
              t.jsxs(Xa, {
                children: [
                  t.jsxs(Qa, {
                    selected: e.selectedReceiverType === "INDIVIDUAL",
                    tab: "INDIVIDUAL",
                    onClick: () => e.handleStateChange("INDIVIDUAL"),
                    children: [
                      e.selectedReceiverType === "INDIVIDUAL"
                        ? t.jsx(pt, {
                            children: t.jsx(F, {
                              name: V.profile,
                              fill: (y) =>
                                y.palette.designColors.icons.interactive,
                              size: A.sixteen,
                            }),
                          })
                        : t.jsx(pt, {
                            children: t.jsx(F, {
                              name: V.profile,
                              fill: (y) =>
                                y.palette.designColors.icons.disabled,
                              size: A.sixteen,
                            }),
                          }),
                      t.jsx(Pn, {
                        selected: e.selectedReceiverType === "INDIVIDUAL",
                        children: t.jsx(p, {
                          id: "IgB6GU",
                          defaultMessage: [{ type: 0, value: "Individual" }],
                        }),
                      }),
                    ],
                  }),
                  t.jsxs(Ya, {
                    selected: e.selectedReceiverType === "BUSINESS",
                    tab: "BUSINESS",
                    onClick: () => e.handleStateChange("BUSINESS"),
                    children: [
                      e.selectedReceiverType === "BUSINESS"
                        ? t.jsx(pt, {
                            children: t.jsx(F, {
                              name: V.commercialCentre,
                              fill: (y) =>
                                y.palette.designColors.icons.interactive,
                              size: A.sixteen,
                            }),
                          })
                        : t.jsx(pt, {
                            children: t.jsx(F, {
                              name: V.commercialCentre,
                              fill: (y) =>
                                y.palette.designColors.icons.disabled,
                              size: A.sixteen,
                            }),
                          }),
                      t.jsx(Pn, {
                        selected: e.selectedReceiverType === "BUSINESS",
                        children: t.jsx(p, {
                          id: "w1Fanr",
                          defaultMessage: [{ type: 0, value: "Business" }],
                        }),
                      }),
                    ],
                  }),
                ],
              }),
              t.jsxs(ao, {
                children: [
                  t.jsx(oo, { name: V.email, size: A.twelve }),
                  t.jsx(ro, {
                    ...c,
                    autoComplete: "off",
                    type: "email",
                    placeholder: x({
                      id: "vMBAEW",
                      defaultMessage: [
                        {
                          type: 0,
                          value: "Enter email address to request a payment",
                        },
                      ],
                    }),
                    onChange: (y) => {
                      m(y), i(y.target.value);
                    },
                    value: a,
                  }),
                ],
              }),
              t.jsx(Le, {
                visible: !!f.email,
                type: "error",
                children: (M = f.email) == null ? void 0 : M.message,
              }),
            ],
          }),
          t.jsxs(no, {
            children: [
              t.jsx(ut, {
                children: t.jsx(p, {
                  id: "mcUhhf",
                  defaultMessage: [{ type: 0, value: "Reference" }],
                }),
              }),
              t.jsx(to, {
                children: t.jsxs(Za, {
                  ...e,
                  children: [
                    t.jsx(Ja, {
                      ...e,
                      name: "description",
                      placeholder: x({
                        id: "bZenNC",
                        defaultMessage: [
                          { type: 0, value: "Description (optional)" },
                        ],
                      }),
                      value: s,
                      maxLength: e.maxReferenceCharLimit,
                      onChange: (y) => {
                        ((e.referenceLength >= 25 ||
                          y.target.value.length > 25) &&
                          y.target.value.length > s.length) ||
                          e.handleReferenceChange(y.target.value);
                      },
                    }),
                    t.jsx(eo, {
                      children: t.jsx(p, {
                        id: "VZb4+Q",
                        defaultMessage: [
                          { type: 1, value: "length" },
                          { type: 0, value: "/" },
                          { type: 1, value: "maxLength" },
                        ],
                        values: {
                          length: e.referenceLength,
                          maxLength: e.maxReferenceCharLimit,
                        },
                      }),
                    }),
                  ],
                }),
              }),
            ],
          }),
          t.jsxs(io, {
            children: [
              t.jsx(ae, {
                size: "large",
                onClick: e.handleCancelClick,
                "data-cy": "request-form-cancel-btn",
                children: t.jsx(p, {
                  id: "47FYwb",
                  defaultMessage: [{ type: 0, value: "Cancel" }],
                }),
              }),
              t.jsx(Z, {
                disabled: e.nextDisabled,
                size: "large",
                onClick: e.handleRequestNextClick,
                "data-cy": "request-form-next-btn",
                children: t.jsx(p, {
                  id: "9+Ddtu",
                  defaultMessage: [{ type: 0, value: "Next" }],
                }),
              }),
            ],
          }),
        ],
      })
    );
  },
  Os = l("table")`
  border-spacing: 0;
  width: 100%;
`,
  Nt = l("th")`
  text-align: left;
  padding: 12px 0px;
  font-size: 13px;
  line-height: 16px;
  font-family: ${({ theme: e }) => e.typography.fonts.regular};
  color: ${({ theme: e }) => e.palette.designColors.text.tertiary};
  border-top: 1px solid ${({ theme: e }) =>
    e.palette.designColors.borders.subdued};
  border-right: 1px solid ${({ theme: e }) =>
    e.palette.designColors.borders.subdued};
`,
  Pt = l("td")`
  text-align: right !important;
  padding: 12px 0px;
  font-size: 13px;
  line-height: 16px;
  font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
  border-top: 1px solid ${({ theme: e }) =>
    e.palette.designColors.borders.subdued};
`,
  uo = l("div")`
  display: flex;
  flex-direction: column;
  align-items: center;
`,
  po = l("div")`
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 0px 32px 32px 32px;
  font-size: 14px;
  padding: 0 32px;
  width: 100%;
  background-color: ${({ theme: e }) => e.palette.designColors.surface.default};
  font-family: ${({ theme: e }) => e.typography.fonts.regular};
`,
  ho = l("div")`
  text-align: center;
  font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
`,
  fo = l("div")`
  font-size: 14px;
  text-align: center;
  margin-bottom: 8px;
  font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
`,
  mo = l("div")`
  display: flex;
  flex-direction: row;
  justify-content: left;
  align-items: center;
  border: 1px solid ${({ theme: e }) => e.palette.designColors.borders.subdued};
  height: 56px;
  width: max-content;
  border-radius: 28px;
  padding-left: 12px;
  padding-right: 20px;
  margin-top: 8px;
  margin-bottom: 16px;
`,
  go = l("div")`
  display: flex;
  font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
  font-size: 13px;
  text-align: center;
  border: 1px solid ${({ theme: e }) => e.palette.designColors.borders.subdued};
  border-radius: 28px;
  padding: 12px 16px;
  max-width: 360px;
  margin-bottom: 32px;
  word-break: break-word;
`,
  xo = l(ot)`
  width: 32px;
  margin: 12px 8px;
  border-radius: 50%;
`,
  yo = l("div")`
  display: flex;
  flex-direction: column;
  justify-content: left;
`,
  bo = l("span")`
  font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
`,
  Co = l("span")`
  ${({ theme: e }) => e.palette.designColors.text.tertiary};
`,
  vo = l(Nt)`
  font-size: 16px;
  color: ${({ theme: e }) =>
    e.palette.designColors.greyscale.black.default} !important;
  font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
  border-bottom: 1px solid ${({ theme: e }) =>
    e.palette.designColors.borders.subdued};
`,
  jo = l(Pt)`
  color: ${({ theme: e, code: n }) =>
    e.palette.colorPalette.currencies[n].default};
  font-size: 18px;
  font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
  border-bottom: 1px solid ${({ theme: e }) =>
    e.palette.designColors.borders.subdued};
`,
  wo = l("span", { shouldForwardProp: G(["currencyCode"]) })`
  font-size: 10px;
  margin-top: 1px;
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
  color: ${({ theme: e }) => e.palette.designColors.text.subdued};

  &::before {
    content: '${({ currencyCode: e }) => Ue(e)}';
  }
`,
  Mo = l("div", { shouldForwardProp: G(["code"]) })`
  color: ${({ code: e, theme: n }) =>
    n.palette.colorPalette.currencies[e].default};
  &::before {
    content: '${({ code: e }) => Ue(e)}';
  }
`,
  So = l(Pt)`
  word-break: break-word;
  padding-left: 10px;
`,
  ko = l(Nt)`
  margin-right: 22px;
  width: 40%;
`,
  Ao = l("div")`
  display: flex;
  flex-direction: row;
  margin-top: 32px;
  margin-bottom: 16px;
  button {
    margin-left: 4px;
    margin-right: 4px;
  }
`,
  To = (e) =>
    t.jsxs(uo, {
      children: [
        t.jsxs(po, {
          children: [
            t.jsx(ho, {
              children: t.jsx(p, {
                id: "/NfaW5",
                defaultMessage: [{ type: 0, value: "You are requesting" }],
              }),
            }),
            t.jsxs(mo, {
              children: [
                t.jsx(xo, { currencyCode: e.currencyCode }),
                t.jsxs(yo, {
                  children: [
                    t.jsx(bo, { children: hn[e.currencyCode] }),
                    t.jsx(Co, { children: e.currencyCode }),
                  ],
                }),
              ],
            }),
            t.jsx(fo, {
              children: t.jsx(p, {
                id: "dM+p3/",
                defaultMessage: [{ type: 0, value: "From" }],
              }),
            }),
            t.jsx(go, { children: e.targetEmail }),
          ],
        }),
        t.jsxs(Os, {
          children: [
            t.jsxs("tr", {
              children: [
                t.jsx(ko, {
                  children: t.jsx(p, {
                    id: "mcUhhf",
                    defaultMessage: [{ type: 0, value: "Reference" }],
                  }),
                }),
                t.jsx(So, { children: e.reference }),
              ],
            }),
            t.jsxs("tr", {
              children: [
                t.jsx(vo, {
                  children: t.jsx(p, {
                    id: "MJ2jZQ",
                    defaultMessage: [{ type: 0, value: "Total" }],
                  }),
                }),
                t.jsxs(jo, {
                  code: e.currencyCode,
                  children: [
                    t.jsx("span", {
                      children: t.jsx(Mo, {
                        code: e.currencyCode,
                        children: ie(
                          { code: e.currencyCode, value: e.amount },
                          { appendCurrencyCode: !0 }
                        ),
                      }),
                    }),
                    t.jsxs(wo, {
                      ...e,
                      children: [e.usdAmount.toFixed(2), " ", u.USD],
                    }),
                  ],
                }),
              ],
            }),
          ],
        }),
        t.jsxs(Ao, {
          children: [
            t.jsx(ae, {
              onClick: e.onBackClicked,
              "data-cy": "request-form-confirm-back-btn",
              children: t.jsx(p, {
                id: "cyR7Kh",
                defaultMessage: [{ type: 0, value: "Back" }],
              }),
            }),
            t.jsx(Z, {
              onClick: e.onConfirmClicked,
              "data-cy": "request-form-confirm-send-btn",
              children: t.jsx(p, {
                id: "PoX2HN",
                defaultMessage: [{ type: 0, value: "Send request" }],
              }),
            }),
          ],
        }),
      ],
    });
var Jt = ((e) => (
  (e.corporate = "corporate"), (e.individual = "individual"), e
))(Jt || {});
const $o = { requestFunds: ni.request, loadMinimumDepositAmounts: ti.request },
  Io = (e) => {
    const n = Ei.endpoints.getAccountDetails.select()(e).data;
    return {
      balance: en(e),
      contactList: e.vault.contacts.contactList,
      depositMinimumAmounts: e.wallet.historyState.minimumDepositAmounts.data,
      dashboardState: e.wallet.dashboardState,
      wallets: e.wallet.dashboardState.accounts.accounts.data || [],
      snapshots: si(e),
      isUserRelatedToUS: js(
        n == null ? void 0 : n.country,
        n == null ? void 0 : n.citizenship
      ),
    };
  },
  Fn =
    /(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/g;
class Do extends C.Component {
  constructor() {
    super(...arguments);
    ge(this, "state", {
      selectedContact: null,
      selectedCurrency: u.KAU,
      receiveAmount: "0",
      usdConvertedAmount: "0",
      selectedRequestType: Zt.INDIVIDUAL,
      reference: "",
      contactSearchTerm: "",
      email: "",
      searchDropdownToggled: !1,
      contactSearchResultOptions: [],
      confirmationShown: !1,
      referenceLength: 0,
      isAmountBelowMinimumDepositAmount: !1,
      cryptoNetwork: void 0,
    });
    ge(this, "MAX_REFERENCE_LENGTH", 25);
    ge(this, "handleCurrencySelection", (s) => {
      this.setState({
        selectedCurrency: s,
        usdConvertedAmount: "0",
        receiveAmount: "0",
        isAmountBelowMinimumDepositAmount: !1,
      });
    });
    ge(this, "getUsdRate", () => {
      const s =
        this.props.snapshots[`${this.state.selectedCurrency}_USD`] ||
        this.props.snapshots[`${this.state.selectedCurrency}_USD1`];
      return this.state.selectedCurrency === u.KVT &&
        this.props.isUserRelatedToUS
        ? xt
        : s
        ? s.latestMidPrice
        : 1;
    });
    ge(this, "handleCryptoAmountChange", (s) => {
      const i = Number(s.replace(/,/g, ""));
      this.setState({
        receiveAmount: s,
        usdConvertedAmount: `${vt({
          value: Number(s) * this.getUsdRate(),
          currencyCode: u.USD,
        })}`,
        isAmountBelowMinimumDepositAmount:
          !!i &&
          i <
            Fs(
              this.props.depositMinimumAmounts,
              this.state.selectedCurrency,
              this.state.cryptoNetwork
            ),
      });
    });
    ge(this, "backCalculateCryptoAmountBaseOnUsd", (s) => {
      const i = this.getUsdRate();
      this.setState({
        receiveAmount: ie(
          { code: u.USD, value: Number(s) / i },
          { appendCurrencyCode: !1, prependFiatSymbol: !1 }
        ),
        usdConvertedAmount: s,
      });
    });
  }
  componentDidMount() {
    this.setState({ selectedCurrency: this.props.selectedCurrency }),
      this.props.loadMinimumDepositAmounts();
  }
  updateLength() {
    this.setState((s) => ({
      referenceLength:
        s.reference.replace(Fn, "").length +
        2 * (s.reference.length - s.reference.replace(Fn, "").length),
    }));
  }
  render() {
    const {
        selectedRequestType: s,
        usdConvertedAmount: i,
        receiveAmount: a,
        confirmationShown: o,
        reference: r,
        selectedCurrency: d,
        email: h,
        cryptoNetwork: f,
      } = this.state,
      { formatMessage: m } = ii();
    return o
      ? t.jsx(To, {
          targetEmail: h,
          currencyCode: d || this.props.selectedCurrency,
          reference: r,
          amount: Number(a),
          usdAmount: Number(i),
          onBackClicked: () => {
            this.setState({ confirmationShown: !1 }),
              this.props.setModalHeaderText("");
          },
          onConfirmClicked: () => {
            this.props.requestFunds({
              type: s === Zt.INDIVIDUAL ? Jt.individual : Jt.corporate,
              amount: Number(a),
              currency: d,
              reference: r,
              email: h,
              cryptoNetwork: f === Q.default ? void 0 : f,
            }),
              this.props.onCancelClick();
          },
        })
      : t.jsx(co, {
          selectedCurrency: d || this.props.selectedCurrency,
          currencyOptions: this.props.currencyOptions,
          USDAmount: i,
          selectedCurrencyAmount: this.state.receiveAmount,
          selectedReceiverType: this.state.selectedRequestType,
          email: this.state.email,
          cryptoNetwork: f,
          maxReferenceCharLimit: this.MAX_REFERENCE_LENGTH,
          referenceCharCount: this.state.reference.length,
          reference: this.state.reference,
          requestSearchText: this.state.contactSearchTerm,
          handleCurrencySelection: this.handleCurrencySelection,
          handleChangeUSDAmount: (c) =>
            this.backCalculateCryptoAmountBaseOnUsd(c),
          handleChangeSelectedCurrencyAmount: this.handleCryptoAmountChange,
          handleStateChange: (c) => this.setState({ selectedRequestType: c }),
          handleReferenceChange: (c) =>
            this.setState({ reference: c }, () => this.updateLength()),
          handleCancelClick: this.props.onCancelClick,
          nextDisabled: this.shouldDisableForm(),
          handleEmailChanged: (c) => this.setState({ email: c }),
          handleRequestNextClick: () => {
            this.setState({ confirmationShown: !0 }),
              this.props.setModalHeaderText(
                m({
                  id: "G4P9bz",
                  defaultMessage: [{ type: 0, value: "Request confirmation" }],
                })
              );
          },
          referenceLength: this.state.referenceLength,
          depositMinimumAmounts: this.props.depositMinimumAmounts,
          isAmountBelowMinimumDepositAmount:
            this.state.isAmountBelowMinimumDepositAmount,
          handleCryptoNetworkSelect: (c) => this.setState({ cryptoNetwork: c }),
        });
  }
  shouldDisableForm() {
    const {
        receiveAmount: s,
        email: i,
        isAmountBelowMinimumDepositAmount: a,
      } = this.state,
      o = !rn(i);
    return !s || Number(s) <= 0 || !o || a;
  }
}
const Eo = ye(Io, $o)(Do),
  Ro = l("div")`
  display: flex;
  flex-direction: column;
  gap: 32px;
  padding-top: 32px;
`,
  Bo = l("div")`
  display: flex;
  justify-content: center;
  gap: 10px;
`,
  No = l("div")`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  height: 16px;
  width: 16px;
  border-radius: 50%;
  border: 1px solid ${({ theme: e }) =>
    e.palette.designColors.borders.warning.default};
  background-color: ${({ theme: e }) =>
    e.palette.designColors.surface.warning.subdued};
`,
  Po = l("div")`
  width: 100%;
  max-width: 319px;
  font-size: 12px;
  font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
  a {
    font-size: 12px;
    font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
    text-decoration: none;
    color: ${({ theme: e }) =>
      e.palette.designColors.interactive.primary.default};
  }
`,
  Fo = ({ selectedCurrency: e, onCancelClick: n, onContinueClick: s }) => {
    const [i, a] = C.useState(!1);
    return t.jsxs(Ro, {
      children: [
        t.jsxs(tn, {
          gap: "8px",
          onClick: (o) => {
            o.target.id !== "learn-more" && a(!i);
          },
          children: [
            t.jsx(No, {
              children:
                i &&
                t.jsx(F, {
                  name: V.tick,
                  size: A.sixteen,
                  fill: (o) => o.palette.designColors.icons.warning,
                }),
            }),
            t.jsx(Po, {
              children: t.jsx(p, {
                id: "tJgM4p",
                defaultMessage: [
                  {
                    type: 0,
                    value:
                      "I understand both Address and Destination Tag/Memo are required when receiving ",
                  },
                  { type: 1, value: "selectedCurrency" },
                  {
                    type: 0,
                    value:
                      ", failure to include both details will result in lost funds. ",
                  },
                  {
                    type: 8,
                    value: "a",
                    children: [{ type: 0, value: "Learn more here." }],
                  },
                ],
                values: {
                  selectedCurrency: e,
                  a: (o) =>
                    t.jsx("a", {
                      id: "learn-more",
                      href: "https://support.kinesis.money/hc/en-gb/articles/12362586860573",
                      target: "_blank",
                      rel: "noopener noreferrer",
                      children: o,
                    }),
                },
              }),
            }),
          ],
        }),
        t.jsxs(Bo, {
          children: [
            t.jsx(ae, {
              size: "large",
              onClick: n,
              "data-cy": "disclaimer-form-cancel-btn",
              children: t.jsx(p, {
                id: "47FYwb",
                defaultMessage: [{ type: 0, value: "Cancel" }],
              }),
            }),
            t.jsx(Z, {
              disabled: !i,
              size: "large",
              onClick: s,
              "data-cy": "disclaimer-form-continue-btn",
              children: t.jsx(p, {
                id: "d/Xro/",
                defaultMessage: [{ type: 0, value: "Continue with deposit" }],
              }),
            }),
          ],
        }),
      ],
    });
  },
  Lo = [u.XRP, u.XLM, u.GBX, u.XAU, u.XAA, u.ATOM, u.HBAR, u.INJ, u.KVT],
  Vo = l(k)`
  gap: 24px;
  align-items: center;
  padding-bottom: 32px;
  font-family: ${(e) => e.theme.typography.fonts.regular};
  height: 100%;
  max-height: 70dvh;
  overflow-y: auto;
  width: 100%;

  @media only screen and (max-width: 600px) {
    max-height: 65dvh;
  }
`,
  zo = l(k)`
  flex: 1;
  align-items: center;
  border: 1px solid ${(e) => e.theme.palette.designColors.borders.disabled};
  border-radius: 5px;
  width: 100%;
`,
  Oo = l(at)`
  text-align: left;
  word-break: break-word;
  line-break: anywhere;
  padding: 10px 12px;
`,
  Ln = l("input")`
  display: flex;
  flex-direction: column;
  align-items: center;
  flex: 1;

  padding: 9px 12px;
  font-size: 14px;
  line-height: 21px;
  border-radius: 4px;

  color: ${({ theme: e }) => e.palette.designColors.text.default};
  border: 1px solid ${({ theme: e }) => e.palette.designColors.borders.subdued};
  font-family: ${(e) => e.theme.typography.fonts.medium};
  outline: none !important;

  ::placeholder {
    color: ${({ theme: e }) => e.palette.designColors.text.subdued};
  }
`,
  Xe = l(at, { shouldForwardProp: G(["$isCenterAlignText"]) })`
  color: ${({ theme: e }) => e.palette.designColors.text.strong};
  width: 100%;
  text-align: ${({ $isCenterAlignText: e }) => (e ? "center" : "left")};
`,
  Vn = l(R, { shouldForwardProp: G(["isTagBased"]) })`
  width: 100%;
  justify-content: space-between;
`,
  zn = l("div")`
  position: relative;
  align-self: baseline;
  margin-left: 4px;
  margin-top: 2px;

  &:hover {
    & .Tooltip {
      visibility: visible;
    }
  }
`,
  Uo = l(Z)`
  padding: 25px;
`,
  _o = [
    u.USDT,
    u.USDC,
    u.USD1,
    u.ARB,
    u.FTM,
    u.S,
    u.AVAX,
    u.OM,
    u.IMX,
    u.LDO,
    u.GALA,
    u.BAT,
    u.ZRX,
    u.YFI,
    u.AAVE,
    u.QNT,
    u.MKR,
    u.DAI,
    u.UNI,
    u.POL,
    u.LINK,
    u.SEI,
  ],
  Ko = { [Q.stellar]: "XLM", [Q.ethereum]: "ERC-20" },
  qo = {
    [u.AVAX]: "Avalanche (C-Chain)",
    [u.FTM]: "Fantom",
    [u.S]: "Sonic",
    [u.ARB]: "Arbitrum One",
    [u.SEI]: "SEI EVM",
  },
  Wo = (e) => {
    const {
        selectedCurrency: n,
        titleText: s,
        wallets: i,
        currencyOptions: a,
        onCurrencySelection: o,
        onCancelClick: r,
        onShareButtonClick: d,
        depositCryptoOnPrevious: h,
      } = e,
      [f, m] = C.useState(Q.default),
      c = Lo.includes(n) || f === Q.stellar,
      [x, g] = C.useState(i.find((S) => S.currency === n)),
      [M, y] = C.useState(c ? (x == null ? void 0 : x.destinationTag) : void 0),
      [b, E] = C.useState(x.publicKey),
      [v, T] = C.useState(""),
      [$, I] = C.useState(c),
      [D, B] = C.useState(!1),
      U = ze.includes(n);
    C.useEffect(() => {
      const S = xn(n);
      m(U ? S : Q.default), I(c);
      const P = _o.includes(n);
      B(P), g(i.find((re) => re.currency === n));
    }, [n]),
      C.useEffect(
        () =>
          f === Q.stellar
            ? (I(!0), g(i.find((S) => S.currency === n && S.destinationTag)))
            : f === Q.ethereum
            ? (I(!1), g(i.find((S) => S.currency === n && !S.destinationTag)))
            : (I(c), g(i.find((S) => S.currency === n))),
        [f]
      ),
      C.useEffect(() => {
        y(x.destinationTag), E(x.publicKey);
      }, [x]);
    const { formatMessage: z } = W(),
      ee = () => {
        switch (n) {
          case u.USDT:
            return z(
              {
                id: "dnnFox",
                defaultMessage: [
                  { type: 0, value: "Your " },
                  { type: 1, value: "selectedCurrency" },
                  { type: 0, value: " (ERC-20) Account address" },
                ],
              },
              { selectedCurrency: n }
            );
          case u.USDC:
          case u.USD1:
            return z(
              {
                id: "j8btAV",
                defaultMessage: [
                  { type: 0, value: "Your " },
                  { type: 1, value: "selectedCurrency" },
                  { type: 0, value: " (" },
                  { type: 1, value: "networkType" },
                  { type: 0, value: ") Account address" },
                ],
              },
              { selectedCurrency: n, networkType: Ko[f] }
            );
          default:
            return z(
              {
                id: "man5+E",
                defaultMessage: [
                  { type: 0, value: "Your " },
                  { type: 1, value: "selectedCurrency" },
                  { type: 0, value: " Account address" },
                ],
              },
              { selectedCurrency: n }
            );
        }
      };
    return t.jsxs(Vo, {
      children: [
        t.jsxs(he, {
          children: [
            t.jsx(Xe, {
              $isCenterAlignText: !!(s != null && s.length),
              children:
                s ??
                t.jsx(p, {
                  id: "h/UYka",
                  defaultMessage: [{ type: 0, value: "I want to receive" }],
                }),
            }),
            t.jsx(_e, {
              showHorizontal: !0,
              defaultValue: n,
              options: a,
              onChange: (S) => o(S),
            }),
          ],
        }),
        U &&
          t.jsxs(he, {
            children: [
              t.jsx(Xe, {
                children: t.jsx(p, {
                  id: "I3JhPS",
                  defaultMessage: [{ type: 0, value: "Network" }],
                }),
              }),
              t.jsx(cn, {
                currentCryptoNetwork: f,
                setNetwork: (S) => {
                  m(S);
                },
              }),
            ],
          }),
        $
          ? t.jsx(Fo, {
              selectedCurrency: n,
              onCancelClick: r,
              onContinueClick: () => {
                I(!1);
              },
            })
          : t.jsxs(t.Fragment, {
              children: [
                t.jsx(k, {
                  alignItems: "center",
                  width: "100%",
                  children: t.jsx(Bi, { value: b, disableMinLength: !0 }),
                }),
                t.jsxs(he, {
                  children: [
                    t.jsxs(Vn, {
                      children: [
                        t.jsxs(R, {
                          children: [
                            t.jsx(Xe, { children: ee() }),
                            t.jsxs(zn, {
                              "data-tip": !0,
                              "data-tooltip-id": "receiveFormTooltipPublicKey",
                              children: [
                                t.jsx(F, {
                                  name: V.help,
                                  fill: (S) =>
                                    S.palette.designColors.icons.subtle,
                                  size: A.sixteen,
                                  iconSize: A.sixteen,
                                  hoverFill: (S) =>
                                    S.palette.designColors.icons.default,
                                }),
                                t.jsx(nt, {
                                  id: "receiveFormTooltipPublicKey",
                                  children: t.jsxs(st, {
                                    children: [
                                      t.jsx(En, {
                                        children: t.jsx(p, {
                                          id: "bep9C3",
                                          defaultMessage: [
                                            { type: 0, value: "Public Key" },
                                          ],
                                        }),
                                      }),
                                      t.jsx(p, {
                                        id: "1oFTxu",
                                        defaultMessage: [
                                          { type: 0, value: "Your " },
                                          {
                                            type: 1,
                                            value: "selectedCurrency",
                                          },
                                          {
                                            type: 0,
                                            value:
                                              " Account address acts like your mailbox for ",
                                          },
                                          {
                                            type: 1,
                                            value: "selectedCurrency",
                                          },
                                          {
                                            type: 0,
                                            value: ". Share it around!",
                                          },
                                        ],
                                        values: { selectedCurrency: n },
                                      }),
                                    ],
                                  }),
                                }),
                              ],
                            }),
                          ],
                        }),
                        t.jsx(Ht, {
                          copyText: b,
                          tooltipDirection: "left",
                          message: z({
                            id: "me1nR+",
                            defaultMessage: [
                              { type: 0, value: "Copy Address" },
                            ],
                          }),
                        }),
                      ],
                    }),
                    t.jsx(zo, { children: t.jsx(Oo, { children: b }) }),
                  ],
                }),
                c &&
                  t.jsxs(he, {
                    children: [
                      t.jsxs(Vn, {
                        isTagBased: !0,
                        children: [
                          t.jsxs(R, {
                            children: [
                              t.jsx(Xe, {
                                children: t.jsx(p, {
                                  id: "xEc7rD",
                                  defaultMessage: [
                                    { type: 0, value: "Destination Tag/Memo" },
                                  ],
                                }),
                              }),
                              t.jsxs(zn, {
                                children: [
                                  t.jsx(F, {
                                    "data-tip": !0,
                                    "data-tooltip-id": "receiveFormTooltip",
                                    name: V.help,
                                    fill: (S) =>
                                      S.palette.designColors.icons.subtle,
                                    size: A.sixteen,
                                    iconSize: A.sixteen,
                                    hoverFill: (S) =>
                                      S.palette.designColors.icons.default,
                                  }),
                                  t.jsx(nt, {
                                    id: "receiveFormTooltip",
                                    children: t.jsxs(st, {
                                      children: [
                                        t.jsx(En, {
                                          children: t.jsx(p, {
                                            id: "BzQPM+",
                                            defaultMessage: [
                                              { type: 0, value: "Destination" },
                                            ],
                                          }),
                                        }),
                                        t.jsx(p, {
                                          id: "mM7Su2",
                                          defaultMessage: [
                                            { type: 0, value: "Your " },
                                            {
                                              type: 1,
                                              value: "selectedCurrency",
                                            },
                                            {
                                              type: 0,
                                              value:
                                                " Destination Tag/Memo is an additional address feature necessary for identifying a transaction recipient beyond a wallet address.",
                                            },
                                          ],
                                          values: { selectedCurrency: n },
                                        }),
                                      ],
                                    }),
                                  }),
                                ],
                              }),
                            ],
                          }),
                          t.jsx(Ht, {
                            copyText: M ?? "",
                            message: z({
                              id: "iI4X7T",
                              defaultMessage: [
                                { type: 0, value: "Copy Destination Tag" },
                              ],
                            }),
                            tooltipDirection: "left",
                          }),
                        ],
                      }),
                      t.jsx(Ln, { value: M ?? "", disabled: !0 }),
                    ],
                  }),
                D &&
                  t.jsxs(tn, {
                    children: [
                      t.jsx(F, {
                        name: V.warning,
                        size: A.sixteen,
                        fill: (S) => S.palette.designColors.icons.warning,
                      }),
                      t.jsx(at, {
                        children:
                          f !== Q.default
                            ? t.jsx(p, {
                                id: "9iEC1P",
                                defaultMessage: [
                                  {
                                    type: 0,
                                    value:
                                      "Please ensure you have made the correct Network selection. Any deposits made via other networks will result in loss of funds.",
                                  },
                                ],
                              })
                            : t.jsx(p, {
                                id: "CkHvQe",
                                defaultMessage: [
                                  { type: 0, value: "Kinesis only supports " },
                                  { type: 1, value: "currencyNetwork" },
                                  {
                                    type: 0,
                                    value:
                                      " network for this cryptocurrency. Any deposits made via other networks will result in loss of funds.",
                                  },
                                ],
                                values: {
                                  currencyNetwork: qo[n] ?? "Ethereum(ERC-20)",
                                },
                              }),
                      }),
                    ],
                  }),
                t.jsxs(he, {
                  children: [
                    t.jsx(Xe, {
                      children: t.jsx(p, {
                        id: "swOBKP",
                        defaultMessage: [{ type: 0, value: "Share via email" }],
                      }),
                    }),
                    t.jsx(Ln, {
                      id: "shareToEmail",
                      type: "text",
                      placeholder: z({
                        id: "eGwKE1",
                        defaultMessage: [{ type: 0, value: "email address" }],
                      }),
                      onChange: (S) => T(S.target.value),
                    }),
                  ],
                }),
                t.jsxs(k, {
                  gap: "30px",
                  alignItems: "center",
                  children: [
                    t.jsx(Uo, {
                      size: "large",
                      disabled: !!rn(v),
                      onClick: () => d(v, f),
                      children: t.jsx(p, {
                        id: "swOBKP",
                        defaultMessage: [{ type: 0, value: "Share via email" }],
                      }),
                    }),
                    (e == null ? void 0 : e.firstDeposit) &&
                      t.jsxs(R, {
                        gap: "8px",
                        justifyContent: "center",
                        children: [
                          t.jsx(ae, {
                            size: "large",
                            disabled: !1,
                            onClick: h,
                            "data-cy": "receive-form-back-btn",
                            children: t.jsx(p, {
                              id: "orvpWh",
                              defaultMessage: [{ type: 0, value: "Go back" }],
                            }),
                          }),
                          t.jsx(Z, {
                            size: "large",
                            disabled: !1,
                            onClick: r,
                            "data-cy": "receive-form-done-btn",
                            children: t.jsx(p, {
                              id: "JXdbo8",
                              defaultMessage: [{ type: 0, value: "Done" }],
                            }),
                          }),
                        ],
                      }),
                  ],
                }),
              ],
            }),
      ],
    });
  },
  Go = { shareAddress: oi.request, fetchWalletAccounts: ai.request },
  Ho = ({
    wallet: {
      dashboardState: {
        accounts: {
          accounts: { data: e },
        },
      },
    },
  }) => ({ wallets: e || [], loadingWallets: !(e != null && e.length) });
class Xo extends C.Component {
  constructor() {
    super(...arguments);
    ge(this, "state", {
      receiveSelectedCurrency: this.props.selectedCurrency || u.KAU,
    });
    ge(this, "handleCurrencySelection", (s) => {
      this.setState({ receiveSelectedCurrency: s });
    });
    ge(this, "handleShareButtonClick", (s, i) => {
      this.props.shareAddress({
        email: s,
        currency: this.state.receiveSelectedCurrency,
        cryptoNetwork: i,
      }),
        this.props.onCancelClick();
    });
  }
  componentDidMount() {
    this.setState({ receiveSelectedCurrency: this.props.selectedCurrency }),
      this.updateWalletsIfNeeded();
  }
  updateWalletsIfNeeded() {
    this.props.currencyOptions.reduce((i, a) => {
      const o = this.props.wallets.find(({ currency: r }) => r === a);
      return i || !o;
    }, !1) && this.props.fetchWalletAccounts();
  }
  render() {
    return this.props.loadingWallets
      ? t.jsx(Dt, {})
      : t.jsx(Wo, {
          titleText: this.props.titleText,
          selectedCurrency:
            this.state.receiveSelectedCurrency || this.props.selectedCurrency,
          currencyOptions: this.props.currencyOptions,
          wallets: this.props.wallets,
          onShareButtonClick: this.handleShareButtonClick,
          onCurrencySelection: this.handleCurrencySelection,
          onCancelClick: this.props.onCancelClick,
          depositCryptoOnPrevious: this.props.depositCryptoOnPrevious,
          firstDeposit: this.props.firstDeposit,
        });
  }
}
const Qo = ye(Ho, Go)(Xo),
  Yo = l("div")`
  display: flex;
  flex-direction: row;
  justify-content: center;
  border: 1px solid ${({ theme: e }) =>
    e.palette.designColors.borders.disabled};
  border-radius: 4px;
  padding: 8px 12px;
`,
  Zo = l("input")`
  width: 100%;
  outline: none;
  border: none;
  color: ${({ theme: e }) => e.palette.designColors.text.default};
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
  font-size: 14px;
  line-height: 21px;
  ::placeholder {
    color: ${({ theme: e }) => e.palette.designColors.text.subdued};
  }
`,
  Jo = l(Le)`
  position: absolute;
  right: 0;
  top: 48px;
`,
  er = (e) => {
    var c, x;
    const { onEmailChanged: n, defaultValue: s } = e,
      {
        register: i,
        formState: a,
        watch: o,
      } = un({
        mode: "onChange",
        resolver: Ns(),
        defaultValues: { email: s ?? "" },
      }),
      { errors: r } = a,
      { onChange: d, ...h } = i("email"),
      f = o("email"),
      { formatMessage: m } = W();
    return t.jsxs(k, {
      position: "relative",
      children: [
        t.jsx(Yo, {
          children: t.jsx(Zo, {
            value: f,
            autoComplete: "off",
            ...h,
            type: "email",
            placeholder: m({
              id: "hJZwTS",
              defaultMessage: [{ type: 0, value: "Email address" }],
            }),
            onChange: (g) => {
              d(g), n(g.target.value);
            },
          }),
        }),
        !!((c = r.email) != null && c.message) &&
          t.jsx(Jo, {
            visible: !!r.email,
            type: "error",
            children: (x = r.email) == null ? void 0 : x.message,
          }),
      ],
    });
  },
  tr = {
    BASE_URL: "/",
    DEV: !1,
    MODE: "production",
    PROD: !0,
    SSR: !1,
    VITE_DATADOG_CLIENT_TOKEN: "pube01c2b9e38650efbeddfcbae3b977fe3",
    VITE_DATADOG_SITE: "datadoghq.com",
    VITE_DATA_PROVIDER: "api",
    VITE_DEFAULT_API_ROOT: "/assets/apip.kinesis.money",
    VITE_ENV: "prod",
    VITE_EVERFLOW_LOGIN: "https://kinesis-money.everflowclient.io",
    VITE_GOOGLE_CLIENT_ID:
      "394621830984-duko7mjt1usdki48h5rum25goqpua6jr.apps.googleusercontent.com",
    VITE_GOOGLE_GA4_TRACKING_ID: "G-VV158G5WQP",
    VITE_GOOGLE_GTM_ID: "GTM-T746Q82J",
    VITE_GOOGLE_RECAPTURE_SITE_KEY: "6LdMvA0cAAAAAKvxqTsGU9fi_xQMZRREC4gTue7y",
    VITE_KINESIS_XLM_HOLDINGS_ADDRESS:
      "GBU643T7VZRHWLDPEXKJPNVBBHCLEYWDMNIX6GLNZE2WG4JOMSYDBXPD",
    VITE_KINESIS_XRP_HOLDINGS_ADDRESS: "rE9UEPzJiBbvGJz8KqWSHamDPnPeNXnhFR",
    VITE_KYC_FORM_URL:
      "https://www.tfaforms.com/workflows/start/4557?tfa_8636=",
    VITE_REDEMPTION_FORM_URL:
      "https://www.tfaforms.com/forms/view/4759269?tfa_1132=",
    VITE_TRULIOO_PASSWORD: "nYS2m9r6E^^G2Tjx",
    VITE_TRULIOO_USERNAME: "dev_Trulioo_mvpW4",
    VITE_VAULT_SECRET: "97923d30-8423-45b6-aca5-abda814f1c36",
  },
  nr = l(R, { shouldForwardProp: G(["isValid"]) })`
  ${(e) =>
    e.isValid
      ? `border: 1px solid ${e.theme.palette.designColors.borders.disabled};`
      : `border:1px solid ${e.theme.palette.designColors.borders.critical.default}}`};
  width: 100%;
  border-radius: 4px;
  box-sizing: border-box;
  border-radius: 4px;
  padding: 8px 12px;
  flex: 1;
  justify-content: flex-end;
  align-items: end;
  margin: 0;
  gap: 4px;
`,
  sr = l("input")`
  width: 100%;
  margin-top: auto;
  margin-bottom: auto;
  font-size: 14px;
  outline: none;
  border: none;
  font-family: ${(e) => e.theme.typography.fonts.medium};
  ::placeholder {
    color: ${(e) => e.theme.palette.designColors.text.subdued};
  }
`,
  ir = l("div")`
  font-size: 12px;
  font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
  background-color: ${({ theme: e }) =>
    e.palette.designColors.surface.warning.subdued};
  padding: 16px;
  text-align: center;
  border: 1px solid ${({ theme: e }) =>
    e.palette.designColors.borders.warning.default};
  border-radius: 4px;
  margin-top: 12px;
  a {
    font-size: 12px;
    font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
    text-decoration: none;
    color: ${({ theme: e }) =>
      e.palette.designColors.interactive.primary.default};
  }
`,
  ar = (e) => {
    const { currency: n } = e;
    return t.jsx(ir, {
      children: t.jsx(p, {
        id: "cCjH9b",
        defaultMessage: [
          {
            type: 0,
            value:
              "This has been identified as a Kinesis account address. We are unable to send ",
          },
          { type: 1, value: "currency" },
          { type: 0, value: " from an internal address. " },
          {
            type: 8,
            value: "a",
            children: [{ type: 0, value: "Learn more here." }],
          },
        ],
        values: {
          a: (s) =>
            t.jsx("a", {
              href: "https://support.kinesis.money/hc/en-gb/articles/4405563725201",
              target: "_blank",
              rel: "noopener noreferrer",
              children: s,
            }),
          currency: n,
        },
      }),
    });
  },
  or = (e) =>
    [u.XRP, u.XLM, u.GBX, u.XAU, u.XAA].includes(e)
      ? tr[`VITE_KINESIS_${e}_HOLDINGS_ADDRESS`]
      : null,
  On = (e, n) => (Rn(u.XLM, e) ? Q.stellar : Rn(n, e) ? Q.ethereum : null),
  rr = (e) => {
    const { currency: n, address: s, cryptoNetwork: i, onAddressChange: a } = e,
      r = !!On(s, n),
      { formatMessage: d } = W();
    return t.jsxs(k, {
      width: "100%",
      children: [
        t.jsxs(nr, {
          isValid: s.length === 0 || r,
          children: [
            t.jsx(Ae, { subdued: !0, children: n }),
            t.jsx(sr, {
              isValid: r,
              type: "text",
              placeholder: d({
                id: "Oa/XSP",
                defaultMessage: [{ type: 0, value: "address" }],
              }),
              value: s,
              "data-cy": "crypto-address-input",
              onChange: (h) => {
                const f = h.target.value,
                  m = On(f, n),
                  c = { address: f, addressValid: !!m };
                ze.includes(n) && m && (c.cryptoNetwork = m), a(c);
              },
            }),
            t.jsx(F, {
              name: V.walletAddress,
              fill: (h) => h.palette.designColors.icons.disabled,
              size: A.twentyOne,
            }),
          ],
        }),
        !r && s.length > 0
          ? t.jsx(Le, {
              type: "error",
              visible: !r && s.length > 0,
              children:
                i !== Q.default
                  ? t.jsx(p, {
                      id: "AEJcBV",
                      defaultMessage: [
                        {
                          type: 0,
                          value:
                            "The deposit address does not match the selected Network option",
                        },
                      ],
                    })
                  : t.jsx(p, {
                      id: "zHBipR",
                      defaultMessage: [
                        { type: 0, value: "Invalid " },
                        { type: 1, value: "currency" },
                        { type: 0, value: " address" },
                      ],
                      values: { currency: n },
                    }),
            })
          : or(n) === s && t.jsx(ar, {}),
      ],
    });
  },
  lr = {
    BASE_URL: "/",
    DEV: !1,
    MODE: "production",
    PROD: !0,
    SSR: !1,
    VITE_DATADOG_CLIENT_TOKEN: "pube01c2b9e38650efbeddfcbae3b977fe3",
    VITE_DATADOG_SITE: "datadoghq.com",
    VITE_DATA_PROVIDER: "api",
    VITE_DEFAULT_API_ROOT: "/assets/apip.kinesis.money",
    VITE_ENV: "prod",
    VITE_EVERFLOW_LOGIN: "https://kinesis-money.everflowclient.io",
    VITE_GOOGLE_CLIENT_ID:
      "394621830984-duko7mjt1usdki48h5rum25goqpua6jr.apps.googleusercontent.com",
    VITE_GOOGLE_GA4_TRACKING_ID: "G-VV158G5WQP",
    VITE_GOOGLE_GTM_ID: "GTM-T746Q82J",
    VITE_GOOGLE_RECAPTURE_SITE_KEY: "6LdMvA0cAAAAAKvxqTsGU9fi_xQMZRREC4gTue7y",
    VITE_KINESIS_XLM_HOLDINGS_ADDRESS:
      "GBU643T7VZRHWLDPEXKJPNVBBHCLEYWDMNIX6GLNZE2WG4JOMSYDBXPD",
    VITE_KINESIS_XRP_HOLDINGS_ADDRESS: "rE9UEPzJiBbvGJz8KqWSHamDPnPeNXnhFR",
    VITE_KYC_FORM_URL:
      "https://www.tfaforms.com/workflows/start/4557?tfa_8636=",
    VITE_REDEMPTION_FORM_URL:
      "https://www.tfaforms.com/forms/view/4759269?tfa_1132=",
    VITE_TRULIOO_PASSWORD: "nYS2m9r6E^^G2Tjx",
    VITE_TRULIOO_USERNAME: "dev_Trulioo_mvpW4",
    VITE_VAULT_SECRET: "97923d30-8423-45b6-aca5-abda814f1c36",
  },
  Vt = { addressValid: !1, name: "", email: "", address: "" },
  dr = l(k)(({ theme: e }) => ({
    paddingBottom: "24px",
    gap: "24px",
    width: "100%",
    height: "100%",
    maxHeight: "70dvh",
    overflowY: "auto",
    [e.breakpoints.down("sm")]: { maxHeight: "65dvh" },
  })),
  Re = l(at)`
  white-space: nowrap;
`,
  cr = l(R)(({ theme: e }) => ({
    position: "relative",
    width: "100%",
    border: `1px solid ${e.palette.designColors.borders.subdued}`,
    borderRadius: "5px",
    margin: "auto",
    boxSizing: "border-box",
  })),
  ur = l(k)(({ theme: e }) => ({
    position: "absolute",
    right: "-10px",
    border: `1px solid ${e.palette.designColors.borders.subdued}`,
    top: "15px",
    padding: "3px",
    borderRadius: "50%",
    backgroundColor: e.palette.designColors.greyscale.white.default,
  })),
  Un = l(ks)`
  font-size: 14px;
  line-height: 22px;
  padding: 0 4px;
  outline: none;
  border: none;
  text-align: end;
  max-width: 70%;
  width: 100%;
`,
  _n = l(R)`
  justify-content: flex-end;
  padding: 13px 16px;
  gap: 8px;
  position: relative;
  align-items: center;
`,
  pr = l(R)(({ theme: e }) => ({
    gap: "16px",
    borderBottom: `1px solid ${e.palette.designColors.borders.subdued}`,
  })),
  zt = l(k, { shouldForwardProp: G(["selected"]) })(
    ({ theme: e, selected: n }) => ({
      cursor: "pointer",
      padding: "6px 2px",
      borderBottom: n
        ? `2px solid ${e.palette.designColors.interactive.primary.default}`
        : "none",
    })
  ),
  Kn = l(R)(({ theme: e }) => ({
    width: "100%",
    border: `1px solid ${e.palette.designColors.borders.subdued}`,
    borderRadius: "5px",
    justifyContent: "space-between",
    boxSizing: "border-box",
    padding: "9px 12px",
    alignItems: "baseline",
  })),
  hr = l("textarea")(() => ({
    height: "100%",
    width: "100%",
    fontSize: "14px",
    outline: "none",
    border: "none",
    resize: "none",
    display: "table",
  })),
  fr = l("input")(() => ({
    height: "100%",
    width: "100%",
    fontSize: "14px",
    outline: "none",
    border: "none",
  })),
  mr = l(tn)`
  text-align: center;
`,
  ht =
    /(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/g,
  gr = (e) => {
    const { formatMessage: n } = W();
    switch (e) {
      case "send":
        return n({
          id: "WFiZit",
          defaultMessage: [{ type: 0, value: "I want to send" }],
        });
      case "receive":
        return n({
          id: "h/UYka",
          defaultMessage: [{ type: 0, value: "I want to receive" }],
        });
      case "request":
        return n({
          id: "Kxg6zV",
          defaultMessage: [{ type: 0, value: "I want to request" }],
        });
      default:
        return "";
    }
  },
  qn = (e, n, s) =>
    s === u.KAG || s === u.KAU
      ? new fe(e).add(li(e)).toNumber()
      : new fe(e).add(n).toNumber(),
  xr = (e, n) => {
    const { formatMessage: s } = W(),
      i = Ls(e, n);
    let a = i
      ? {
          title: s({
            id: "xEc7rD",
            defaultMessage: [{ type: 0, value: "Destination Tag/Memo" }],
          }),
          placeholder: s({
            id: "lkLZw7",
            defaultMessage: [
              { type: 0, value: "Destination Tag/Memo (optional)" },
            ],
          }),
          maxLength: 50,
          showCharCount: !1,
          showDisclaimerMsg: !0,
        }
      : {
          title: s({
            id: "mcUhhf",
            defaultMessage: [{ type: 0, value: "Reference" }],
          }),
          placeholder: s({
            id: "bZenNC",
            defaultMessage: [{ type: 0, value: "Description (optional)" }],
          }),
          maxLength: 25,
          showCharCount: !0,
          showDisclaimerMsg: !1,
        };
    const o = t.jsx(p, {
      id: "/ZvKFv",
      defaultMessage: [
        {
          type: 0,
          value: "Please include a unique Destination Tag/Memo when sending ",
        },
        { type: 1, value: "selectedCurrency" },
        {
          type: 0,
          value:
            " to another exchange. Other exchanges, or wallets, may also call this a Tag, Memo or label.",
        },
      ],
      values: { selectedCurrency: e },
    });
    return (
      i &&
        (a = {
          title: s({
            id: "xEc7rD",
            defaultMessage: [{ type: 0, value: "Destination Tag/Memo" }],
          }),
          placeholder: s({
            id: "lkLZw7",
            defaultMessage: [
              { type: 0, value: "Destination Tag/Memo (optional)" },
            ],
          }),
          maxLength: 50,
          showCharCount: !0,
          showDisclaimerMsg: !0,
        }),
      [u.KAU, u.KAG].includes(e) &&
        (a = {
          title: s({
            id: "mcUhhf",
            defaultMessage: [{ type: 0, value: "Reference" }],
          }),
          placeholder: s({
            id: "bZenNC",
            defaultMessage: [{ type: 0, value: "Description (optional)" }],
          }),
          maxLength: 25,
          showCharCount: !0,
          showDisclaimerMsg: !1,
        }),
      { memoConfig: a, disclaimerMsg: o }
    );
  },
  yr = (e) =>
    [u.XRP, u.XLM, u.GBX, u.XAU, u.XAA, u.USD1].includes(e)
      ? lr[`VITE_KINESIS_${e}_HOLDINGS_ADDRESS`]
      : null,
  br = (e) => {
    const {
        isFeeBalanceInsufficient: n,
        isBalanceInsufficient: s,
        selectedCurrencyAmount: i,
        selectedReceiverType: a,
        selectedContact: o,
        newContact: r,
        selectedCurrency: d,
        isAmountBelowMinimum: h,
        email: f,
      } = e,
      m = !rn(f),
      c =
        !!o ||
        ((r == null ? void 0 : r.address) &&
          (r == null ? void 0 : r.addressValid)) ||
        m;
    return (
      Number(i ?? "0") === 0 ||
      (a !== "vault" && !c) ||
      h ||
      n ||
      s ||
      (!!(r != null && r.address) && yr(d) === r.address)
    );
  },
  Cr = (e) => {
    var Ie, lt, We, Ge;
    const {
        initialState: n,
        onCloseClick: s,
        onNextClick: i,
        currencyOptions: a,
      } = e,
      [o, r] = C.useState(n),
      { selectedCurrency: d, cryptoNetwork: h } = o,
      f = It(),
      { data: m = {} } = fn(),
      c = L((j) => j.vault.accounts.existingVaultPublicKey, cs),
      x = L((j) => tt(j, d)) ?? {},
      g = L(ri(d)),
      { data: M } = bs(),
      y = js(
        M == null ? void 0 : M.country,
        M == null ? void 0 : M.citizenship
      ),
      [b, E] = C.useState(""),
      [v, T] = C.useState(),
      $ =
        ((Ie = L((j) => Xt(j, u.USD))) == null ? void 0 : Ie.maxDecimals) ?? 2,
      I = ((lt = L((j) => Xt(j, d))) == null ? void 0 : lt.maxDecimals) ?? 2,
      D =
        ((We = x == null ? void 0 : x.available) == null
          ? void 0
          : We.toFixed(I)) || "0",
      { memoConfig: B, disclaimerMsg: U } = xr(
        o.selectedCurrency,
        o.cryptoNetwork
      ),
      { minimumAmount: z, feeCurrency: ee } = bt(
        m,
        o.selectedCurrency,
        o.cryptoNetwork
      ),
      S = L((j) => tt(j, ee)) ?? {},
      P = Rt(),
      { formatMessage: re } = W(),
      { hide: le } = qi(),
      _ = C.useCallback(
        (j, N) => {
          const H = (x == null ? void 0 : x.available) || 0;
          if (H === 0) return { isCurrentBalanceEmpty: !0 };
          const { minimumAmount: de, feeAmount: pe } = bt(m, d, N),
            De = qn(Number(j), pe, d),
            He = H >= De,
            Oe = Number(j.replace(/,/g, "")),
            Ee = ((S == null ? void 0 : S.available) || 0) < Number(pe);
          return {
            isCurrentBalanceEmpty: !1,
            isBalanceInsufficient: !He && Number(j || "0") !== 0,
            isFeeBalanceInsufficient: Ee,
            isAmountBelowMinimum: !!Oe && Oe < de,
          };
        },
        [
          x == null ? void 0 : x.available,
          S == null ? void 0 : S.available,
          d,
          m,
        ]
      ),
      Se = C.useCallback(
        (j, N) => {
          const H = (x == null ? void 0 : x.available) || 0;
          if (H === 0) return r((Ee) => ({ ...Ee, isCurrentBalanceEmpty: !0 }));
          const de = _(j ?? "0", h),
            { isBalanceInsufficient: pe, isFeeBalanceInsufficient: De } = de,
            { feeAmount: He } = bt(m, d, h),
            Oe = qn(Number(j), He, d),
            dt = pe ? `${H}` : Oe.toString();
          E(v === "1" ? j : N),
            r((Ee) => ({
              ...Ee,
              ...de,
              selectedCurrencyAmount: De ? "0" : j,
              totalAmountToSend: De ? "0" : dt,
              usdValue: De ? "0" : N,
            }));
        },
        [x == null ? void 0 : x.available, _, h, m, d, v]
      ),
      $e = C.useCallback(
        (j) => {
          const N = _(o.selectedCurrencyAmount ?? "0", j);
          r((H) => ({
            ...H,
            ...N,
            cryptoNetwork: j,
            newContact: { ...H.newContact, address: "" },
          }));
        },
        [o.selectedCurrencyAmount, _]
      );
    return t.jsxs(dr, {
      children: [
        t.jsxs(he, {
          children: [
            t.jsxs(R, {
              justifyContent: "space-between",
              alignItems: "baseline",
              width: "100%",
              children: [
                t.jsx(Re, { children: gr("send") }),
                t.jsxs(R, {
                  justifyContent: "space-between",
                  gap: "8px",
                  children: [
                    t.jsx(xe, {
                      subdued: !0,
                      children: t.jsx(p, {
                        id: "f1MZ8o",
                        defaultMessage: [
                          { type: 0, value: "Available balance" },
                        ],
                      }),
                    }),
                    t.jsx(xe, {
                      "data-cy": "send-crypto-balance",
                      children:
                        o.selectedCurrency === u.USD
                          ? t.jsx(p, {
                              id: "fwV3Ad",
                              defaultMessage: [
                                { type: 0, value: "$" },
                                { type: 1, value: "value" },
                              ],
                              values: { value: le(D) },
                            })
                          : t.jsx(p, {
                              id: "d86DEc",
                              defaultMessage: [
                                { type: 1, value: "value" },
                                { type: 0, value: " " },
                                { type: 1, value: "code" },
                              ],
                              values: {
                                value: le(D),
                                code: o.selectedCurrency,
                              },
                            }),
                    }),
                  ],
                }),
              ],
            }),
            t.jsx(_e, {
              showHorizontal: !0,
              defaultValue: o.selectedCurrency,
              selectedCurrency: o.selectedCurrency,
              options: a,
              onChange: (j) => {
                const N = j;
                r((H) => ({
                  ...H,
                  newContactSaveOptionSelected: !1,
                  selectedCurrency: N,
                  selectedContact: null,
                  selectedCurrencyAmount: void 0,
                  usdValue: void 0,
                  isBalanceInsufficient: !1,
                  isFeeBalanceInsufficient: !1,
                  isAmountBelowMinimum: !1,
                  isCurrentBalanceEmpty: !1,
                  cryptoNetwork: xn(N),
                }));
              },
            }),
          ],
        }),
        t.jsxs(he, {
          children: [
            t.jsx(Re, {
              children: t.jsx(p, {
                id: "/0TOL5",
                defaultMessage: [{ type: 0, value: "Amount" }],
              }),
            }),
            t.jsxs(cr, {
              children: [
                t.jsxs(_n, {
                  borderRight: `1px solid ${f.palette.designColors.borders.subdued}`,
                  children: [
                    t.jsx(Un, {
                      disabled:
                        o.isCurrentBalanceEmpty ?? o.isFeeBalanceInsufficient,
                      placeholder: wt[o.selectedCurrency],
                      decimalScale: I,
                      onFocus: () => {
                        T("1"), E(o.selectedCurrencyAmount ?? "");
                      },
                      onValueChange: ({ value: j }) => {
                        if (v === "1") {
                          const N = d === u.KVT && y ? xt : g.latestMidPrice,
                            H = Gt(u.USD, Dn(j ?? 0).times(N));
                          Se(j, H);
                        }
                      },
                      "data-cy": "send-crypto-amount-input",
                      value: v === "1" ? b : o.selectedCurrencyAmount ?? "",
                    }),
                    t.jsx(wn, { children: o.selectedCurrency }),
                    t.jsx(ur, {
                      children: t.jsx(F, {
                        name: V.approximation,
                        size: A.twelve,
                      }),
                    }),
                  ],
                }),
                t.jsxs(_n, {
                  children: [
                    t.jsx(Un, {
                      placeholder: wt[u.USD],
                      decimalScale: $,
                      onFocus: () => {
                        T("2"), E(o.usdValue ?? "");
                      },
                      onValueChange: ({ value: j }) => {
                        if (v === "2") {
                          const N = d === u.KVT && y ? xt : g.latestMidPrice,
                            H = Gt(o.selectedCurrency, Dn(j).div(N));
                          Se(H, j);
                        }
                      },
                      value: v === "2" ? b : o.usdValue ?? "",
                    }),
                    t.jsx(wn, { children: u.USD }),
                  ],
                }),
              ],
            }),
            t.jsxs(Le, {
              type: "error",
              visible:
                !!o.isFeeBalanceInsufficient ||
                o.isCurrentBalanceEmpty ||
                o.isBalanceInsufficient ||
                !!o.isAmountBelowMinimum,
              children: [
                o.isFeeBalanceInsufficient &&
                  t.jsx(p, {
                    id: "ufZn76",
                    defaultMessage: [
                      { type: 0, value: "Insufficient " },
                      { type: 1, value: "withdrawalConfigWarningMsg" },
                      { type: 0, value: " in your account for fees" },
                    ],
                    values: {
                      withdrawalConfigWarningMsg:
                        m[o.selectedCurrency].feeCurrency,
                    },
                  }),
                (o.isCurrentBalanceEmpty || o.isBalanceInsufficient) &&
                  t.jsx(p, {
                    id: "q20w1R",
                    defaultMessage: [
                      { type: 0, value: "Insufficient funds in your balance" },
                    ],
                  }),
                o.isAmountBelowMinimum
                  ? t.jsx(p, {
                      id: "0Q/8t0",
                      defaultMessage: [
                        { type: 0, value: "Amount below allowed minimum of " },
                        { type: 1, value: "value" },
                        { type: 0, value: " " },
                        { type: 1, value: "code" },
                      ],
                      values: { value: z, code: o.selectedCurrency },
                    })
                  : "",
              ],
            }),
          ],
        }),
        t.jsxs(pr, {
          children: [
            t.jsx(zt, {
              selected: o.selectedReceiverType === "address",
              onClick: () =>
                r((j) => ({
                  ...j,
                  selectedReceiverType: "address",
                  newContact: Vt,
                })),
              children: t.jsx(Ft, {
                subdued: o.selectedReceiverType !== "address",
                children: t.jsx(p, {
                  id: "e6Ph5+",
                  defaultMessage: [{ type: 0, value: "Address" }],
                }),
              }),
            }),
            t.jsx(zt, {
              selected: o.selectedReceiverType === "email",
              onClick: () => {
                P({
                  required: J.kycVerified,
                  action: () => {
                    r((j) => ({
                      ...j,
                      selectedReceiverType: "email",
                      newContact: Vt,
                    }));
                  },
                  blockAction: s,
                })();
              },
              children: t.jsx(Ft, {
                subdued: o.selectedReceiverType !== "email",
                children: t.jsx(p, {
                  id: "sy+pv5",
                  defaultMessage: [{ type: 0, value: "Email" }],
                }),
              }),
            }),
            (o.selectedCurrency === u.KAG || o.selectedCurrency === u.KAU) &&
              c &&
              t.jsx(zt, {
                selected: o.selectedReceiverType === "vault",
                onClick: () =>
                  r((j) => ({
                    ...j,
                    selectedReceiverType: "vault",
                    newContact: Vt,
                  })),
                children: t.jsx(Ft, {
                  subdued: o.selectedReceiverType !== "vault",
                  children: t.jsx(p, {
                    id: "3yk8fB",
                    defaultMessage: [{ type: 0, value: "Wallet" }],
                  }),
                }),
              }),
          ],
        }),
        o.selectedReceiverType === "address" &&
          t.jsxs(he, {
            children: [
              t.jsx(Re, {
                children: t.jsx(p, {
                  id: "e6Ph5+",
                  defaultMessage: [{ type: 0, value: "Address" }],
                }),
              }),
              t.jsx(rr, {
                currency: o.selectedCurrency,
                address:
                  ((Ge = o == null ? void 0 : o.newContact) == null
                    ? void 0
                    : Ge.address) ?? "",
                cryptoNetwork: o.cryptoNetwork,
                onAddressChange: (j) => {
                  r((N) => {
                    let H = {
                      ...N,
                      newContact: {
                        ...N.newContact,
                        address: j.address,
                        addressValid: j.addressValid,
                      },
                    };
                    if (j.cryptoNetwork) {
                      const de = j.cryptoNetwork;
                      H.cryptoNetwork = de;
                      const pe = _(N.selectedCurrencyAmount ?? "0", de);
                      H = { ...H, ...pe };
                    }
                    return H;
                  });
                },
              }),
            ],
          }),
        o.selectedReceiverType === "email" &&
          t.jsxs(he, {
            children: [
              t.jsx(Re, {
                children: t.jsx(p, {
                  id: "hJZwTS",
                  defaultMessage: [{ type: 0, value: "Email address" }],
                }),
              }),
              t.jsx(er, {
                defaultValue: o.email,
                onEmailChanged: (j) => r((N) => ({ ...N, email: j })),
              }),
            ],
          }),
        ze.includes(o.selectedCurrency) &&
          t.jsxs(he, {
            children: [
              t.jsx(Re, {
                children: t.jsx(p, {
                  id: "I3JhPS",
                  defaultMessage: [{ type: 0, value: "Network" }],
                }),
              }),
              t.jsx(cn, {
                currentCryptoNetwork: o.cryptoNetwork,
                setNetwork: (j) => {
                  $e(j);
                },
              }),
            ],
          }),
        !o.newContactSaveOptionSelected &&
          (o.selectedReceiverType === "email"
            ? t.jsxs(he, {
                children: [
                  t.jsx(Re, {
                    children: t.jsx(p, {
                      id: "T7Ry38",
                      defaultMessage: [{ type: 0, value: "Message" }],
                    }),
                  }),
                  t.jsxs(Kn, {
                    children: [
                      t.jsx(hr, {
                        maxLength: 100,
                        onChange: (j) => {
                          const N = j.target.value ?? "",
                            H = o.referenceLength ?? 0;
                          if ((H >= 100 || N.length > 100) && N.length > H)
                            return;
                          const de =
                            N.replace(ht, "").length +
                            2 * (N.length - N.replace(ht, "").length);
                          r((pe) => ({
                            ...pe,
                            reference: N,
                            referenceLength: de,
                          }));
                        },
                        value: o.reference,
                        placeholder: re({
                          id: "ig5KWc",
                          defaultMessage: [
                            {
                              type: 0,
                              value: "Message to receiver (optional)",
                            },
                          ],
                        }),
                      }),
                      t.jsx(Ae, {
                        subdued: !0,
                        children: t.jsx(p, {
                          id: "VZb4+Q",
                          defaultMessage: [
                            { type: 1, value: "length" },
                            { type: 0, value: "/" },
                            { type: 1, value: "maxLength" },
                          ],
                          values: {
                            length: o.referenceLength ?? 0,
                            maxLength: 100,
                          },
                        }),
                      }),
                    ],
                  }),
                ],
              })
            : t.jsxs(k, {
                gap: "16px",
                children: [
                  t.jsxs(he, {
                    children: [
                      t.jsx(Re, { children: B.title }),
                      t.jsxs(Kn, {
                        children: [
                          t.jsx(fr, {
                            maxLength: B.maxLength,
                            onChange: (j) => {
                              const N = j.target.value ?? "";
                              if (
                                ((o.referenceLength ?? 0) >= B.maxLength ||
                                  N.length > B.maxLength) &&
                                N.length > o.reference.length
                              )
                                return;
                              const de =
                                N.replace(ht, "").length +
                                2 * (N.length - N.replace(ht, "").length);
                              r((pe) => ({
                                ...pe,
                                reference: N,
                                referenceLength: de,
                              }));
                            },
                            value: o.reference,
                            type: "text",
                            placeholder: B.placeholder,
                          }),
                          B.showCharCount &&
                            t.jsx(Ae, {
                              subdued: !0,
                              children: t.jsx(p, {
                                id: "VZb4+Q",
                                defaultMessage: [
                                  { type: 1, value: "length" },
                                  { type: 0, value: "/" },
                                  { type: 1, value: "maxLength" },
                                ],
                                values: {
                                  length: o.referenceLength ?? 0,
                                  maxLength: B.maxLength,
                                },
                              }),
                            }),
                        ],
                      }),
                    ],
                  }),
                  B.showDisclaimerMsg &&
                    t.jsx(mr, { children: t.jsx(at, { children: U }) }),
                ],
              })),
        t.jsxs(R, {
          justifyContent: "center",
          gap: "16px",
          children: [
            t.jsx(ae, {
              size: "large",
              onClick: s,
              "data-cy": "send-crypto-form-cancel-button",
              children: t.jsx(p, {
                id: "47FYwb",
                defaultMessage: [{ type: 0, value: "Cancel" }],
              }),
            }),
            t.jsx(Z, {
              disabled: br(o),
              size: "large",
              onClick: () => {
                const {
                    selectedCurrency: j,
                    selectedReceiverType: N,
                    selectedContact: H,
                    newContact: de,
                    selectedCurrencyAmount: pe,
                    totalAmountToSend: De,
                    reference: He,
                    email: Oe,
                    referenceLength: dt,
                    cryptoNetwork: Ee,
                  } = o,
                  Qs = j === u.KVT && y ? xt : g.latestMidPrice;
                i({
                  selectedCurrency: j,
                  selectedReceiverType: N,
                  sendAmount: vt({ value: Number(pe), currencyCode: j }),
                  totalAmount: vt({ value: Number(De), currencyCode: j }),
                  usdRateForOne: Qs,
                  contact: H ?? de,
                  reference: He,
                  email: Oe,
                  referenceLength: dt,
                  cryptoNetwork: Ee,
                });
              },
              "data-cy": "send-crypto-form-next-button",
              children: t.jsx(p, {
                id: "ruJlSX",
                defaultMessage: [{ type: 0, value: "NEXT" }],
              }),
            }),
          ],
        }),
      ],
    });
  },
  vr = l("div")`
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 32px;
  font-size: 14px;
  padding: 0 8px;
  width: 100%;
  background-color: ${({ theme: e }) => e.palette.designColors.surface.default};
  font-family: ${({ theme: e }) => e.typography.fonts.regular};
  overflow-y: auto;
`,
  jr = l("div")`
  text-align: center;
  font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
`,
  wr = l("div")`
  font-size: 14px;
  text-align: center;
  margin-bottom: 8px;
  font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
`,
  Mr = l("div")`
  position: relative;
  top: 7px;
`,
  Sr = l("div")`
  display: flex;
  flex-direction: row;
  justify-content: left;
  align-items: center;
  border: 1px solid ${({ theme: e }) => e.palette.designColors.borders.subdued};
  height: 56px;
  width: max-content;
  border-radius: 28px;
  padding-left: 12px;
  padding-right: 20px;
  margin-top: 8px;
  margin-bottom: 16px;
`,
  kr = l("div")`
  display: flex;
  font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
  font-size: 13px;
  text-align: center;
  border: 1px solid ${({ theme: e }) => e.palette.designColors.borders.subdued};
  border-radius: 28px;
  padding: 12px 16px;
  max-width: 360px;
  margin-bottom: 32px;
  word-break: break-word;
`,
  Ar = l("tr")`
  color: ${({ theme: e }) => e.palette.designColors.text.subdued};
  font-family: ${({ theme: e }) => e.typography.fonts.mediumItalic};
  font-size: 13px;
  line-height: 16px;
  padding-top: 50px;
  justify-content: flex-end;
  align-items: center;
`,
  Wn = l("span")`
  font-family: ${({ theme: e }) => e.typography.fonts.bold};
`,
  Tr = l("div")`
  margin-left: 4px;
  text-align: left;
  cursor: pointer;
  color: ${({ theme: e }) => e.palette.designColors.surface.default};

  &:hover > .Tooltip {
    visibility: visible;
  }
`,
  $r = l(ot)`
  width: 32px;
  margin: 12px 8px;
  border-radius: 50%;
`,
  Ir = l("div")`
  display: flex;
  flex-direction: column;
  justify-content: left;
`,
  Dr = l("span")`
  font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
`,
  Er = l("span")`
  ${({ theme: e }) => e.palette.designColors.text.tertiary};
`,
  Rr = l(Os)`
  border-collapse: unset;
`,
  Br = l(Nt)`
  width: 40%;
  padding-left: 12px;
  border-left: 1px solid ${({ theme: e }) =>
    e.palette.designColors.borders.subdued};
  border-right: none;
  border-radius: ${({ hasBorderRadius: e }) => (e ? "4px 0 0 0 " : "0")};
`,
  Nr = l(Pt)`
  word-break: break-word;
  padding-left: 10px;
  padding-right: 12px;
  border-right: 1px solid ${({ theme: e }) =>
    e.palette.designColors.borders.subdued};
  border-radius: ${({ hasBorderRadius: e }) => (e ? "0 4px 0 0 " : "0")};
`,
  Pr = l(Nt)`
  font-size: 16px;
  color: ${({ theme: e }) =>
    e.palette.designColors.greyscale.black.default} !important;
  padding-left: 12px;
  border-bottom: 1px solid ${({ theme: e }) =>
    e.palette.designColors.borders.subdued};
  border-left: 1px solid ${({ theme: e }) =>
    e.palette.designColors.borders.subdued};
  border-right: none;
  border-radius: 0 0 0 4px;
`,
  Fr = l(Pt)`
  font-size: 18px;
  font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
  padding-right: 12px;
  border-bottom: 1px solid ${({ theme: e }) =>
    e.palette.designColors.borders.subdued};
  border-right: 1px solid ${({ theme: e }) =>
    e.palette.designColors.borders.subdued};
  border-radius: 0 0 4px 0;
`,
  Lr = l("span", { shouldForwardProp: G(["currencyCode"]) })`
  font-size: 10px;
  margin-top: 1px;
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
  color: ${({ theme: e }) => e.palette.designColors.text.subdued};

  &::before {
    content: '${({ currencyCode: e }) => Ue(e)}';
  }
`,
  Vr = l("div")`
  display: flex;
  flex-direction: row;
  margin-top: 32px;
  button {
    margin-left: 4px;
    margin-right: 4px;
  }
`,
  zr = l("div", { shouldForwardProp: G(["isEmailWithdrawal"]) })`
  font-size: 12px;
  font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
  background-color: ${({ isEmailWithdrawal: e }) =>
    e ? "rgba(240, 173, 78, 0.1)" : "rgba(91, 192, 222, 0.1)"};
  padding: 16px;
  text-align: center;
  border: 1px solid ${({ isEmailWithdrawal: e }) =>
    e ? "#ff9800" : "#5bc0de"};
  border-radius: 4px;
  margin-top: 32px;
`,
  Or = l("div", { shouldForwardProp: G(["code"]) })`
  color: ${({ code: e, theme: n }) =>
    n.palette.colorPalette.currencies[e].default};
  &::before {
    content: '${({ code: e }) => Ue(e)}';
  }
`,
  Ur = l("span")`
  font-family: ${({ theme: e }) => e.typography.fonts.bold};
`,
  _r = (e, n) => {
    const { formatMessage: s } = W();
    switch (e) {
      case oe.KAU:
      case oe.KAG:
        return s(
          {
            id: "3pWn1H",
            defaultMessage: [
              { type: 1, value: "coin" },
              { type: 0, value: " are sent and received in seconds" },
            ],
          },
          { coin: e }
        );
      case oe.KVT:
        return s({
          id: "N+1rmT",
          defaultMessage: [
            {
              type: 0,
              value:
                "Sending KVT outside of Kinesis network will be subject to XLM Stellar Network speeds",
            },
          ],
        });
      case oe.BTC:
      case oe.USDT:
      case oe.ETH:
      case oe.BCH:
      case oe.LTC:
      case oe.DASH:
      case oe.XRP:
      case oe.ADA:
      case oe.XLM:
      case oe.XDC:
        return s(
          {
            id: "BlMUcF",
            defaultMessage: [
              { type: 0, value: "Sending " },
              { type: 1, value: "name" },
              {
                type: 0,
                value: " outside of Kinesis network will be subject to ",
              },
              { type: 1, value: "name" },
              { type: 0, value: " network speeds" },
            ],
          },
          { name: hn[e] }
        );
      case oe.USDC:
        return s(
          {
            id: "ypjFdY",
            defaultMessage: [
              {
                type: 0,
                value:
                  "Sending USDC outside of Kinesis network will be subject to ",
              },
              { type: 1, value: "network" },
              { type: 0, value: " network speeds" },
            ],
          },
          { network: n === Q.stellar ? "XLM Stellar" : "USDC" }
        );
      default:
        return s(
          {
            id: "3pWn1H",
            defaultMessage: [
              { type: 1, value: "coin" },
              { type: 0, value: " are sent and received in seconds" },
            ],
          },
          { coin: e }
        );
    }
  },
  Kr = (e) =>
    t.jsx(Ar, {
      children: t.jsxs(Tr, {
        children: [
          t.jsx(Mr, {
            children: t.jsx(F, {
              "data-tip": !0,
              "data-tooltip-id": "sendConfirmTooltip",
              name: V.meatBall,
              size: A.fourteen,
              fill: (n) => n.palette.designColors.icons.interactive,
              hoverFill: (n) => n.palette.designColors.icons.interactive,
            }),
          }),
          t.jsx(nt, {
            id: "sendConfirmTooltip",
            place: "right",
            children: t.jsx(st, { children: e.data }),
          }),
        ],
      }),
    }),
  qr = (e) =>
    t.jsxs("div", {
      children: [
        t.jsxs(Wn, {
          children: [
            t.jsx(p, {
              id: "c740J3",
              defaultMessage: [
                { type: 0, value: "If " },
                { type: 1, value: "data" },
                { type: 0, value: " has not redeemed funds " },
                {
                  type: 8,
                  value: "EmailWithdrawalBoldText",
                  children: [{ type: 0, value: "within 7 days" }],
                },
                {
                  type: 0,
                  value:
                    " the transaction will expire and you will be refunded.",
                },
              ],
              values: {
                data: e.data,
                EmailWithdrawalBoldText: (n) => t.jsx(Ur, { children: n }),
              },
            }),
            t.jsx("br", {}),
          ],
        }),
        t.jsxs(Wn, {
          children: [
            t.jsx("br", {}),
            t.jsx(p, {
              id: "7MpMXs",
              defaultMessage: [
                { type: 0, value: "Please note: " },
                { type: 1, value: "propsData" },
                {
                  type: 0,
                  value:
                    " may see your name and email address in an email that will be sent to them.",
                },
              ],
              values: { propsData: e.data },
            }),
          ],
        }),
      ],
    }),
  Wr = (e) => {
    const { currencyCode: n, cryptoNetwork: s } = e;
    return Ls(n, s)
      ? t.jsx(p, {
          id: "xEc7rD",
          defaultMessage: [{ type: 0, value: "Destination Tag/Memo" }],
        })
      : t.jsx(p, {
          id: "mcUhhf",
          defaultMessage: [{ type: 0, value: "Reference" }],
        });
  },
  Gr = (e) => {
    const {
        cryptoNetwork: n,
        beneficiaryName: s,
        sendFrom: i,
        email: a,
        sendTo: o,
        currency: r,
        currencyCode: d,
        sendAmount: h,
        reference: f,
        withdrawalConfig: m,
        totalAmount: c,
        contact: x,
        USDValue: g,
        onBackClicked: M,
        onConfirmClicked: y,
      } = e,
      [b, E] = C.useState(!1),
      v = _r(d, n),
      T = d === u.KVT ? m.feeAmount : new fe(c).minus(h).toNumber(),
      $ = C.useMemo(() => {
        const I = [
          {
            label: t.jsx(p, {
              id: "8Rkoyb",
              defaultMessage: [{ type: 0, value: "Recipient" }],
            }),
            value: s,
          },
          {
            label: t.jsx(p, {
              id: "dM+p3/",
              defaultMessage: [{ type: 0, value: "From" }],
            }),
            value: i,
          },
          {
            label: t.jsx(p, {
              id: "9j3hXO",
              defaultMessage: [{ type: 0, value: "To" }],
            }),
            value: a !== "" ? a : o,
          },
        ];
        return (
          [u.USDC, u.USD1].includes(d) &&
            I.push({
              label: t.jsx(p, {
                id: "I3JhPS",
                defaultMessage: [{ type: 0, value: "Network" }],
              }),
              value:
                n === Q.stellar
                  ? t.jsx(p, {
                      id: "weKi8N",
                      defaultMessage: [
                        { type: 0, value: "XLM Stellar Network" },
                      ],
                    })
                  : t.jsx(p, {
                      id: "MFzxq1",
                      defaultMessage: [{ type: 0, value: "Ethereum Network" }],
                    }),
            }),
          I.push(
            {
              label:
                a !== ""
                  ? t.jsx(p, {
                      id: "T7Ry38",
                      defaultMessage: [{ type: 0, value: "Message" }],
                    })
                  : t.jsx(Wr, { currencyCode: d, cryptoNetwork: n }),
              value: t.jsxs("span", {
                children: [
                  f == null ? void 0 : f.substring(0, 25),
                  f.length >= 26 &&
                    t.jsx("span", { children: t.jsx(Kr, { data: f }) }),
                ],
              }),
            },
            {
              label: t.jsx(p, {
                id: "CDK/+G",
                defaultMessage: [{ type: 0, value: "Send amount" }],
              }),
              value: ie(
                { code: d, value: h },
                { appendCurrencyCode: !0, prependFiatSymbol: !1 }
              ),
            },
            {
              label: t.jsx(p, {
                id: "uT4OlP",
                defaultMessage: [{ type: 0, value: "Fee" }],
              }),
              value: ie(
                { code: m.feeCurrency, value: T },
                { appendCurrencyCode: !0, prependFiatSymbol: !1 }
              ),
            }
          ),
          I
        );
      }, [n, s, i, a, o, d, h, f, m, T]);
    return t.jsxs(vr, {
      children: [
        t.jsx(jr, {
          children: t.jsx(p, {
            id: "tjIOYZ",
            defaultMessage: [{ type: 0, value: "You are sending" }],
          }),
        }),
        t.jsxs(Sr, {
          children: [
            t.jsx($r, { currencyCode: d }),
            t.jsxs(Ir, {
              children: [
                t.jsx(Dr, { children: r }),
                t.jsx(Er, { children: d }),
              ],
            }),
          ],
        }),
        t.jsx(wr, {
          children: t.jsx(p, {
            id: "9j3hXO",
            defaultMessage: [{ type: 0, value: "To" }],
          }),
        }),
        t.jsx(kr, {
          "data-cy": "send-confirmation-to",
          children: a !== "" ? a : x ? x.address : o,
        }),
        t.jsxs(Rr, {
          children: [
            $.map((I, D) =>
              t.jsxs(
                "tr",
                {
                  children: [
                    t.jsx(Br, { hasBorderRadius: !D, children: I.label }),
                    t.jsx(Nr, { hasBorderRadius: !D, children: I.value }),
                  ],
                },
                D
              )
            ),
            t.jsxs("tr", {
              children: [
                t.jsx(Pr, {
                  children: t.jsx(p, {
                    id: "MJ2jZQ",
                    defaultMessage: [{ type: 0, value: "Total" }],
                  }),
                }),
                t.jsxs(Fr, {
                  code: d,
                  children: [
                    t.jsx("span", {
                      children: t.jsx(Or, {
                        code: d,
                        "data-cy": "send-confirmation-total",
                        children: ie(
                          { code: d, value: c },
                          { appendCurrencyCode: !0 }
                        ),
                      }),
                    }),
                    c &&
                      t.jsxs(Lr, {
                        ...e,
                        children: [g.toFixed(2), " ", u.USD],
                      }),
                  ],
                }),
              ],
            }),
          ],
        }),
        t.jsx(zr, {
          isEmailWithdrawal: !!a,
          children: a ? t.jsx(qr, { data: a.split("@")[0] }) : v,
        }),
        t.jsxs(Vr, {
          children: [
            t.jsx(ae, {
              size: "large",
              onClick: M,
              "data-cy": "send-confirmation-back-button",
              children: t.jsx(p, {
                id: "cyR7Kh",
                defaultMessage: [{ type: 0, value: "Back" }],
              }),
            }),
            t.jsx(Z, {
              size: "large",
              "data-cy": "send-confirmation-confirm-button",
              disabled: b,
              onClick: () => {
                E(!0), y(vt({ value: h, currencyCode: d }));
              },
              children: t.jsx(p, {
                id: "N2IrpM",
                defaultMessage: [{ type: 0, value: "Confirm" }],
              }),
            }),
          ],
        }),
      ],
    });
  },
  Hr = (e) => {
    const {
        contact: n,
        reference: s,
        sendAmount: i,
        totalAmount: a,
        selectedCurrency: o,
        selectedReceiverType: r,
        usdRateForOne: d,
        withdrawalConfig: h,
        email: f,
        cryptoNetwork: m,
        beneficiaryName: c,
      } = e,
      x = {
        address: `${o} Address`,
        contacts: (n ?? { name: "" }).name,
        vault: "Your Wallet",
      };
    return t.jsx(Gr, {
      currency: hn[o],
      currencyCode: o,
      sendFrom: `${o} Account`,
      sendTo: x[r],
      beneficiaryName: c,
      contact: e.contact,
      reference: s,
      email: f,
      sendAmount: i,
      totalAmount: a,
      withdrawalConfig: h,
      USDValue: Number(Gt(u.USD, new fe(a).times(d))),
      onBackClicked: e.onBackClick,
      onConfirmClicked: e.onSubmitClick,
      cryptoNetwork: m,
    });
  },
  Xr = l(Yi)(({ theme: e }) => ({
    width: 24,
    height: 16,
    padding: 0,
    display: "flex",
    "&:active": {
      "& .MuiSwitch-thumb": { width: 15 },
      "& .MuiSwitch-switchBase.Mui-checked": { transform: "translateX(9px)" },
    },
    "& .MuiSwitch-switchBase": {
      padding: 2,
      "&.Mui-checked": {
        transform: "translateX(8px)",
        color: e.palette.designColors.icons.iconsOn.primary,
        "& + .MuiSwitch-track": {
          opacity: 1,
          backgroundColor: e.palette.designColors.interactive.primary.default,
        },
      },
    },
    "& .MuiSwitch-thumb": {
      width: 12,
      height: 12,
      borderRadius: 6,
      transition: "width 2s",
    },
    "& .MuiSwitch-track": {
      borderRadius: 24 / 2,
      opacity: 1,
      backgroundColor: e.palette.designColors.icons.subtle,
      boxSizing: "border-box",
    },
  })),
  Qr = (e) => {
    const { value: n, setValue: s } = e;
    return t.jsx(Qi, {
      direction: "row",
      spacing: 1,
      alignItems: "center",
      children: t.jsx(Xr, {
        checked: n,
        value: n,
        onChange: (i) => {
          s(i.target.value);
        },
      }),
    });
  },
  Yr = l(R)`
  padding: 16px;
  border-radius: 12px;
  background-color: ${({ theme: e }) => e.palette.designColors.surface.subdued};
`,
  Ot = l("input")`
  height: 100%;
  width: 100%;
  outline: none;
  border: 1px solid ${({ theme: e }) =>
    e.palette.designColors.borders.disabled};
  border-radius: 4px;
  padding: 10px 12px;

  ::placeholder {
    color: ${({ theme: e }) => e.palette.designColors.text.subdued};
  }
`,
  Zr = l(R)`
  padding: 2px;
  width: fit-content;
  border-radius: 16px;
  background-color: ${({ theme: e }) =>
    e.palette.designColors.background.default};
`,
  Gn = l(Zi, { shouldForwardProp: G(["isActive"]) })`
  color: ${({ theme: e, isActive: n }) =>
    n
      ? e.palette.designColors.text.default
      : e.palette.designColors.text.subdued};
  background-color: ${({ theme: e, isActive: n }) =>
    n ? e.palette.designColors.surface.default : "transparent"};
  border-radius: 24px;
  border: none;
  max-height: unset !important;
`,
  Jr = (e) => {
    var g, M, y;
    const { initialState: n, onBackClick: s, onNextClick: i } = e,
      [a, o] = C.useState(n),
      r = L(di),
      d = L(ci),
      h = L(At),
      f = L(ui),
      m = h === $t.corporate,
      c = a.isSelectedCorporate,
      x = m === c;
    return t.jsxs(k, {
      gap: "24px",
      paddingBottom: "16px",
      children: [
        t.jsx(Ae, {
          children: t.jsx(p, {
            id: "vse/RS",
            defaultMessage: [
              {
                type: 0,
                value:
                  "To keep your account secure, enter the recipient's details if you're sending to yours or someone else's account.",
              },
            ],
          }),
        }),
        t.jsxs(Zr, {
          children: [
            t.jsx(Gn, {
              size: "small",
              isActive: !c,
              onClick: () => {
                c && o({ ...a, isSelectedCorporate: !1 });
              },
              children: t.jsx(p, {
                id: "NDx+B0",
                defaultMessage: [{ type: 0, value: "Personal" }],
              }),
            }),
            t.jsx(Gn, {
              size: "small",
              isActive: c,
              onClick: () => {
                c || o({ ...a, isSelectedCorporate: !0 });
              },
              children: t.jsx(p, {
                id: "w1Fanr",
                defaultMessage: [{ type: 0, value: "Business" }],
              }),
            }),
          ],
        }),
        x &&
          t.jsxs(Yr, {
            justifyContent: "space-between",
            children: [
              t.jsx(Ae, {
                children: t.jsx(p, {
                  id: "oCy7fi",
                  defaultMessage: [{ type: 0, value: "Send to my account" }],
                }),
              }),
              t.jsx(Qr, {
                value: a.isMyAccount,
                setValue: () => {
                  const b = !a.isMyAccount;
                  o({
                    ...a,
                    businessName: c ? (b ? f : "") : a.businessName,
                    firstName: c ? a.firstName : b ? r : "",
                    lastName: c ? a.lastName : b ? d : "",
                    isMyAccount: b,
                  });
                },
              }),
            ],
          }),
        c
          ? t.jsxs(k, {
              gap: "4px",
              children: [
                t.jsx(Ae, {
                  children: t.jsx(p, {
                    id: "JlX9Hj",
                    defaultMessage: [{ type: 0, value: "Business name" }],
                  }),
                }),
                t.jsx(Ot, {
                  maxLength: 255,
                  disabled: x && a.isMyAccount,
                  onChange: (b) => {
                    o({ ...a, businessName: b.target.value });
                  },
                  value: a.businessName,
                  type: "text",
                }),
              ],
            })
          : t.jsxs(k, {
              gap: "12px",
              children: [
                t.jsxs(k, {
                  gap: "4px",
                  children: [
                    t.jsx(Ae, {
                      children: t.jsx(p, {
                        id: "pONqz8",
                        defaultMessage: [{ type: 0, value: "First name" }],
                      }),
                    }),
                    t.jsx(Ot, {
                      maxLength: 255,
                      disabled: x && a.isMyAccount,
                      onChange: (b) => {
                        o({ ...a, firstName: b.target.value });
                      },
                      value: a.firstName,
                      type: "text",
                    }),
                  ],
                }),
                t.jsxs(k, {
                  gap: "4px",
                  children: [
                    t.jsx(Ae, {
                      children: t.jsx(p, {
                        id: "txUL0F",
                        defaultMessage: [{ type: 0, value: "Last name" }],
                      }),
                    }),
                    t.jsx(Ot, {
                      maxLength: 255,
                      disabled: x && a.isMyAccount,
                      onChange: (b) => {
                        o({ ...a, lastName: b.target.value });
                      },
                      value: a.lastName,
                      type: "text",
                    }),
                  ],
                }),
              ],
            }),
        t.jsxs(R, {
          gap: "8px",
          justifyContent: "center",
          padding: "16px 0",
          children: [
            t.jsx(ae, {
              size: "large",
              onClick: s,
              "data-cy": "send-crypto-cancel-button",
              children: t.jsx(p, {
                id: "orvpWh",
                defaultMessage: [{ type: 0, value: "Go back" }],
              }),
            }),
            t.jsx(Z, {
              disabled: c
                ? !((g = a.businessName) != null && g.trim())
                : !(
                    (M = a.firstName) != null &&
                    M.trim() &&
                    (y = a.lastName) != null &&
                    y.trim()
                  ),
              size: "large",
              onClick: () => {
                var b, E, v, T, $, I;
                return i({
                  ...a,
                  firstName: c
                    ? ""
                    : (b = a.firstName) == null
                    ? void 0
                    : b.trim(),
                  lastName: c
                    ? ""
                    : (E = a.lastName) == null
                    ? void 0
                    : E.trim(),
                  businessName: c
                    ? (v = a.businessName) == null
                      ? void 0
                      : v.trim()
                    : "",
                  isMyAccount: x ? a.isMyAccount : !1,
                  beneficiaryName: c
                    ? (T = a.businessName) == null
                      ? void 0
                      : T.trim()
                    : `${($ = a.firstName) == null ? void 0 : $.trim()} ${
                        (I = a.lastName) == null ? void 0 : I.trim()
                      }`,
                });
              },
              "data-cy": "send-crypto-next-button",
              children: t.jsx(p, {
                id: "ruJlSX",
                defaultMessage: [{ type: 0, value: "NEXT" }],
              }),
            }),
          ],
        }),
      ],
    });
  },
  el = ({ mfaType: e, onBack: n, onSubmit: s, onCloseClick: i }) =>
    t.jsx(t.Fragment, {
      children: {
        [je.sms]: t.jsx(dn, { onBack: n, onSubmit: s, onCloseClick: i }),
        [je.qrCode]: t.jsx(ln, { onBack: n, onSubmit: s }),
      }[e],
    }),
  tl = () => {
    const e = Me();
    return async (n, s) => {
      var i, a, o;
      try {
        return (
          await n, (i = s.closeModal) == null || i.call(s), { success: !0 }
        );
      } catch (r) {
        if (rt(r)) {
          const d = r.data;
          if (
            r.status === 403 &&
            d.message === "MFA required for crypto withdrawal"
          )
            return (a = s.openMfaModal) == null || a.call(s), { success: !1 };
          if (d.message === "Unsuccessful MFA token verification" && d.metadata)
            return (
              e(
                pi({
                  isTokenValid: d.metadata.isTokenValid,
                  reachedLimit: d.metadata.reachedLimit,
                  verificationAttempts: d.metadata.verificationAttempts,
                  hasError: !0,
                  loading: !1,
                })
              ),
              { success: !1 }
            );
        }
        return (o = s.closeModal) == null || o.call(s), { success: !1 };
      }
    };
  },
  nl = ({
    wallet: {
      dashboardState: {
        accounts: { accounts: e },
      },
    },
    vault: n,
  }) => ({
    accountAddresses: e.data,
    vaultAddress: n.accounts.existingVaultPublicKey,
  }),
  sl = (e) => {
    var b, E;
    const { selectedCurrency: n } = e,
      { data: s } = hi(),
      i = s == null ? void 0 : s.mfaType,
      a = L(At),
      [o] = Wi(),
      [r] = Gi(),
      d = tl(),
      { data: h = {}, isLoading: f } = fn(),
      { formatMessage: m } = W(),
      [c, x] = C.useState({
        selectedCurrency: n || u.KAU,
        selectedReceiverType: "address",
        sendAmount: void 0,
        totalAmount: void 0,
        reference: "",
        email: "",
        cryptoNetwork: void 0,
        usdRateForOne: void 0,
        contactSearchTerm: "",
        confirmationOpen: !1,
        contact: void 0,
        isMyAccount: !1,
        isSelectedCorporate: a === $t.corporate,
        beneficiaryName: "",
      }),
      [g, M] = C.useState(0),
      y = async (v, T) => {
        const {
            reference: $,
            selectedReceiverType: I,
            email: D,
            cryptoNetwork: B,
          } = c,
          U = () => M(3),
          z = {
            memo: $,
            currencyCode: c.selectedCurrency,
            amount: v,
            address: I === "vault" ? e.vaultAddress : c.contact.address,
            withdrawalType: fi.withdrawal,
            cryptoNetwork: B === Q.default ? void 0 : B,
            beneficiaryName: c.beneficiaryName ?? "",
            closeModal: e.onCloseClick,
            openMfaModal: U,
            mfaToken: T,
          },
          ee = {
            description: $,
            currencyCode: c.selectedCurrency,
            amount: v,
            receiverEmail: D,
            cryptoNetwork: B === Q.default ? void 0 : B,
            beneficiaryName: c.beneficiaryName ?? "",
            closeModal: e.onCloseClick,
            openMfaModal: U,
            mfaToken: T,
          };
        if (I === "email") {
          const P = await d(r(ee).unwrap(), ee);
          return (
            P.success &&
              ue.success(
                m(
                  {
                    id: "bRAiGZ",
                    defaultMessage: [
                      { type: 0, value: "Successfully transferred " },
                      { type: 1, value: "payloadAmount" },
                      { type: 0, value: " " },
                      { type: 1, value: "payloadCurrencyCode" },
                      { type: 0, value: " to " },
                      { type: 1, value: "payloadReceiverEmail" },
                    ],
                  },
                  {
                    payloadAmount: ee.amount,
                    payloadCurrencyCode: ee.currencyCode,
                    payloadReceiverEmail: ee.receiverEmail,
                  }
                )
              ),
            P
          );
        }
        const S = await d(o(z).unwrap(), z);
        return (
          S.success &&
            ue.success(
              m(
                {
                  id: "iz3dwX",
                  defaultMessage: [
                    { type: 0, value: "Successfully transferred " },
                    { type: 1, value: "payloadAmount" },
                    { type: 0, value: " " },
                    { type: 1, value: "payloadCurrencyCode" },
                    { type: 0, value: " to " },
                    { type: 1, value: "payloadAddress" },
                  ],
                },
                {
                  payloadAmount: z.amount,
                  payloadCurrencyCode: z.currencyCode,
                  payloadAddress: z.address,
                }
              )
            ),
          S
        );
      };
    return f || !h
      ? t.jsx(Dt, {})
      : t.jsx(t.Fragment, {
          children: {
            0: t.jsx(Cr, {
              initialState: c,
              onCloseClick: e.onCloseClick,
              onNextClick: (v) => {
                e.setModalHeaderText(
                  m({
                    id: "EKrpZf",
                    defaultMessage: [{ type: 0, value: "Send information" }],
                  })
                ),
                  M(1),
                  x({ ...c, ...v });
              },
              currencyOptions: e.currencyOptions,
            }),
            1: t.jsx(Jr, {
              initialState: c,
              onBackClick: () => {
                e.setModalHeaderText(""), M(0);
              },
              onNextClick: (v) => {
                e.setModalHeaderText(
                  m({
                    id: "ZRsGVV",
                    defaultMessage: [{ type: 0, value: "Send confirmation" }],
                  })
                ),
                  M(2),
                  x({ ...c, ...v, confirmationOpen: !0 });
              },
            }),
            2: t.jsx(Hr, {
              accountAddress:
                ((E =
                  (b = e.accountAddresses) == null
                    ? void 0
                    : b.find((v) => v.currency === c.selectedCurrency)) == null
                  ? void 0
                  : E.publicKey) ?? "",
              selectedCurrency: c.selectedCurrency || e.selectedCurrency,
              withdrawalConfig: bt(h, c.selectedCurrency, c.cryptoNetwork) || {
                feeAmount: 0,
                feeCurrency: c.selectedCurrency,
                minimumAmount: 0,
              },
              selectedReceiverType: c.selectedReceiverType,
              sendAmount: c.sendAmount,
              totalAmount: c.totalAmount,
              usdRateForOne: c.usdRateForOne,
              contact:
                c.selectedReceiverType === "vault"
                  ? { ...c.contact, address: e.vaultAddress }
                  : c.contact,
              reference: c.reference,
              email: c.email,
              cryptoNetwork: c.cryptoNetwork,
              beneficiaryName: c.beneficiaryName ?? "",
              onBackClick: () => {
                e.setModalHeaderText(
                  m({
                    id: "EKrpZf",
                    defaultMessage: [{ type: 0, value: "Send information" }],
                  })
                ),
                  M(1);
              },
              onSubmitClick: async (v) => {
                x({ ...c, finalAmount: v }), await y(v);
              },
            }),
            3: t.jsx(el, {
              mfaType: i ?? je.sms,
              onBack: () => M(2),
              onSubmit: (v) => y(c.finalAmount, v),
              onCloseClick: e.onCloseClick,
            }),
          }[g],
        });
  },
  il = ye(nl)(sl),
  al = l("div")`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  overflow-y: auto;
  min-height: 250px;

  @media screen and (max-width: 600px) {
    padding-left: 0;
    padding-right: 0;
  }
`,
  ol = l(R)`
  border-bottom: 1px solid ${({ theme: e }) =>
    e.palette.designColors.surface.depressed};
`,
  rl = l(R)`
  flex-shrink: 0;
  height: 48px;
  align-items: center;
  padding: 0px 16px;
  justify-content: space-between;
  border-bottom: 1px solid ${({ theme: e }) =>
    e.palette.designColors.borders.subdued};
`,
  ll = l("span")`
  line-height: 14px;
  font-size: 14px;

  @media only screen and (max-width: ${({ theme: e }) =>
    `${e.breakpoints.values.sm}px`}) {
    font-size: 13px;
  }
`,
  dl = (e) => {
    const {
        selectedModule: n,
        currencyOptions: s,
        switchTabs: i,
        onCloseClick: a,
      } = e,
      [o, r] = C.useState(""),
      d = Rt(),
      [h, f] = C.useState(!1);
    C.useEffect(() => {
      f(!!n);
    }, [n]);
    const m = C.useCallback(() => {
      f(!1), a(), r("");
    }, [a]);
    return t.jsx(Te, {
      open: h,
      onClose: m,
      hidePuller: !0,
      header: o
        ? t.jsx(rl, { children: t.jsx(ll, { children: o }) })
        : t.jsxs(ol, {
            children: [
              t.jsx(yt, {
                active: n === ve.Send,
                onClick: d({
                  required: J.kycVerified,
                  action: () => {
                    r(""), i(ve.Send);
                  },
                  blockAction: () => {
                    e.onCloseClick();
                  },
                }),
                children: t.jsx("span", {
                  "data-cy": "request-form-send-tab",
                  children: t.jsx(p, {
                    id: "Tvsi2s",
                    defaultMessage: [{ type: 0, value: "SEND" }],
                  }),
                }),
              }),
              t.jsx(yt, {
                active: n === ve.Receive,
                onClick: d({
                  required: J.kycVerified,
                  action: () => {
                    r(""), i(ve.Receive);
                  },
                  require2fa: !0,
                  blockAction: () => {
                    e.onCloseClick();
                  },
                }),
                children: t.jsx(p, {
                  id: "Rc4wzo",
                  defaultMessage: [{ type: 0, value: "RECEIVE" }],
                }),
              }),
              t.jsx(yt, {
                active: n === ve.Request,
                onClick: d({
                  required: J.kycVerified,
                  action: () => {
                    r(""), i(ve.Request);
                  },
                  require2fa: !0,
                  blockAction: () => {
                    e.onCloseClick();
                  },
                }),
                children: t.jsx(p, {
                  id: "CPG5X6",
                  defaultMessage: [{ type: 0, value: "REQUEST" }],
                }),
              }),
            ],
          }),
      children: t.jsxs(al, {
        children: [
          n === ve.Send &&
            t.jsx(il, {
              selectedCurrency: e.selectedCurrency,
              onCloseClick: e.onCloseClick,
              setModalHeaderText: r,
              currencyOptions: s,
            }),
          n === ve.Receive &&
            t.jsx(Qo, {
              selectedCurrency: e.selectedCurrency,
              onCancelClick: e.onCloseClick,
              currencyOptions: s,
            }),
          n === ve.Request &&
            t.jsx(Eo, {
              setModalHeaderText: r,
              selectedCurrency: e.selectedCurrency,
              onCancelClick: e.onCloseClick,
              currencyOptions: s,
            }),
        ],
      }),
    });
  },
  cl = () => {
    const e = Me(),
      n = L(ea),
      i = L(ta)
        .map((r) => r.code)
        .filter((r) => !Ts(r)),
      { tab: a, currency: o = u.KAU } = L(
        (r) => r.uiState.global.sendReceiveTransferModal,
        cs
      );
    return t.jsx(dl, {
      selectedCurrency: n.includes(o) ? o : u.KAU,
      selectedModule: a,
      switchTabs: (r) => e(Mn({ tab: r, currency: o })),
      onCloseClick: () => e(Mn({ tab: null })),
      currencyOptions: i,
    });
  },
  ul = l("table")`
  width: 100%;
  border-collapse: collapse;
`,
  pl = l("tr")`
  border-bottom: solid 1px ${(e) =>
    e.theme.palette.designColors.borders.subdued};

  &:first-child {
    border-top: solid 1px ${(e) =>
      e.theme.palette.designColors.borders.subdued};
  }
  & > :not(:first-child) {
    padding: 12px 0 12px 12px;
    border-left: solid 1px ${(e) =>
      e.theme.palette.designColors.borders.subdued};
    flex-grow: 1;
    width: 100%;
  }
  & > :first-child {
    white-space: nowrap;
    padding: 12px 12px 12px 0;
  }
`,
  hl = l("td")`
  display: table-cell;
  font-size: 13px;
  line-height: 16px;
  font-family: ${(e) => e.theme.typography.fonts.medium};
  color: ${(e) => e.theme.palette.designColors.text.tertiary};
`,
  fl = l("td")`
  display: table-cell;
  font-size: 13px;
  line-height: 16px;
  font-family: ${(e) => e.theme.typography.fonts.semiBold};
  color: ${(e) => e.theme.palette.designColors.text.default};
`,
  ml = (e) =>
    t.jsx(ul, { ...e, children: t.jsx("tbody", { children: e.children }) }),
  O = { DetailTable: ml, Row: pl, Heading: hl, Text: fl },
  gl = ({
    settingsState: {
      bankDetailsState: { personalBankDetails: e },
    },
  }) => ({ bankDetails: e.data }),
  xl = l("div")`
  & > :first-child {
    margin-bottom: 24px;
  }
  & > :nth-child(2) {
    margin-bottom: 8px;
  }

  & > :nth-last-child(2) {
    margin-bottom: 32px;
  }
`,
  yl = l("div")`
  font-family: ${(e) => e.theme.typography.fonts.semiBold};
  color: ${(e) => e.theme.palette.designColors.text.default};
  font-size: 14px;
  line-height: 21px;
  text-align: center;
`,
  bl = l("span")`
  margin: auto;
  padding: 3px 4px;

  cursor: pointer;
  float: right;
  font-size: 10px;
  line-height: 10px;
  gap: 5px;
  font-family: ${({ theme: e }) => e.typography.fonts.semiBold};

  border-radius: 2px;
  text-align: center;
  display: inline-flex;
  text-transform: uppercase;

  border: 1px solid ${(e) =>
    e.theme.palette.designColors.interactive.primary.default};
  color: ${(e) => e.theme.palette.designColors.interactive.primary.default};
`,
  Cl = l("div")`
  display: flex;
  flex-direction: row;
  justify-content: center;
  & > :first-child {
    margin-right: 8px;
  }
`,
  vl = (e) => {
    const { bankDetails: n } = e;
    return t.jsxs(xl, {
      children: [
        t.jsx(yl, {
          children: t.jsx(p, {
            id: "Yz8Jq1",
            defaultMessage: [
              {
                type: 0,
                value:
                  "To withdraw funds to your nominated Bank Account, please check your Bank Account details below:",
              },
            ],
          }),
        }),
        t.jsxs(bl, {
          onClick: e.onEditBankDetailsClick,
          children: [
            t.jsx(p, {
              id: "wEQDC6",
              defaultMessage: [{ type: 0, value: "Edit" }],
            }),
            t.jsx(F, {
              name: V.edit,
              size: A.ten,
              fill: (s) => s.palette.designColors.icons.interactive,
            }),
          ],
        }),
        t.jsxs(O.DetailTable, {
          children: [
            t.jsxs(O.Row, {
              children: [
                t.jsx(O.Heading, {
                  children: t.jsx(p, {
                    id: "3WkdVP",
                    defaultMessage: [{ type: 0, value: "Account Name" }],
                  }),
                }),
                t.jsx(O.Text, { children: n.accountHolderName }),
              ],
            }),
            t.jsxs(O.Row, {
              children: [
                t.jsx(O.Heading, {
                  children: t.jsx(p, {
                    id: "hUQSwM",
                    defaultMessage: [{ type: 0, value: "Bank Name" }],
                  }),
                }),
                t.jsx(O.Text, { children: n.bankName }),
              ],
            }),
            t.jsxs(O.Row, {
              children: [
                t.jsx(O.Heading, {
                  children: t.jsx(p, {
                    id: "myy1rN",
                    defaultMessage: [{ type: 0, value: "BSB/Bank Code" }],
                  }),
                }),
                t.jsx(O.Text, { children: n.routingCode }),
              ],
            }),
            t.jsxs(O.Row, {
              children: [
                t.jsx(O.Heading, {
                  children: t.jsx(p, {
                    id: "vV2G6z",
                    defaultMessage: [{ type: 0, value: "Account Number" }],
                  }),
                }),
                t.jsx(O.Text, { children: n.accountNumber }),
              ],
            }),
            t.jsxs(O.Row, {
              children: [
                t.jsx(O.Heading, {
                  children: t.jsx(p, {
                    id: "+SgU+0",
                    defaultMessage: [{ type: 0, value: "IBAN" }],
                  }),
                }),
                t.jsx(O.Text, { children: n.iban }),
              ],
            }),
            t.jsxs(O.Row, {
              children: [
                t.jsx(O.Heading, {
                  children: t.jsx(p, {
                    id: "vD6xZW",
                    defaultMessage: [{ type: 0, value: "SWIFT / BIC" }],
                  }),
                }),
                t.jsx(O.Text, { children: n.bankSwiftCode }),
              ],
            }),
            t.jsxs(O.Row, {
              children: [
                t.jsx(O.Heading, {
                  children: t.jsx(p, {
                    id: "yqqYN5",
                    defaultMessage: [{ type: 0, value: "ABA / IFSC" }],
                  }),
                }),
                t.jsx(O.Text, { children: n.abaNumber }),
              ],
            }),
          ],
        }),
        t.jsxs(Cl, {
          children: [
            t.jsx(ae, {
              onClick: e.backFunction,
              size: "large",
              "data-cy": "bank-details-screen-back-btn",
              children: t.jsx(p, {
                id: "cyR7Kh",
                defaultMessage: [{ type: 0, value: "Back" }],
              }),
            }),
            t.jsx(Z, {
              onClick: e.nextFunction,
              size: "large",
              "data-cy": "bank-details-screen-next-btn",
              children: t.jsx(p, {
                id: "9+Ddtu",
                defaultMessage: [{ type: 0, value: "Next" }],
              }),
            }),
          ],
        }),
      ],
    });
  },
  jl = ye(gl)(vl),
  wl = l(ks)`
  padding: unset;
  flex: 1 1;

  &.MuiInputBase-adornedStart {
    padding-left: 0;
  }
  border: 1px solid ${({ theme: e }) => e.palette.designColors.borders.default};
  border-radius: 4px;
`,
  Ml = l(_e)`
  border-radius: 8px 0 0 8px;
  border-top: unset;
  border-bottom: unset;
  border-left: unset;

  .dropdown-list {
    width: 250px;
  }
`,
  Sl = l(xe)(() => ({ padding: "0 8px" })),
  kl = (e) => {
    const {
        ref: n,
        defaultValue: s,
        placeholder: i = "0",
        disabled: a,
        selectedCurrency: o,
        onCurrencyChange: r,
        onCurrencyInput: d,
        onlyCrypto: h,
        onlyFiat: f,
        data: m,
        ...c
      } = e,
      x = L((g) => Xt(g, o));
    return t.jsx(wl, {
      "data-lpignore": !0,
      ref: n,
      placeholder: i,
      autoComplete: "off",
      slotProps: {
        input: {
          startAdornment: t.jsx(Ml, {
            defaultValue: s,
            disabled: a ?? !r,
            onChange: (g) => (r == null ? void 0 : r(g)),
            options: m,
            onlyCrypto: h,
            onlyFiat: f,
            selectedCurrency: o,
          }),
          endAdornment: t.jsx(Sl, { children: o }),
        },
        htmlInput: {
          type: "text",
          minLength: 1,
          maxLength: 15,
          style: { textAlign: "right" },
        },
      },
      decimalScale: (x == null ? void 0 : x.maxDecimals) ?? 2,
      "data-cy": "currency",
      disabled: a,
      onValueChange: d,
      ...c,
    });
  };
var K = ((e) => ((e.mint = "mint"), (e.bank = "bank"), e))(K || {});
const Al = {
    bank: `${Tn}/icons/fill/icon-bank-fill.svg`,
    mint: `${Tn}/icons/fill/icon-mint-fill.svg`,
  },
  Tl = () => {
    const { formatMessage: e } = W();
    return {
      bank: e({ id: "hbSqJA", defaultMessage: [{ type: 0, value: "Bank" }] }),
      mint: e({ id: "OwO+Nr", defaultMessage: [{ type: 0, value: "Mint" }] }),
    };
  },
  $l = l("div")`
  display: flex;

  & > :not(:last-child) {
    margin-right: 8px;
  }
`,
  Il = l("div")`
  display: flex;
  flex-direction: column;
`,
  Hn = l("span")`
  font-family: ${(e) => e.theme.typography.fonts.semiBold};
  font-size: 13px;
  line-height: 16px;
  color: ${(e) => e.theme.palette.designColors.text.default};

  white-space: nowrap;
`,
  Xn = (e) => {
    const n = Tl();
    return t.jsxs($l, {
      ...e,
      children: [
        t.jsx(F, {
          name: Al[e.accountType],
          size: A.thirty,
          fill: (s) => s.palette.designColors.greyscale.black.default,
        }),
        t.jsxs(Il, {
          children: [
            t.jsx(Hn, { children: n[e.accountType] }),
            t.jsx(Hn, {
              children: t.jsx(p, {
                id: "TwyMau",
                defaultMessage: [{ type: 0, value: "Account" }],
              }),
            }),
          ],
        }),
      ],
    });
  },
  Dl = l("div")`
  display: flex;
  flex-direction: column;
  padding: 16px;
  border-radius: 4px;
  border: 1px solid ${({ colors: e }) => (e == null ? void 0 : e.main)};
  background-color: ${({ colors: e }) => (e == null ? void 0 : e.background)};
`,
  El = l(F)`
  display: flex;
  align-self: center;
  margin-bottom: 13px;
`,
  Rl = l("div")`
  margin-bottom: 8px;
  font-size: 16px;
  line-height: 24px;
  text-align: center;
  font-family: ${({ theme: e }) => e.typography.fonts.bold};
  color: ${({ theme: e }) => e.palette.designColors.text.default};
`,
  Bl = l(mn)`
  margin-bottom: 16px;
  text-align: center;
`,
  Nl = l(Z, { shouldForwardProp: G(["colors"]) })`
  font-size: 13px;
  line-height: 16px;
  text-align: center;
  align-self: center;
  font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
  color: ${({ theme: e }) => e.palette.designColors.surface.default};
  background-color: ${({ colors: e }) => e};
`,
  Qn = (e) => {
    const { icon: n, text: s, click: i, colors: a } = e;
    return t.jsxs(Dl, {
      colors: a,
      children: [
        t.jsx(El, {
          name: n.name,
          size: n.size ?? A.twentyOne,
          fill: a == null ? void 0 : a.main,
        }),
        t.jsx(Rl, { children: s.title }),
        t.jsx(Bl, { children: s.subText }),
        t.jsx(Nl, {
          colors: (a == null ? void 0 : a.main) ?? "",
          onClick: i.submit,
          "data-cy": "alert-info-btn",
          children: s.button,
        }),
      ],
    });
  },
  Pl = l("div")`
  display: flex;
  flex-direction: column;
  color: ${(e) => e.theme.palette.designColors.text.default};
  font-family: ${(e) => e.theme.typography.fonts.semiBold};
  font-size: 14px;
  line-height: 21px;
`,
  yn = l("div")`
  display: flex;
  flex-direction: row;
  padding-bottom: 8px;
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
  color: ${({ theme: e }) => e.palette.designColors.text.strong};
`,
  bn = l("div")`
  display: flex;
  flex-direction: row;
  padding-bottom: 32px;
`,
  Yn = l("button", { shouldForwardProp: G(["isTabSelected", "tabType"]) })`
  cursor: pointer;
  display: flex;
  width: 50%;
  flex-direction: row;
  border-style: solid;
  padding-top: 18px;
  padding-bottom: 18px;
  align-items: center;
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
  border-color: ${({ isTabSelected: e, theme: n }) =>
    e
      ? n.palette.designColors.interactive.primary.default
      : n.palette.designColors.borders.disabled};
  background: none;
  border-width: ${({ isTabSelected: e, tabType: n }) =>
    e ? "1px" : n === K.bank ? "1px 0px 1px 1px" : "1px 1px 1px 0px"};
  border-radius: ${({ tabType: e }) =>
    e === K.bank ? "4px 0 0 4px" : "0 4px 4px 0"};
  color: ${({ isTabSelected: e, theme: n }) =>
    e
      ? n.palette.designColors.interactive.primary.default
      : n.palette.designColors.text.tertiary};
  :focus {
    outline: 0;
  }
`,
  Zn = l("div")`
  display: flex;
  flex-direction: column;
  margin-right: 15px;
  margin-left: 15px;
`,
  Us = l("div")`
  display: flex;
  flex-direction: row;
  justify-content: center;
  width: 100%;
  border: 1px solid ${(e) => e.theme.palette.designColors.borders.disabled};
  border-radius: 4px;
`,
  _s = l("input")`
  border: none;
  outline: none;
  flex-grow: 1;
  padding: 18px 20px;
  border-radius: 4px;
  color: ${({ theme: e }) => e.palette.designColors.text.default};
  cursor: ${({ withdrawalType: e }) => (e === K.bank ? "auto" : "not-allowed")};
  background-color: ${({ theme: e, withdrawalType: n }) =>
    n === K.bank
      ? e.palette.designColors.surface.default
      : e.palette.designColors.surface.disabled};
  color: ${(e) => e.theme.palette.designColors.text.default};
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
  font-size: 14px;
  line-height: 21px;
  ::placeholder {
    font-size: 14px;
    line-height: 21px;
    color: ${(e) => e.theme.palette.designColors.text.subdued};
    font-family: ${({ theme: e }) => e.typography.fonts.medium};
  }
`,
  Fl = l("div")`
  display: flex;
  flex-direction: column;
  padding-right: 20px;
  justify-content: center;
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
  font-size: 14px;
  line-height: 21px;
  color: ${(e) => e.theme.palette.designColors.text.subdued};
  white-space: nowrap;
`,
  Ll = l("div")`
  display: flex;
  flex-direction: row;
  margin: 32px auto auto;
`,
  Vl = l("div")`
  margin-left: 4px;
  margin-right: 4px;
`,
  zl = l("div")`
  margin-bottom: 32px;
  display: flex;
  flex-direction: column;
  width: 100%;
`,
  Ol = (e, n) =>
    ie(
      { value: e, code: n },
      { appendCurrencyCode: !0, prependFiatSymbol: !0 }
    ),
  Ul = l("div")`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  font-size: 12px;
  font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
`,
  _l = l("span")`
  line-height: 21px;
  margin-bottom: 8px;
`,
  Kl = l("span")`
  padding-right: 4px;
  font-size: 12px;
`,
  ql = l("span")`
  font-size: 14px;
  line-height: 21px;
  margin-bottom: 8px;
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
`,
  Wl = l("span")`
  padding-right: 8px;
  color: ${({ theme: e, selectedCurrency: n }) =>
    e.palette.colorPalette.currencies[n].default};
`,
  Gl = l("div")`
  position: relative;
  align-self: center;
  margin-left: 4px;
  &:hover {
    & .Tooltip {
      visibility: visible;
    }
  }
`,
  Hl = (e) => {
    const {
        linkedAccount: n,
        withdrawalType: s,
        selectedCurrency: i,
        amount: a,
        memo: o,
        fee: r,
        minimumWithdrawal: d,
        currencyOptions: h,
        maxReferenceCharLimit: f,
        mintAccountNo: m,
        isValid: c,
        onCurrencyChange: x,
        onTypeChange: g,
        onAmountChange: M,
        onDescriptionChange: y,
        onCancelPressed: b,
        onNextPressed: E,
        closeModal: v,
      } = e,
      T = L((le) => {
        var _;
        return ((_ = tt(le, i)) == null ? void 0 : _.available) ?? 0;
      }),
      $ = Tt(),
      I = s === K.bank,
      D = s === K.mint,
      B = It(),
      { formatMessage: U } = W(),
      z = L(nn),
      ee = Ne.settings.childRoutes.account.childRoutes,
      S = t.jsxs(zl, {
        children: [
          t.jsxs(Ul, {
            children: [
              t.jsx(ql, {
                children: t.jsx(p, {
                  id: "ofAw8/",
                  defaultMessage: [{ type: 0, value: "I want to withdraw" }],
                }),
              }),
              t.jsxs(_l, {
                children: [
                  t.jsx(Kl, {
                    children: t.jsx(p, {
                      id: "h3UrqB",
                      defaultMessage: [
                        { type: 0, value: "Your Available Balance" },
                      ],
                    }),
                  }),
                  t.jsx(Wl, {
                    "data-cy": "withdraw-form-balance",
                    selectedCurrency: i,
                    children: Ol(T, i),
                  }),
                ],
              }),
            ],
          }),
          t.jsx(kl, {
            value: a,
            defaultValue: u.USD,
            selectedCurrency: i,
            onCurrencyChange: x,
            onCurrencyInput: M,
            placeholder: `${ie(
              { code: i, value: 0 },
              { appendCurrencyCode: !1, prependFiatSymbol: !0 }
            )}`,
            data: h,
          }),
          t.jsx(Le, {
            type: "error",
            visible: !!a && !c,
            children: new fe(a).gt(T)
              ? t.jsx(p, {
                  id: "0tHLRn",
                  defaultMessage: [{ type: 0, value: "Insufficient Balance" }],
                })
              : t.jsx(p, {
                  id: "pLiA1B",
                  defaultMessage: [
                    { type: 0, value: "Minimum Withdrawal is " },
                    { type: 1, value: "minimumWithdrawal" },
                    { type: 0, value: " " },
                    { type: 1, value: "selectedCurrency" },
                    { type: 0, value: " which includes " },
                    { type: 1, value: "fee" },
                    { type: 0, value: " " },
                    { type: 1, value: "selectedCurrency" },
                    { type: 0, value: " fee." },
                  ],
                  values: {
                    minimumWithdrawal: d.toFixed(2),
                    selectedCurrency: i,
                    fee: r.toFixed(2),
                  },
                }),
          }),
        ],
      }),
      P = ({ onboarding: le }) =>
        t.jsxs(Ll, {
          children: [
            t.jsx(ae, {
              onClick: (_) => {
                b(_);
              },
              "data-cy": "withdraw-form-cancel",
              size: "large",
              children: t.jsx(p, {
                id: "s6pcNY",
                defaultMessage: [{ type: 0, value: "BACK" }],
              }),
            }),
            t.jsx(Vl, {}),
            !le &&
              t.jsx(Z, {
                "data-cy": "withdraw-form-next",
                size: "large",
                disabled: !c,
                onClick: (_) => E(_),
                children: t.jsx(p, {
                  id: "ruJlSX",
                  defaultMessage: [{ type: 0, value: "NEXT" }],
                }),
              }),
          ],
        }),
      re = {
        [K.bank]: {
          default: t.jsxs(t.Fragment, {
            children: [
              S,
              t.jsx(Xl, {
                maxReferenceCharLimit: f,
                onDescriptionChange: y,
                memo: o,
              }),
              t.jsx(P, {}),
            ],
          }),
          onboarding: t.jsxs(t.Fragment, {
            children: [
              t.jsx(Qn, {
                icon: { name: "icons/fill/icon-bank-fill" },
                text: {
                  title: U({
                    id: "Si0FB7",
                    defaultMessage: [{ type: 0, value: "Setup Bank Account" }],
                  }),
                  subText: U({
                    id: "dvd1e+",
                    defaultMessage: [
                      {
                        type: 0,
                        value:
                          "To enable withdrawals to a Bank Account, please click below to assign your nominated Bank Account:",
                      },
                    ],
                  }),
                  button: U({
                    id: "dbhz0e",
                    defaultMessage: [{ type: 0, value: "Setup your account" }],
                  }),
                },
                colors: {
                  main: B.palette.designColors.text.warning,
                  background: "#fef7ed",
                },
                click: {
                  submit: () => {
                    $(qt(ee.hin.childRoutes.bankDetails.path, ["hin"], [z])),
                      v();
                  },
                },
              }),
              t.jsx(P, { onboarding: !0 }),
            ],
          }),
        },
        [K.mint]: {
          default: t.jsxs(t.Fragment, {
            children: [S, t.jsx(Ql, { mintAccountNo: m }), t.jsx(P, {})],
          }),
          onboarding: t.jsxs(t.Fragment, {
            children: [
              t.jsx(Qn, {
                icon: { name: "icons/fill/icon-mint-fill" },
                text: {
                  title: U({
                    id: "ZIVMje",
                    defaultMessage: [{ type: 0, value: "Mint Linking" }],
                  }),
                  subText: U({
                    id: "7vCSi7",
                    defaultMessage: [
                      {
                        type: 0,
                        value:
                          "To enable automated withdrawals to your Mint Account, please link your Mint Account HIN with your KMS account by clicking below:",
                      },
                    ],
                  }),
                  button: U({
                    id: "rVxokA",
                    defaultMessage: [{ type: 0, value: "Link Mint Account" }],
                  }),
                },
                colors: {
                  main: B.palette.designColors.interactive.warning.default,
                  background: "#e6f7f6",
                },
                click: {
                  submit: () => {
                    $(qt(ee.hin.childRoutes.mintAccount.path, ["hin"], [z])),
                      v();
                  },
                },
              }),
              t.jsx(P, { onboarding: !0 }),
            ],
          }),
        },
      };
    return t.jsxs(Pl, {
      children: [
        t.jsx(yn, {
          children: t.jsx(p, {
            id: "9j3hXO",
            defaultMessage: [{ type: 0, value: "To" }],
          }),
        }),
        t.jsxs(bn, {
          children: [
            t.jsxs(Yn, {
              "data-cy": "withdraw-form-to-bank",
              isTabSelected: I,
              onClick: () => {
                g(K.bank);
              },
              tabType: K.bank,
              children: [
                t.jsx(Zn, {
                  children: t.jsx(F, {
                    name: "icons/fill/icon-bank-fill",
                    fill: I
                      ? B.palette.designColors.icons.interactive
                      : B.palette.designColors.icons.disabled,
                    size: A.sixteen,
                  }),
                }),
                t.jsx(p, {
                  id: "TVcDb2",
                  defaultMessage: [{ type: 0, value: "Bank Account" }],
                }),
              ],
            }),
            t.jsxs(Yn, {
              "data-cy": "withdraw-form-to-mint",
              isTabSelected: D,
              onClick: () => {
                g(K.mint);
              },
              tabType: K.mint,
              children: [
                t.jsx(Zn, {
                  children: t.jsx(F, {
                    name: "icons/fill/icon-mint-fill",
                    fill: D
                      ? B.palette.designColors.icons.interactive
                      : B.palette.designColors.icons.disabled,
                    size: A.sixteen,
                  }),
                }),
                t.jsx(p, {
                  id: "KcLi3L",
                  defaultMessage: [{ type: 0, value: "Mint Account" }],
                }),
              ],
            }),
          ],
        }),
        n ? re[s].default : re[s].onboarding,
      ],
    });
  },
  Xl = (e) => {
    const { formatMessage: n } = W(),
      { maxReferenceCharLimit: s, onDescriptionChange: i, memo: a } = e;
    return t.jsxs(t.Fragment, {
      children: [
        t.jsx(yn, {
          children: t.jsx(p, {
            id: "mcUhhf",
            defaultMessage: [{ type: 0, value: "Reference" }],
          }),
        }),
        t.jsx(bn, {
          children: t.jsxs(Us, {
            children: [
              t.jsx(_s, {
                name: "description",
                placeholder: n({
                  id: "bZenNC",
                  defaultMessage: [
                    { type: 0, value: "Description (optional)" },
                  ],
                }),
                maxLength: s ?? 25,
                value: a,
                onChange: (o) => {
                  i(o);
                },
                autoComplete: "off",
                withdrawalType: K.bank,
                "data-cy": "withdraw-form-reference",
              }),
              t.jsx(Fl, {
                children: t.jsx(p, {
                  id: "O/c5KW",
                  defaultMessage: [
                    { type: 1, value: "length" },
                    { type: 0, value: " / " },
                    { type: 1, value: "maxLength" },
                  ],
                  values: { length: a.length, maxLength: s ?? 25 },
                }),
              }),
            ],
          }),
        }),
      ],
    });
  },
  Ql = (e) => {
    const { mintAccountNo: n } = e;
    return t.jsxs(t.Fragment, {
      children: [
        t.jsxs(yn, {
          children: [
            t.jsx(p, {
              id: "u2t2V3",
              defaultMessage: [{ type: 0, value: "To your Mint Account" }],
            }),
            t.jsxs(Gl, {
              children: [
                t.jsx(F, {
                  "data-tip": !0,
                  "data-tooltip-id": "withdrawFormTooltip",
                  name: V.help,
                  fill: (s) => s.palette.designColors.icons.subtle,
                  size: A.sixteen,
                  iconSize: A.sixteen,
                  hoverFill: (s) => s.palette.designColors.icons.default,
                }),
                t.jsx(nt, {
                  id: "withdrawFormTooltip",
                  children: t.jsx(st, {
                    children: t.jsx(p, {
                      id: "uHYtBo",
                      defaultMessage: [
                        {
                          type: 0,
                          value:
                            "Your Mint withdrawal will be sent directly to your Mint account shown below",
                        },
                      ],
                    }),
                  }),
                }),
              ],
            }),
          ],
        }),
        t.jsx(bn, {
          children: t.jsx(Us, {
            children: t.jsx(_s, {
              withdrawalType: K.mint,
              name: "minAccountNo",
              value: n || "",
              disabled: !0,
            }),
          }),
        }),
      ],
    });
  },
  Yl = l("div")`
  display: flex;
  flex-direction: column;
  align-items: center;
`,
  Zl = l("div")`
  text-align: center;
  font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
  color: ${({ theme: e }) => e.palette.designColors.text.default};
  font-size: 14px;
  line-height: 21px;
  margin-bottom: 8px;
`,
  Jl = l("div")`
  display: flex;
  flex-direction: row;
  align-items: center;
  width: 100%;
`,
  ed = l("div")`
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  margin: 8px;
  height: 24px;
  width: 24px;
  border-radius: 50%;
  border: 1px solid ${({ theme: e }) => e.palette.designColors.borders.subdued};
`,
  Jn = l("div")`
  border: 1px solid ${({ theme: e }) => e.palette.designColors.borders.subdued};
  flex-grow: 1;
  border-radius: 32px;
  padding: 12px 16px;
  width: min-content;
`,
  td = (e) =>
    t.jsxs(Yl, {
      children: [
        e.heading && t.jsx(Zl, { children: e.heading }),
        t.jsxs(Jl, {
          children: [
            t.jsxs(Jn, {
              children: [
                e.leftSide.currency &&
                  t.jsx(Bn, { currencyCode: e.leftSide.currency }),
                e.leftSide.label &&
                  t.jsx(Xn, { accountType: e.leftSide.label }),
              ],
            }),
            t.jsx(ed, {
              children: t.jsx(F, { name: V.arrowRight, size: A.twelve }),
            }),
            t.jsxs(Jn, {
              children: [
                e.rightSide.currency &&
                  t.jsx(Bn, { currencyCode: e.rightSide.currency }),
                e.rightSide.label &&
                  t.jsx(Xn, { accountType: e.rightSide.label }),
              ],
            }),
          ],
        }),
      ],
    }),
  nd = l("div")`
  display: flex;
  flex-direction: column;
  align-items: center;
  border-radius: 4px;
  padding: 16px;
  background-color: ${({ colors: e }) =>
    (e == null ? void 0 : e.background) ?? "rgba(240, 173, 78, 0.1)"};
  border: 1px solid ${({ colors: e, theme: n }) =>
    (e == null ? void 0 : e.primary) ??
    n.palette.designColors.borders.warning.default};
`,
  sd = l(mn)`
  text-align: center;
`;
l("div")`
  font-family: ${(e) => e.theme.typography.fonts.semiBold};
  font-size: 16px;
  line-height: 24px;
  color: ${(e) => e.theme.palette.designColors.text.default};
  text-align: center;
`;
const ft = { WarningNote: nd, Content: sd },
  id = l("div")`
  display: flex;
  flex-direction: row;
  justify-content: center;
  & > :first-child {
    margin-right: 8px;
  }
`,
  ad = l("div")`
  & > :first-child {
    margin-bottom: 32px;
  }
  & > :nth-child(2) {
    margin-bottom: 24px;
  }
  & > :nth-child(3) {
    margin-bottom: 32px;
  }
`,
  od = l(O.Heading)`
  color: ${(e) => e.theme.palette.designColors.text.default};
  font-family: ${(e) => e.theme.typography.fonts.semiBold};
  font-size: 16px;
  line-height: 24px;
`,
  rd = l(O.Text)`
  color: ${(e) =>
    e.theme.palette.colorPalette.currencies[e.currencyCode].default};
  font-family: ${(e) => e.theme.typography.fonts.semiBold};
  font-size: 18px;
  line-height: 26px;
  text-align: right;
`,
  Qe = l(O.Text)`
  text-align: right;
  text-transform: capitalize;
`,
  ld = l("div")`
  display: flex;
  flex-direction: row;
`,
  dd = l("div")`
  position: relative;
  align-self: center;
  border-radius: 50%;
  width: 16px;
  height: 16px;
  margin-left: 8px;
  z-index: 1;

  &:hover {
    & .Tooltip {
      visibility: visible;
    }
  }
`,
  cd = l(dd)`
  :first-child {
    white-space: pre-wrap !important;
  }
`,
  ud = (e) => {
    const {
        withdrawalType: n,
        currencyCode: s,
        amount: i,
        fee: a,
        mintAccountNo: o,
        backFunction: r,
        submitFunction: d,
      } = e,
      h = It(),
      [f, m] = C.useState(!1),
      { formatMessage: c } = W(),
      x = () => {
        m(!0), d();
      };
    return t.jsxs(ad, {
      children: [
        t.jsx(td, {
          heading: c({
            id: "Tcb8l3",
            defaultMessage: [{ type: 0, value: "You are withdrawing" }],
          }),
          rightSide: { label: n },
          leftSide: { currency: s },
        }),
        t.jsxs(O.DetailTable, {
          children: [
            t.jsxs(O.Row, {
              children: [
                t.jsx(O.Heading, {
                  children: t.jsx(p, {
                    id: "dM+p3/",
                    defaultMessage: [{ type: 0, value: "From" }],
                  }),
                }),
                t.jsx(Qe, {
                  children: t.jsx(p, {
                    id: "7JUiG0",
                    defaultMessage: [
                      { type: 1, value: "currencyCode" },
                      { type: 0, value: " Account" },
                    ],
                    values: { currencyCode: s },
                  }),
                }),
              ],
            }),
            t.jsxs(O.Row, {
              children: [
                t.jsx(O.Heading, {
                  children: t.jsx(p, {
                    id: "9j3hXO",
                    defaultMessage: [{ type: 0, value: "To" }],
                  }),
                }),
                t.jsxs(Qe, {
                  children: [
                    n,
                    " ",
                    t.jsx(p, {
                      id: "TwyMau",
                      defaultMessage: [{ type: 0, value: "Account" }],
                    }),
                  ],
                }),
              ],
            }),
            n === K.mint &&
              t.jsxs(O.Row, {
                children: [
                  t.jsx(O.Heading, {
                    children: t.jsx(p, {
                      id: "DzGtMm",
                      defaultMessage: [{ type: 0, value: "Mint HIN" }],
                    }),
                  }),
                  t.jsx(Qe, {
                    "data-cy": "withdrawal-submission-mint-hin",
                    children: o,
                  }),
                ],
              }),
            t.jsxs(O.Row, {
              children: [
                t.jsx(O.Heading, {
                  children: t.jsx(p, {
                    id: "sK/+0I",
                    defaultMessage: [{ type: 0, value: "Withdrawal amount" }],
                  }),
                }),
                t.jsx(Qe, {
                  "data-cy": "withdrawal-submission-amount",
                  children: ie(
                    { value: i - a, code: s },
                    { prependFiatSymbol: !0, appendCurrencyCode: !0 }
                  ),
                }),
              ],
            }),
            t.jsxs(O.Row, {
              children: [
                t.jsx(O.Heading, {
                  children: t.jsxs(ld, {
                    children: [
                      t.jsx(p, {
                        id: "uT4OlP",
                        defaultMessage: [{ type: 0, value: "Fee" }],
                      }),
                      t.jsxs(cd, {
                        children: [
                          t.jsx(F, {
                            "data-tip": !0,
                            "data-tooltip-id": "submissionDetailsTooltip",
                            name: V.help,
                            fill: (g) => g.palette.designColors.icons.subtle,
                            size: A.sixteen,
                            iconSize: A.sixteen,
                            hoverFill: (g) =>
                              g.palette.designColors.icons.default,
                          }),
                          t.jsx(nt, {
                            id: "submissionDetailsTooltip",
                            children: t.jsx(st, {
                              children: t.jsx(p, {
                                id: "vhHgLZ",
                                defaultMessage: [
                                  {
                                    type: 0,
                                    value:
                                      "A withdrawal fee is charged to process your ",
                                  },
                                  { type: 1, value: "withdrawalType" },
                                  { type: 0, value: " withdrawal" },
                                ],
                                values: { withdrawalType: n },
                              }),
                            }),
                          }),
                        ],
                      }),
                    ],
                  }),
                }),
                t.jsx(Qe, {
                  "data-cy": "withdrawal-submission-fee",
                  children: ie(
                    { value: a, code: s },
                    { prependFiatSymbol: !0, appendCurrencyCode: !0 }
                  ),
                }),
              ],
            }),
            t.jsxs(O.Row, {
              children: [
                t.jsx(od, {
                  children: t.jsx(p, {
                    id: "MJ2jZQ",
                    defaultMessage: [{ type: 0, value: "Total" }],
                  }),
                }),
                t.jsx(rd, {
                  currencyCode: s,
                  "data-cy": "withdrawal-submission-total",
                  children: ie(
                    { value: i, code: s },
                    { prependFiatSymbol: !0, appendCurrencyCode: !0 }
                  ),
                }),
              ],
            }),
          ],
        }),
        n === K.bank
          ? t.jsx(ft.WarningNote, {
              children: t.jsx(ft.Content, {
                children: t.jsx(p, {
                  id: "VRwN6P",
                  defaultMessage: [
                    {
                      type: 0,
                      value:
                        "Banks may apply transaction fees which may affect the amount received. Transfers to Bank Accounts take approx. 3-5 business days.",
                    },
                  ],
                }),
              }),
            })
          : t.jsx(ft.WarningNote, {
              colors: {
                primary: h.palette.designColors.interactive.info.default,
                background: "rgba(91,192,222,0.1)",
              },
              children: t.jsx(ft.Content, {
                children: t.jsx(p, {
                  id: "DwW7EG",
                  defaultMessage: [
                    {
                      type: 0,
                      value:
                        "Transfers of USD to the Kinesis Mint are processed within seconds",
                    },
                  ],
                }),
              }),
            }),
        t.jsxs(id, {
          children: [
            t.jsx(ae, {
              onClick: r,
              size: "large",
              disabled: f,
              "data-cy": "submit-details-back-btn",
              children: t.jsx(p, {
                id: "cyR7Kh",
                defaultMessage: [{ type: 0, value: "Back" }],
              }),
            }),
            t.jsx(Z, {
              onClick: x,
              size: "large",
              disabled: f,
              className: f ? "is-loading" : "",
              "data-cy": "submit-details-confirm-btn",
              children: t.jsx(p, {
                id: "N2IrpM",
                defaultMessage: [{ type: 0, value: "Confirm" }],
              }),
            }),
          ],
        }),
      ],
    });
  };
var Ke = 1e9,
  pd = {
    precision: 20,
    rounding: 4,
    toExpNeg: -7,
    toExpPos: 21,
    LN10: "2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286",
  },
  vn,
  Y = !0,
  me = "[DecimalError] ",
  Fe = me + "Invalid argument: ",
  Cn = me + "Exponent out of range: ",
  qe = Math.floor,
  Be = Math.pow,
  hd = /^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,
  ce,
  se = 1e7,
  X = 7,
  Ks = 9007199254740991,
  Mt = qe(Ks / X),
  w = {};
w.absoluteValue = w.abs = function () {
  var e = new this.constructor(this);
  return e.s && (e.s = 1), e;
};
w.comparedTo = w.cmp = function (e) {
  var n,
    s,
    i,
    a,
    o = this;
  if (((e = new o.constructor(e)), o.s !== e.s)) return o.s || -e.s;
  if (o.e !== e.e) return (o.e > e.e) ^ (o.s < 0) ? 1 : -1;
  for (i = o.d.length, a = e.d.length, n = 0, s = i < a ? i : a; n < s; ++n)
    if (o.d[n] !== e.d[n]) return (o.d[n] > e.d[n]) ^ (o.s < 0) ? 1 : -1;
  return i === a ? 0 : (i > a) ^ (o.s < 0) ? 1 : -1;
};
w.decimalPlaces = w.dp = function () {
  var e = this,
    n = e.d.length - 1,
    s = (n - e.e) * X;
  if (((n = e.d[n]), n)) for (; n % 10 == 0; n /= 10) s--;
  return s < 0 ? 0 : s;
};
w.dividedBy = w.div = function (e) {
  return we(this, new this.constructor(e));
};
w.dividedToIntegerBy = w.idiv = function (e) {
  var n = this,
    s = n.constructor;
  return q(we(n, new s(e), 0, 1), s.precision);
};
w.equals = w.eq = function (e) {
  return !this.cmp(e);
};
w.exponent = function () {
  return ne(this);
};
w.greaterThan = w.gt = function (e) {
  return this.cmp(e) > 0;
};
w.greaterThanOrEqualTo = w.gte = function (e) {
  return this.cmp(e) >= 0;
};
w.isInteger = w.isint = function () {
  return this.e > this.d.length - 2;
};
w.isNegative = w.isneg = function () {
  return this.s < 0;
};
w.isPositive = w.ispos = function () {
  return this.s > 0;
};
w.isZero = function () {
  return this.s === 0;
};
w.lessThan = w.lt = function (e) {
  return this.cmp(e) < 0;
};
w.lessThanOrEqualTo = w.lte = function (e) {
  return this.cmp(e) < 1;
};
w.logarithm = w.log = function (e) {
  var n,
    s = this,
    i = s.constructor,
    a = i.precision,
    o = a + 5;
  if (e === void 0) e = new i(10);
  else if (((e = new i(e)), e.s < 1 || e.eq(ce))) throw Error(me + "NaN");
  if (s.s < 1) throw Error(me + (s.s ? "NaN" : "-Infinity"));
  return s.eq(ce)
    ? new i(0)
    : ((Y = !1), (n = we(it(s, o), it(e, o), o)), (Y = !0), q(n, a));
};
w.minus = w.sub = function (e) {
  var n = this;
  return (
    (e = new n.constructor(e)), n.s == e.s ? Gs(n, e) : qs(n, ((e.s = -e.s), e))
  );
};
w.modulo = w.mod = function (e) {
  var n,
    s = this,
    i = s.constructor,
    a = i.precision;
  if (((e = new i(e)), !e.s)) throw Error(me + "NaN");
  return s.s
    ? ((Y = !1), (n = we(s, e, 0, 1).times(e)), (Y = !0), s.minus(n))
    : q(new i(s), a);
};
w.naturalExponential = w.exp = function () {
  return Ws(this);
};
w.naturalLogarithm = w.ln = function () {
  return it(this);
};
w.negated = w.neg = function () {
  var e = new this.constructor(this);
  return (e.s = -e.s || 0), e;
};
w.plus = w.add = function (e) {
  var n = this;
  return (
    (e = new n.constructor(e)), n.s == e.s ? qs(n, e) : Gs(n, ((e.s = -e.s), e))
  );
};
w.precision = w.sd = function (e) {
  var n,
    s,
    i,
    a = this;
  if (e !== void 0 && e !== !!e && e !== 1 && e !== 0) throw Error(Fe + e);
  if (
    ((n = ne(a) + 1), (i = a.d.length - 1), (s = i * X + 1), (i = a.d[i]), i)
  ) {
    for (; i % 10 == 0; i /= 10) s--;
    for (i = a.d[0]; i >= 10; i /= 10) s++;
  }
  return e && n > s ? n : s;
};
w.squareRoot = w.sqrt = function () {
  var e,
    n,
    s,
    i,
    a,
    o,
    r,
    d = this,
    h = d.constructor;
  if (d.s < 1) {
    if (!d.s) return new h(0);
    throw Error(me + "NaN");
  }
  for (
    e = ne(d),
      Y = !1,
      a = Math.sqrt(+d),
      a == 0 || a == 1 / 0
        ? ((n = be(d.d)),
          (n.length + e) % 2 == 0 && (n += "0"),
          (a = Math.sqrt(n)),
          (e = qe((e + 1) / 2) - (e < 0 || e % 2)),
          a == 1 / 0
            ? (n = "5e" + e)
            : ((n = a.toExponential()),
              (n = n.slice(0, n.indexOf("e") + 1) + e)),
          (i = new h(n)))
        : (i = new h(a.toString())),
      s = h.precision,
      a = r = s + 3;
    ;

  )
    if (
      ((o = i),
      (i = o.plus(we(d, o, r + 2)).times(0.5)),
      be(o.d).slice(0, r) === (n = be(i.d)).slice(0, r))
    ) {
      if (((n = n.slice(r - 3, r + 1)), a == r && n == "4999")) {
        if ((q(o, s + 1, 0), o.times(o).eq(d))) {
          i = o;
          break;
        }
      } else if (n != "9999") break;
      r += 4;
    }
  return (Y = !0), q(i, s);
};
w.times = w.mul = function (e) {
  var n,
    s,
    i,
    a,
    o,
    r,
    d,
    h,
    f,
    m = this,
    c = m.constructor,
    x = m.d,
    g = (e = new c(e)).d;
  if (!m.s || !e.s) return new c(0);
  for (
    e.s *= m.s,
      s = m.e + e.e,
      h = x.length,
      f = g.length,
      h < f && ((o = x), (x = g), (g = o), (r = h), (h = f), (f = r)),
      o = [],
      r = h + f,
      i = r;
    i--;

  )
    o.push(0);
  for (i = f; --i >= 0; ) {
    for (n = 0, a = h + i; a > i; )
      (d = o[a] + g[i] * x[a - i - 1] + n),
        (o[a--] = d % se | 0),
        (n = (d / se) | 0);
    o[a] = (o[a] + n) % se | 0;
  }
  for (; !o[--r]; ) o.pop();
  return n ? ++s : o.shift(), (e.d = o), (e.e = s), Y ? q(e, c.precision) : e;
};
w.toDecimalPlaces = w.todp = function (e, n) {
  var s = this,
    i = s.constructor;
  return (
    (s = new i(s)),
    e === void 0
      ? s
      : (Ce(e, 0, Ke),
        n === void 0 ? (n = i.rounding) : Ce(n, 0, 8),
        q(s, e + ne(s) + 1, n))
  );
};
w.toExponential = function (e, n) {
  var s,
    i = this,
    a = i.constructor;
  return (
    e === void 0
      ? (s = Ve(i, !0))
      : (Ce(e, 0, Ke),
        n === void 0 ? (n = a.rounding) : Ce(n, 0, 8),
        (i = q(new a(i), e + 1, n)),
        (s = Ve(i, !0, e + 1))),
    s
  );
};
w.toFixed = function (e, n) {
  var s,
    i,
    a = this,
    o = a.constructor;
  return e === void 0
    ? Ve(a)
    : (Ce(e, 0, Ke),
      n === void 0 ? (n = o.rounding) : Ce(n, 0, 8),
      (i = q(new o(a), e + ne(a) + 1, n)),
      (s = Ve(i.abs(), !1, e + ne(i) + 1)),
      a.isneg() && !a.isZero() ? "-" + s : s);
};
w.toInteger = w.toint = function () {
  var e = this,
    n = e.constructor;
  return q(new n(e), ne(e) + 1, n.rounding);
};
w.toNumber = function () {
  return +this;
};
w.toPower = w.pow = function (e) {
  var n,
    s,
    i,
    a,
    o,
    r,
    d = this,
    h = d.constructor,
    f = 12,
    m = +(e = new h(e));
  if (!e.s) return new h(ce);
  if (((d = new h(d)), !d.s)) {
    if (e.s < 1) throw Error(me + "Infinity");
    return d;
  }
  if (d.eq(ce)) return d;
  if (((i = h.precision), e.eq(ce))) return q(d, i);
  if (((n = e.e), (s = e.d.length - 1), (r = n >= s), (o = d.s), r)) {
    if ((s = m < 0 ? -m : m) <= Ks) {
      for (
        a = new h(ce), n = Math.ceil(i / X + 4), Y = !1;
        s % 2 && ((a = a.times(d)), ts(a.d, n)), (s = qe(s / 2)), s !== 0;

      )
        (d = d.times(d)), ts(d.d, n);
      return (Y = !0), e.s < 0 ? new h(ce).div(a) : q(a, i);
    }
  } else if (o < 0) throw Error(me + "NaN");
  return (
    (o = o < 0 && e.d[Math.max(n, s)] & 1 ? -1 : 1),
    (d.s = 1),
    (Y = !1),
    (a = e.times(it(d, i + f))),
    (Y = !0),
    (a = Ws(a)),
    (a.s = o),
    a
  );
};
w.toPrecision = function (e, n) {
  var s,
    i,
    a = this,
    o = a.constructor;
  return (
    e === void 0
      ? ((s = ne(a)), (i = Ve(a, s <= o.toExpNeg || s >= o.toExpPos)))
      : (Ce(e, 1, Ke),
        n === void 0 ? (n = o.rounding) : Ce(n, 0, 8),
        (a = q(new o(a), e, n)),
        (s = ne(a)),
        (i = Ve(a, e <= s || s <= o.toExpNeg, e))),
    i
  );
};
w.toSignificantDigits = w.tosd = function (e, n) {
  var s = this,
    i = s.constructor;
  return (
    e === void 0
      ? ((e = i.precision), (n = i.rounding))
      : (Ce(e, 1, Ke), n === void 0 ? (n = i.rounding) : Ce(n, 0, 8)),
    q(new i(s), e, n)
  );
};
w.toString =
  w.valueOf =
  w.val =
  w.toJSON =
  w[Symbol.for("nodejs.util.inspect.custom")] =
    function () {
      var e = this,
        n = ne(e),
        s = e.constructor;
      return Ve(e, n <= s.toExpNeg || n >= s.toExpPos);
    };
function qs(e, n) {
  var s,
    i,
    a,
    o,
    r,
    d,
    h,
    f,
    m = e.constructor,
    c = m.precision;
  if (!e.s || !n.s) return n.s || (n = new m(e)), Y ? q(n, c) : n;
  if (
    ((h = e.d),
    (f = n.d),
    (r = e.e),
    (a = n.e),
    (h = h.slice()),
    (o = r - a),
    o)
  ) {
    for (
      o < 0
        ? ((i = h), (o = -o), (d = f.length))
        : ((i = f), (a = r), (d = h.length)),
        r = Math.ceil(c / X),
        d = r > d ? r + 1 : d + 1,
        o > d && ((o = d), (i.length = 1)),
        i.reverse();
      o--;

    )
      i.push(0);
    i.reverse();
  }
  for (
    d = h.length,
      o = f.length,
      d - o < 0 && ((o = d), (i = f), (f = h), (h = i)),
      s = 0;
    o;

  )
    (s = ((h[--o] = h[o] + f[o] + s) / se) | 0), (h[o] %= se);
  for (s && (h.unshift(s), ++a), d = h.length; h[--d] == 0; ) h.pop();
  return (n.d = h), (n.e = a), Y ? q(n, c) : n;
}
function Ce(e, n, s) {
  if (e !== ~~e || e < n || e > s) throw Error(Fe + e);
}
function be(e) {
  var n,
    s,
    i,
    a = e.length - 1,
    o = "",
    r = e[0];
  if (a > 0) {
    for (o += r, n = 1; n < a; n++)
      (i = e[n] + ""), (s = X - i.length), s && (o += ke(s)), (o += i);
    (r = e[n]), (i = r + ""), (s = X - i.length), s && (o += ke(s));
  } else if (r === 0) return "0";
  for (; r % 10 === 0; ) r /= 10;
  return o + r;
}
var we = (function () {
  function e(i, a) {
    var o,
      r = 0,
      d = i.length;
    for (i = i.slice(); d--; )
      (o = i[d] * a + r), (i[d] = o % se | 0), (r = (o / se) | 0);
    return r && i.unshift(r), i;
  }
  function n(i, a, o, r) {
    var d, h;
    if (o != r) h = o > r ? 1 : -1;
    else
      for (d = h = 0; d < o; d++)
        if (i[d] != a[d]) {
          h = i[d] > a[d] ? 1 : -1;
          break;
        }
    return h;
  }
  function s(i, a, o) {
    for (var r = 0; o--; )
      (i[o] -= r), (r = i[o] < a[o] ? 1 : 0), (i[o] = r * se + i[o] - a[o]);
    for (; !i[0] && i.length > 1; ) i.shift();
  }
  return function (i, a, o, r) {
    var d,
      h,
      f,
      m,
      c,
      x,
      g,
      M,
      y,
      b,
      E,
      v,
      T,
      $,
      I,
      D,
      B,
      U,
      z = i.constructor,
      ee = i.s == a.s ? 1 : -1,
      S = i.d,
      P = a.d;
    if (!i.s) return new z(i);
    if (!a.s) throw Error(me + "Division by zero");
    for (
      h = i.e - a.e,
        B = P.length,
        I = S.length,
        g = new z(ee),
        M = g.d = [],
        f = 0;
      P[f] == (S[f] || 0);

    )
      ++f;
    if (
      (P[f] > (S[f] || 0) && --h,
      o == null
        ? (v = o = z.precision)
        : r
        ? (v = o + (ne(i) - ne(a)) + 1)
        : (v = o),
      v < 0)
    )
      return new z(0);
    if (((v = (v / X + 2) | 0), (f = 0), B == 1))
      for (m = 0, P = P[0], v++; (f < I || m) && v--; f++)
        (T = m * se + (S[f] || 0)), (M[f] = (T / P) | 0), (m = T % P | 0);
    else {
      for (
        m = (se / (P[0] + 1)) | 0,
          m > 1 &&
            ((P = e(P, m)), (S = e(S, m)), (B = P.length), (I = S.length)),
          $ = B,
          y = S.slice(0, B),
          b = y.length;
        b < B;

      )
        y[b++] = 0;
      (U = P.slice()), U.unshift(0), (D = P[0]), P[1] >= se / 2 && ++D;
      do
        (m = 0),
          (d = n(P, y, B, b)),
          d < 0
            ? ((E = y[0]),
              B != b && (E = E * se + (y[1] || 0)),
              (m = (E / D) | 0),
              m > 1
                ? (m >= se && (m = se - 1),
                  (c = e(P, m)),
                  (x = c.length),
                  (b = y.length),
                  (d = n(c, y, x, b)),
                  d == 1 && (m--, s(c, B < x ? U : P, x)))
                : (m == 0 && (d = m = 1), (c = P.slice())),
              (x = c.length),
              x < b && c.unshift(0),
              s(y, c, b),
              d == -1 &&
                ((b = y.length),
                (d = n(P, y, B, b)),
                d < 1 && (m++, s(y, B < b ? U : P, b))),
              (b = y.length))
            : d === 0 && (m++, (y = [0])),
          (M[f++] = m),
          d && y[0] ? (y[b++] = S[$] || 0) : ((y = [S[$]]), (b = 1));
      while (($++ < I || y[0] !== void 0) && v--);
    }
    return M[0] || M.shift(), (g.e = h), q(g, r ? o + ne(g) + 1 : o);
  };
})();
function Ws(e, n) {
  var s,
    i,
    a,
    o,
    r,
    d,
    h = 0,
    f = 0,
    m = e.constructor,
    c = m.precision;
  if (ne(e) > 16) throw Error(Cn + ne(e));
  if (!e.s) return new m(ce);
  for (Y = !1, d = c, r = new m(0.03125); e.abs().gte(0.1); )
    (e = e.times(r)), (f += 5);
  for (
    i = ((Math.log(Be(2, f)) / Math.LN10) * 2 + 5) | 0,
      d += i,
      s = a = o = new m(ce),
      m.precision = d;
    ;

  ) {
    if (
      ((a = q(a.times(e), d)),
      (s = s.times(++h)),
      (r = o.plus(we(a, s, d))),
      be(r.d).slice(0, d) === be(o.d).slice(0, d))
    ) {
      for (; f--; ) o = q(o.times(o), d);
      return (m.precision = c), n == null ? ((Y = !0), q(o, c)) : o;
    }
    o = r;
  }
}
function ne(e) {
  for (var n = e.e * X, s = e.d[0]; s >= 10; s /= 10) n++;
  return n;
}
function Ut(e, n, s) {
  if (n > e.LN10.sd())
    throw (
      ((Y = !0),
      s && (e.precision = s),
      Error(me + "LN10 precision limit exceeded"))
    );
  return q(new e(e.LN10), n);
}
function ke(e) {
  for (var n = ""; e--; ) n += "0";
  return n;
}
function it(e, n) {
  var s,
    i,
    a,
    o,
    r,
    d,
    h,
    f,
    m,
    c = 1,
    x = 10,
    g = e,
    M = g.d,
    y = g.constructor,
    b = y.precision;
  if (g.s < 1) throw Error(me + (g.s ? "NaN" : "-Infinity"));
  if (g.eq(ce)) return new y(0);
  if ((n == null ? ((Y = !1), (f = b)) : (f = n), g.eq(10)))
    return n == null && (Y = !0), Ut(y, f);
  if (
    ((f += x),
    (y.precision = f),
    (s = be(M)),
    (i = s.charAt(0)),
    (o = ne(g)),
    Math.abs(o) < 15e14)
  ) {
    for (; (i < 7 && i != 1) || (i == 1 && s.charAt(1) > 3); )
      (g = g.times(e)), (s = be(g.d)), (i = s.charAt(0)), c++;
    (o = ne(g)),
      i > 1 ? ((g = new y("0." + s)), o++) : (g = new y(i + "." + s.slice(1)));
  } else
    return (
      (h = Ut(y, f + 2, b).times(o + "")),
      (g = it(new y(i + "." + s.slice(1)), f - x).plus(h)),
      (y.precision = b),
      n == null ? ((Y = !0), q(g, b)) : g
    );
  for (
    d = r = g = we(g.minus(ce), g.plus(ce), f), m = q(g.times(g), f), a = 3;
    ;

  ) {
    if (
      ((r = q(r.times(m), f)),
      (h = d.plus(we(r, new y(a), f))),
      be(h.d).slice(0, f) === be(d.d).slice(0, f))
    )
      return (
        (d = d.times(2)),
        o !== 0 && (d = d.plus(Ut(y, f + 2, b).times(o + ""))),
        (d = we(d, new y(c), f)),
        (y.precision = b),
        n == null ? ((Y = !0), q(d, b)) : d
      );
    (d = h), (a += 2);
  }
}
function es(e, n) {
  var s, i, a;
  for (
    (s = n.indexOf(".")) > -1 && (n = n.replace(".", "")),
      (i = n.search(/e/i)) > 0
        ? (s < 0 && (s = i), (s += +n.slice(i + 1)), (n = n.substring(0, i)))
        : s < 0 && (s = n.length),
      i = 0;
    n.charCodeAt(i) === 48;

  )
    ++i;
  for (a = n.length; n.charCodeAt(a - 1) === 48; ) --a;
  if (((n = n.slice(i, a)), n)) {
    if (
      ((a -= i),
      (s = s - i - 1),
      (e.e = qe(s / X)),
      (e.d = []),
      (i = (s + 1) % X),
      s < 0 && (i += X),
      i < a)
    ) {
      for (i && e.d.push(+n.slice(0, i)), a -= X; i < a; )
        e.d.push(+n.slice(i, (i += X)));
      (n = n.slice(i)), (i = X - n.length);
    } else i -= a;
    for (; i--; ) n += "0";
    if ((e.d.push(+n), Y && (e.e > Mt || e.e < -Mt))) throw Error(Cn + s);
  } else (e.s = 0), (e.e = 0), (e.d = [0]);
  return e;
}
function q(e, n, s) {
  var i,
    a,
    o,
    r,
    d,
    h,
    f,
    m,
    c = e.d;
  for (r = 1, o = c[0]; o >= 10; o /= 10) r++;
  if (((i = n - r), i < 0)) (i += X), (a = n), (f = c[(m = 0)]);
  else {
    if (((m = Math.ceil((i + 1) / X)), (o = c.length), m >= o)) return e;
    for (f = o = c[m], r = 1; o >= 10; o /= 10) r++;
    (i %= X), (a = i - X + r);
  }
  if (
    (s !== void 0 &&
      ((o = Be(10, r - a - 1)),
      (d = (f / o) % 10 | 0),
      (h = n < 0 || c[m + 1] !== void 0 || f % o),
      (h =
        s < 4
          ? (d || h) && (s == 0 || s == (e.s < 0 ? 3 : 2))
          : d > 5 ||
            (d == 5 &&
              (s == 4 ||
                h ||
                (s == 6 &&
                  (i > 0 ? (a > 0 ? f / Be(10, r - a) : 0) : c[m - 1]) % 10 &
                    1) ||
                s == (e.s < 0 ? 8 : 7))))),
    n < 1 || !c[0])
  )
    return (
      h
        ? ((o = ne(e)),
          (c.length = 1),
          (n = n - o - 1),
          (c[0] = Be(10, (X - (n % X)) % X)),
          (e.e = qe(-n / X) || 0))
        : ((c.length = 1), (c[0] = e.e = e.s = 0)),
      e
    );
  if (
    (i == 0
      ? ((c.length = m), (o = 1), m--)
      : ((c.length = m + 1),
        (o = Be(10, X - i)),
        (c[m] = a > 0 ? ((f / Be(10, r - a)) % Be(10, a) | 0) * o : 0)),
    h)
  )
    for (;;)
      if (m == 0) {
        (c[0] += o) == se && ((c[0] = 1), ++e.e);
        break;
      } else {
        if (((c[m] += o), c[m] != se)) break;
        (c[m--] = 0), (o = 1);
      }
  for (i = c.length; c[--i] === 0; ) c.pop();
  if (Y && (e.e > Mt || e.e < -Mt)) throw Error(Cn + ne(e));
  return e;
}
function Gs(e, n) {
  var s,
    i,
    a,
    o,
    r,
    d,
    h,
    f,
    m,
    c,
    x = e.constructor,
    g = x.precision;
  if (!e.s || !n.s) return n.s ? (n.s = -n.s) : (n = new x(e)), Y ? q(n, g) : n;
  if (
    ((h = e.d),
    (c = n.d),
    (i = n.e),
    (f = e.e),
    (h = h.slice()),
    (r = f - i),
    r)
  ) {
    for (
      m = r < 0,
        m
          ? ((s = h), (r = -r), (d = c.length))
          : ((s = c), (i = f), (d = h.length)),
        a = Math.max(Math.ceil(g / X), d) + 2,
        r > a && ((r = a), (s.length = 1)),
        s.reverse(),
        a = r;
      a--;

    )
      s.push(0);
    s.reverse();
  } else {
    for (a = h.length, d = c.length, m = a < d, m && (d = a), a = 0; a < d; a++)
      if (h[a] != c[a]) {
        m = h[a] < c[a];
        break;
      }
    r = 0;
  }
  for (
    m && ((s = h), (h = c), (c = s), (n.s = -n.s)),
      d = h.length,
      a = c.length - d;
    a > 0;
    --a
  )
    h[d++] = 0;
  for (a = c.length; a > r; ) {
    if (h[--a] < c[a]) {
      for (o = a; o && h[--o] === 0; ) h[o] = se - 1;
      --h[o], (h[a] += se);
    }
    h[a] -= c[a];
  }
  for (; h[--d] === 0; ) h.pop();
  for (; h[0] === 0; h.shift()) --i;
  return h[0] ? ((n.d = h), (n.e = i), Y ? q(n, g) : n) : new x(0);
}
function Ve(e, n, s) {
  var i,
    a = ne(e),
    o = be(e.d),
    r = o.length;
  return (
    n
      ? (s && (i = s - r) > 0
          ? (o = o.charAt(0) + "." + o.slice(1) + ke(i))
          : r > 1 && (o = o.charAt(0) + "." + o.slice(1)),
        (o = o + (a < 0 ? "e" : "e+") + a))
      : a < 0
      ? ((o = "0." + ke(-a - 1) + o), s && (i = s - r) > 0 && (o += ke(i)))
      : a >= r
      ? ((o += ke(a + 1 - r)),
        s && (i = s - a - 1) > 0 && (o = o + "." + ke(i)))
      : ((i = a + 1) < r && (o = o.slice(0, i) + "." + o.slice(i)),
        s && (i = s - r) > 0 && (a + 1 === r && (o += "."), (o += ke(i)))),
    e.s < 0 ? "-" + o : o
  );
}
function ts(e, n) {
  if (e.length > n) return (e.length = n), !0;
}
function Hs(e) {
  var n, s, i;
  function a(o) {
    var r = this;
    if (!(r instanceof a)) return new a(o);
    if (((r.constructor = a), o instanceof a)) {
      (r.s = o.s), (r.e = o.e), (r.d = (o = o.d) ? o.slice() : o);
      return;
    }
    if (typeof o == "number") {
      if (o * 0 !== 0) throw Error(Fe + o);
      if (o > 0) r.s = 1;
      else if (o < 0) (o = -o), (r.s = -1);
      else {
        (r.s = 0), (r.e = 0), (r.d = [0]);
        return;
      }
      if (o === ~~o && o < 1e7) {
        (r.e = 0), (r.d = [o]);
        return;
      }
      return es(r, o.toString());
    } else if (typeof o != "string") throw Error(Fe + o);
    if (
      (o.charCodeAt(0) === 45 ? ((o = o.slice(1)), (r.s = -1)) : (r.s = 1),
      hd.test(o))
    )
      es(r, o);
    else throw Error(Fe + o);
  }
  if (
    ((a.prototype = w),
    (a.ROUND_UP = 0),
    (a.ROUND_DOWN = 1),
    (a.ROUND_CEIL = 2),
    (a.ROUND_FLOOR = 3),
    (a.ROUND_HALF_UP = 4),
    (a.ROUND_HALF_DOWN = 5),
    (a.ROUND_HALF_EVEN = 6),
    (a.ROUND_HALF_CEIL = 7),
    (a.ROUND_HALF_FLOOR = 8),
    (a.clone = Hs),
    (a.config = a.set = fd),
    e === void 0 && (e = {}),
    e)
  )
    for (
      i = ["precision", "rounding", "toExpNeg", "toExpPos", "LN10"], n = 0;
      n < i.length;

    )
      e.hasOwnProperty((s = i[n++])) || (e[s] = this[s]);
  return a.config(e), a;
}
function fd(e) {
  if (!e || typeof e != "object") throw Error(me + "Object expected");
  var n,
    s,
    i,
    a = [
      "precision",
      1,
      Ke,
      "rounding",
      0,
      8,
      "toExpNeg",
      -1 / 0,
      0,
      "toExpPos",
      0,
      1 / 0,
    ];
  for (n = 0; n < a.length; n += 3)
    if ((i = e[(s = a[n])]) !== void 0)
      if (qe(i) === i && i >= a[n + 1] && i <= a[n + 2]) this[s] = i;
      else throw Error(Fe + s + ": " + i);
  if ((i = e[(s = "LN10")]) !== void 0)
    if (i == Math.LN10) this[s] = new this(i);
    else throw Error(Fe + s + ": " + i);
  return this;
}
var vn = Hs(pd);
ce = new vn(1);
const md = vn,
  gd = ({
    settingsState: { bankDetailsState: e },
    userAuth: { mintAccountState: n },
  }) => {
    var s, i;
    return {
      mintStatus: (s = n.mintAccount) == null ? void 0 : s.data,
      bankDetailsState: (i = e.personalBankDetails) == null ? void 0 : i.data,
      loading: n.mintAccount.loading || e.personalBankDetails.loading,
      mintWithdrawableCurrencies: [u.USD],
    };
  },
  xd = (e) => {
    var We, Ge;
    const n = L(As),
      { data: s = {}, isLoading: i } = Hi(u.USD),
      {
        selectedCurrency: a,
        loading: o,
        mintStatus: r,
        bankDetailsState: d,
        closeModal: h,
        mintWithdrawableCurrencies: f,
      } = e,
      m = L(nn),
      [c, x] = C.useState(K.bank),
      [g, M] = C.useState("form"),
      y = Tt(),
      { formatMessage: b } = W(),
      { data: E = {}, isLoading: v } = fn(),
      [T] = Xi(),
      [$, I] = C.useState({
        memo: "",
        amount: 0,
        currencyCode: n.includes(a) ? a : u.USD,
        isMintWithdrawal: c === K.mint,
      }),
      D = L((j) => {
        var N;
        return (
          ((N = tt(j, $.currencyCode)) == null ? void 0 : N.available) ?? 0
        );
      }),
      B = E == null ? void 0 : E[$.currencyCode],
      U =
        c === K.mint
          ? Number(
              ((We = s == null ? void 0 : s.USD) == null
                ? void 0
                : We.feeAmount) ?? 0
            )
          : Number((B == null ? void 0 : B.feeAmount) ?? 0),
      z = {
        [K.mint]: (r == null ? void 0 : r.status) === aa.approved,
        [K.bank]:
          !!(d != null && d.bankName) &&
          !!(d != null && d.accountHolderName) &&
          !!(d != null && d.bankSwiftCode),
      },
      S =
        (c === K.mint
          ? Number(
              ((Ge = s == null ? void 0 : s.USD) == null
                ? void 0
                : Ge.minimumAmount) ?? 0
            )
          : Number((B == null ? void 0 : B.minimumAmount) ?? 0)) + U,
      P = C.useMemo(() => {
        if (!($.amount >= S)) return !1;
        try {
          const N = new fe($.amount);
          return N.gt(0) ? N.lte(D) : !1;
        } catch {
          return !1;
        }
      }, [D, S, $.amount]),
      re = (j) => {
        I({ ...$, currencyCode: j });
      },
      le = (j) => {
        I({ ...$, amount: j.floatValue ?? 0 });
      },
      _ = async () => {
        var j;
        try {
          await Es(
            T({
              memo: $.memo,
              currencyCode: $.currencyCode,
              amount: new md($.amount).minus(U).toNumber(),
              isMintWithdrawal: c === K.mint,
            }),
            b(
              {
                id: "5S8tcJ",
                defaultMessage: [
                  { type: 0, value: "Your " },
                  { type: 1, value: "withdrawalType" },
                  { type: 0, value: " withdrawal for " },
                  { type: 1, value: "getSymbolForFiatCurrency" },
                  { type: 0, value: " " },
                  { type: 1, value: "withdrawalRequest" },
                  { type: 0, value: " was successful." },
                ],
              },
              {
                withdrawalType: c,
                getSymbolForFiatCurrency: Ue($.currencyCode),
                withdrawalRequest: $.amount.toFixed(2),
              }
            )
          ),
            e.cancelFunction(),
            e.closeModal();
        } catch (N) {
          rt(N) &&
            ue.error(
              b(
                {
                  id: "eVX7Kq",
                  defaultMessage: [
                    { type: 0, value: "An error occurred processing a " },
                    { type: 1, value: "withdrawalType" },
                    { type: 0, value: " withdrawal for " },
                    { type: 1, value: "getSymbolForFiatCurrency" },
                    { type: 0, value: " " },
                    { type: 1, value: "withdrawalRequest" },
                    { type: 0, value: ". " },
                    { type: 1, value: "errMsg" },
                  ],
                },
                {
                  withdrawalType: c,
                  getSymbolForFiatCurrency: Ue($.currencyCode),
                  withdrawalRequest: $.amount.toFixed(2),
                  errMsg: ((j = N.data) == null ? void 0 : j.message) ?? "",
                }
              )
            );
        }
      },
      Se = (j) => {
        I({
          memo: "",
          amount: 0,
          currencyCode: u.USD,
          isMintWithdrawal: c === K.mint,
        }),
          x(j);
      },
      $e = (j) => {
        I({ ...$, memo: j.target.value });
      },
      Ie = (j) => {
        M(j),
          j === "form"
            ? e.setHeadingText("")
            : e.setHeadingText(
                b({
                  id: "UXMZLg",
                  defaultMessage: [{ type: 0, value: "Withdraw confirmation" }],
                })
              );
      },
      lt = {
        withdrawalType: c,
        linkedAccount: z[c],
        isValid: P,
        mintAccountNo: r == null ? void 0 : r.mintHin,
        availableBalance: D,
        currencyOptions: c === K.mint ? f : n,
        selectedCurrency: $.currencyCode,
        minimumWithdrawal: S,
        amount: Number($.amount),
        memo: $.memo ?? "",
        fee: U,
        onCurrencyChange: re,
        onAmountChange: le,
        onTypeChange: Se,
        onDescriptionChange: $e,
        onNextPressed: () => {
          Ie(c === K.bank ? "bank-details" : "submission");
        },
        onCancelPressed: e.cancelFunction,
        closeModal: h,
      };
    switch (g) {
      case "bank-details":
        return t.jsx(jl, {
          backFunction: () => {
            Ie("form");
          },
          nextFunction: () => {
            Ie("submission");
          },
          onEditBankDetailsClick: () => {
            e.cancelFunction(),
              e.closeModal(),
              y(
                qt(
                  Ne.settings.childRoutes.account.childRoutes.hin.childRoutes
                    .bankDetails.path,
                  ["hin"],
                  [m]
                )
              );
          },
        });
      case "submission":
        return t.jsx(ud, {
          backFunction: () => {
            Ie(c === K.bank ? "bank-details" : "form");
          },
          submitFunction: _,
          amount: $.amount,
          currencyCode: $.currencyCode,
          withdrawalType: c,
          fee: U,
          mintAccountNo: r == null ? void 0 : r.mintHin,
        });
      default:
        return Qt(t.jsx(Hl, { ...lt }), o || i || v);
    }
  },
  yd = ye(gd)(xd),
  bd = l(k)`
  gap: 12px;
  @media screen and (max-width: ${({ theme: e }) =>
    `${e.breakpoints.values.sm}px`}) {
    display: none;
  }
`,
  Cd = l("input")`
  width: 16px;
  height: 16px;
  border: 0.67px solid ${({ theme: e }) =>
    e.palette.designColors.borders.subdued};
`,
  vd = l("label", { shouldForwardProp: G(["disabled", "selected"]) })`
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px;

  font-size: 14px;
  line-height: 21px;
  border-radius: 8px;
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
  color: ${({ theme: e }) => e.palette.designColors.text.tertiary};
  pointer-events: ${({ disabled: e }) => (e ? "none" : "unset")};
  background-color: ${({ theme: e, selected: n }) =>
    n ? e.palette.designColors.surface.default : "unset"};
`,
  jd = l(Ss)`
  min-width: 32px;
  border: 8px solid ${({ theme: e }) => e.palette.designColors.borders.subdued};
`,
  wd = l("span")`
  font-size: 13px;
  line-height: 16px;
  font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
  color: ${({ theme: e }) => e.palette.designColors.text.default};
`,
  Md = (e) => {
    const {
        code: n,
        setSelectedBank: s,
        selectedBank: i,
        showFiatRepublicOptions: a,
      } = e,
      o = (r) => s(r.target.value);
    return t.jsx(bd, {
      onChange: o,
      children: Je[n]
        .filter(({ showForFiatRepublic: r }) => !r || (r && a))
        .map(({ bank: r, countryCode: d, depositLocation: h }) =>
          t.jsxs(
            vd,
            {
              selected: i === r,
              children: [
                t.jsx(Cd, {
                  type: "radio",
                  value: r,
                  checked: i === r,
                  name: "bank-select",
                  onChange: o,
                }),
                t.jsxs(R, {
                  gap: "12px",
                  alignItems: "center",
                  children: [
                    t.jsx(jd, {
                      countryCode: d,
                      sizeWidth: "32px",
                      sizeHeight: "32px",
                    }),
                    t.jsx(k, { children: t.jsx(wd, { children: h }) }),
                  ],
                }),
              ],
            },
            r
          )
        ),
    });
  },
  Sd = l(Li)`
  display: none;

  @media screen and (max-width: ${({ theme: e }) =>
    `${e.breakpoints.values.sm}px`}) {
    display: unset;
  }
`,
  kd = (e) => {
    const {
        code: n,
        selectedBank: s,
        setSelectedBank: i,
        showFiatRepublicOptions: a,
      } = e,
      o = Je[n]
        .filter(({ showForFiatRepublic: r }) => !r || (r && a))
        .map(({ depositLocation: r, bank: d, countryCode: h }) => ({
          label: r,
          value: d,
          left: t.jsx(Ss, { countryCode: h }),
        }));
    return t.jsx(Sd, {
      options: o,
      value: o.find(({ value: r }) => r === s),
      onChange: (r) => i(r),
    });
  },
  Ad = l("div")`
  min-width: ${({ width: e }) => e ?? "unset"};
  max-width: ${({ width: e }) => e ?? "unset"};
  min-height: ${({ height: e }) => e ?? "unset"};
  max-height: ${({ height: e }) => e ?? "unset"};
`,
  Td = l("img")`
  display: block;
  width: 100%;
  height: auto;
`,
  $d = (e) => {
    const {
      pxHeight: n,
      pxWidth: s,
      height: i,
      width: a,
      src: o,
      className: r,
      alt: d,
    } = e;
    return t.jsx(Ad, {
      className: r,
      height: i,
      width: a,
      children: t.jsx(Td, {
        height: n ?? 32,
        width: s ?? 32,
        src: o,
        alt: d ?? "image",
      }),
    });
  },
  Id = l("div")`
  border-top: 1px ${({ theme: e }) =>
    e.palette.designColors.borders.subtle} solid;
`,
  Dd = l("div")`
  display: flex;
  flex-direction: row;
  border-bottom: 1px ${({ theme: e }) =>
    e.palette.designColors.borders.subtle} solid;
`,
  Ed = l(sn)`
  display: flex;
  align-items: center;
  position: relative;
  min-height: 100%;
  width: 40%;
  gap: ${({ gap: e }) => e};
  padding: 12px 12px 12px 0;
  border-right: 1px ${({ theme: e }) =>
    e.palette.designColors.borders.subtle} solid;
  color: ${({ theme: e }) => e.palette.designColors.text.subdued};
`,
  Rd = l(sn)`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  width: 60%;
  padding: 12px 0 12px 12px;
  line-height: 16px;
`,
  Bd = l(us)(() => ({
    display: "flex",
    flexDirection: "row",
    justifyContent: "space-between",
    alignItems: "center",
    width: "60%",
    padding: "12px 0 12px 12px",
    lineHeight: "16px",
  })),
  Nd = (e) =>
    t.jsx(Ht, {
      buttonText: "",
      icon: { name: V.copyWireFrame, size: A.sixteen },
      tooltipDirection: "left",
      ...e,
    }),
  Pd = l(Nd)`
  border: 0;
`,
  ns = (e) => {
    const { bankDetails: n } = e,
      { formatMessage: s } = W();
    return t.jsx(Id, {
      children: n.map((i) => {
        const a = i.imageUrl ?? (i.valueImage ? on(i.valueImage) : void 0),
          o = t.jsxs(t.Fragment, {
            children: [
              t.jsxs(k, {
                gap: "12px",
                children: [
                  a &&
                    t.jsx($d, { src: a, width: i.valueImageWidth ?? "70px" }),
                  i.value,
                ],
              }),
              t.jsx(Pd, {
                message:
                  i.copyButtonTips ??
                  s(
                    {
                      id: "ZKeYGb",
                      defaultMessage: [
                        { type: 0, value: "Copy " },
                        { type: 1, value: "itemTitle" },
                      ],
                    },
                    { itemTitle: i.title }
                  ),
                copyText: i.value,
                idSuffix: i.title,
              }),
            ],
          });
        return t.jsxs(
          Dd,
          {
            children: [
              t.jsxs(Ed, {
                gap: "8px",
                children: [
                  i.titleIcon &&
                    t.jsx(F, {
                      name: i.titleIcon,
                      size: A.twelve,
                      fill: (r) => r.palette.designColors.icons.warning,
                    }),
                  i.title,
                ],
              }),
              i.websiteLink
                ? t.jsx(Bd, {
                    href: i.websiteLink,
                    target: "_blank",
                    children: o,
                  })
                : t.jsx(Rd, { children: o }),
            ],
          },
          i.title
        );
      }),
    });
  };
class Fd extends oa {
  subscribeToFiatVirtualAccountChanges() {
    return this.subscribe({
      path: "/notifications/deposits/fiat-virtual-accounts",
      events: ["onStatusChange"],
    });
  }
  unsubscribe() {
    this.disconnect();
  }
}
const kt = class kt {
  static getInstance() {
    return kt.fiatVirtualAccountSocketClient;
  }
};
ge(
  kt,
  "fiatVirtualAccountSocketClient",
  new Fd({ socketRootUrl: an.accountManagementApiRoot })
);
let St = kt;
Et.injectEndpoints({
  endpoints: (e) => ({
    supportedCurrencies: e.query({ queryFn: () => ({ data: ["EUR", "GBP"] }) }),
    supportedCountries: e.query({
      queryFn: async () => ({
        data: (
          await Sn(async () => {
            const { default: s } = await import(
              "./mock-supported-countries-BuLwWnky.js"
            );
            return { default: s };
          }, [])
        ).default,
      }),
    }),
    createVirtualAccount: e.mutation({ queryFn: () => ({ data: void 0 }) }),
    fiatVirtualAccountSocket: e.query({
      queryFn: async () => ({
        data: (
          await Sn(async () => {
            const { default: i } = await import(
              "./mock-fiat-republic-DwpkYwB5.js"
            );
            return { default: i };
          }, [])
        ).default.reduce((i, a) => ((i[a.currency] = a), i), {}),
      }),
      providesTags: ["account-info"],
      async onCacheEntryAdded(
        n,
        { cacheDataLoaded: s, cacheEntryRemoved: i, updateCachedData: a }
      ) {
        await s;
        const o = St.getInstance(),
          d = o
            .subscribeToFiatVirtualAccountChanges()
            .subscribe({
              next: ({ data: h }) => a((f) => ((f[h.currency] = h), f)),
            });
        await i, d.unsubscribe(), o.unsubscribe();
      },
    }),
  }),
  overrideExisting: an.dataProvider === "mock",
});
const Ld = Et.injectEndpoints({
    endpoints: (e) => ({
      supportedCurrencies: e.query({
        query: () => ({ url: "deposits/fiat/config/allowedCurrencies" }),
      }),
      supportedCountries: e.query({
        query: () => ({ url: "deposits/fiat/config/allowedCountries" }),
      }),
      createVirtualAccount: e.mutation({
        query: (n) => ({
          url: "deposits/fiat/virtual-accounts/v2",
          method: "POST",
          body: { currency: n },
        }),
      }),
      fiatVirtualAccountSocket: e.query({
        query: () => ({ url: "deposits/fiat/virtual-accounts/v2" }),
        providesTags: ["account-info"],
        transformResponse: (n) =>
          n.reduce((s, i) => ((s[i.currency] = i), s), {}),
        async onCacheEntryAdded(
          n,
          { cacheDataLoaded: s, cacheEntryRemoved: i, updateCachedData: a }
        ) {
          await s;
          const o = St.getInstance(),
            d = o
              .subscribeToFiatVirtualAccountChanges()
              .subscribe({
                next: ({ data: h }) => a((f) => ((f[h.currency] = h), f)),
              });
          await i, d.unsubscribe(), o.unsubscribe();
        },
      }),
    }),
    overrideExisting: an.dataProvider === "api",
  }),
  Vd = Ld,
  {
    useFiatVirtualAccountSocketQuery: zd,
    useSupportedCountriesQuery: Od,
    useSupportedCurrenciesQuery: Ud,
    useCreateVirtualAccountMutation: _d,
  } = Vd,
  Kd = (e) => {
    const { data: n, isLoading: s } = Od(),
      { data: i, isLoading: a } = Ud(),
      { data: o, isLoading: r } = bs(),
      d = L(At),
      [h, f] = C.useState(Je[e][0].bank),
      m = d === $t.individual,
      c = C.useMemo(() => {
        const M =
            !!o && !!(n != null && n.includes(o == null ? void 0 : o.country)),
          y = !!(i != null && i.includes(e));
        return m && M && y
          ? Je[e][0].bank
          : Je[e].find((E) => !E.showForFiatRepublic).bank;
      }, [o, e, m, n, i]),
      x = ra[h],
      g = x ? x[e] : null;
    return (
      C.useEffect(() => {
        f(c);
      }, [e, c]),
      {
        bank: g,
        selectedBank: h,
        setSelectedBank: f,
        isPegasusPay: m && h === jt.PegasusPay,
        isFiatRepublic: m && h === jt.FiatRepublic,
        loading: s || a || r,
      }
    );
  },
  qd = l(R)`
  @media screen and (max-width: ${({ theme: e }) =>
    `${e.breakpoints.values.sm}px`}) {
    flex-direction: column;
  }
`,
  Wd = l(k)`
  padding: 24px;
  background-color: ${({ theme: e }) =>
    e.palette.designColors.background.default};
  border-radius: 0 0 0 20px;
`,
  ss = l("span")`
  font-size: 14px;
  line-height: 21px;
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
  color: ${({ theme: e }) => e.palette.designColors.text.default};
`,
  _t = l("span")`
  font-size: 14px;
  line-height: 21px;
  font-family: ${({ theme: e }) => e.typography.fonts.semiBold};
  color: ${({ theme: e }) => e.palette.designColors.text.default};
`,
  Gd = l("span")`
  margin-top: auto;
  width: 199px;
  font-size: 10px;
  line-height: 16px;
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
  color: ${({ theme: e }) => e.palette.designColors.text.default};
  @media screen and (max-width: ${({ theme: e }) =>
    `${e.breakpoints.values.sm}px`}) {
    width: 100%;
  }
`,
  mt = l(mn)`
  text-align: center;
  padding: 16px;
  box-sizing: border-box;
  border-radius: 4px;
  background-color: ${({ isInfo: e, theme: n }) =>
    e
      ? n.palette.designColors.surface.info.subdued
      : n.palette.designColors.surface.warning.subdued};
  white-space: pre-line;
`,
  Hd = l($s)`
  font-size: 14px;
  line-height: 22px;
  color: ${({ theme: e }) =>
    e.palette.designColors.interactive.primary.default};
`,
  Xd = l($s)`
  font-size: 12px;
  line-height: 16px;
  color: ${({ theme: e }) =>
    e.palette.designColors.interactive.primary.default};
`,
  Qd = l(_e)`
  > div {
    min-width: auto !important;
  }
`,
  Yd = l(sa)`
  text-align: center;
`,
  is = (e) => {
    const { code: n } = e;
    return t.jsx(Yd, {
      children: t.jsx(p, {
        id: "VUsukO",
        defaultMessage: [
          {
            type: 0,
            value: "Create your personal bank details in order to deposit ",
          },
          { type: 1, value: "code" },
          { type: 0, value: " into your Kinesis account. " },
          { type: 8, value: "a", children: [{ type: 0, value: "Learn more" }] },
        ],
        values: {
          code: n,
          a: (s) =>
            t.jsx(Hd, {
              id: "create-learn-more",
              href:
                n === Ui.GBP
                  ? "https://support.kinesis.money/hc/en-gb/articles/14297176666909-Depositing-British-Pounds-GBP-into-the-Kinesis-platform-from-Europe"
                  : "https://support.kinesis.money/hc/en-gb/articles/14296371440669-Depositing-Euro-EUR-into-the-Kinesis-platform-from-Europe",
              target: "_blank",
              rel: "noopener noreferrer",
              children: s,
            }),
        },
      }),
    });
  },
  Zd = (e) => {
    const {
      loading: n,
      handleClick: s,
      showFiatRepublicBankDetails: i,
      bankTableData: a,
      code: o,
      fiatRepublicBank: r,
    } = e;
    return i
      ? r && r.status !== "virtualAccountDeactivated"
        ? r.status === "virtualAccountActivated"
          ? t.jsx(ns, { bankDetails: a })
          : t.jsxs(k, {
              alignItems: "center",
              justifyContent: "center",
              gap: "24px",
              children: [
                t.jsx(F, { name: V.createBankDetails, size: A.eighty }),
                t.jsx(is, { code: o }),
              ],
            })
        : t.jsxs(k, {
            alignItems: "center",
            justifyContent: "center",
            gap: "24px",
            children: [
              t.jsx(F, { name: V.createBankDetails, size: A.eighty }),
              t.jsx(is, { code: o }),
              t.jsx(Z, {
                size: "large",
                disabled: n,
                loading: n,
                "data-cy": "fiat-republic-create-btn",
                onClick: async () => await s(o),
                children: t.jsx(p, {
                  id: "zDFez5",
                  defaultMessage: [{ type: 0, value: "Create details" }],
                }),
              }),
            ],
          })
      : t.jsx(ns, { bankDetails: a });
  },
  Jd = (e) => {
    const { showFiatRepublicBankDetails: n, fiatRepublicBank: s } = e;
    if (n) {
      if (s)
        switch (s.status) {
          case "fiatVirtualAccountCreated":
            return t.jsx(mt, {
              isInfo: !0,
              children: t.jsx(p, {
                id: "/9KPs/",
                defaultMessage: [
                  {
                    type: 0,
                    value:
                      "Details on their way. We are generating your account details, you will be informed when they are ready via email.",
                  },
                ],
              }),
            });
          case "fiatVirtualAccountCreationFailed":
            return t.jsx(mt, {
              isInfo: !0,
              children: t.jsx(p, {
                id: "OFsM0y",
                defaultMessage: [
                  {
                    type: 0,
                    value:
                      "Virtual account creation failed. There was an issue creating your virtual account. Please contact our ",
                  },
                  {
                    type: 8,
                    value: "a",
                    children: [{ type: 0, value: "Support Team" }],
                  },
                  { type: 0, value: " for assistance." },
                ],
                values: {
                  a: (a) =>
                    t.jsx(Xd, {
                      id: "creation-failed-support",
                      href: "https://kms.kinesis.money/support",
                      target: "_blank",
                      rel: "noopener noreferrer",
                      children: a,
                    }),
                },
              }),
            });
          case "virtualAccountActivated":
            return t.jsx(mt, {
              children: t.jsx(p, {
                id: "MC28i5",
                defaultMessage: [
                  {
                    type: 0,
                    value:
                      "Please ensure the deposit is made from an account held in your name.",
                  },
                ],
              }),
            });
        }
    } else
      return t.jsxs(mt, {
        children: [
          t.jsx(p, {
            id: "V5LzWN",
            defaultMessage: [
              {
                type: 0,
                value:
                  "Please ensure that funds are sent from an account held in the same name as your KMS account.",
              },
            ],
          }),
          t.jsx("br", {}),
          t.jsx("br", {}),
          t.jsx(p, {
            id: "zOCorB",
            defaultMessage: [
              {
                type: 0,
                value: "Use the payment reference above to avoid delays.",
              },
            ],
          }),
        ],
      });
  },
  ec = (e) => {
    const { defaultCode: n, onCancel: s } = e,
      i = L(nn),
      [a, o] = C.useState(n || na.USD),
      { data: r, isLoading: d } = zd(),
      [h, { isLoading: f }] = _d(),
      {
        bank: m,
        selectedBank: c,
        setSelectedBank: x,
        isFiatRepublic: g,
        isPegasusPay: M,
        loading: y,
      } = Kd(a),
      b = r == null ? void 0 : r[a],
      { formatMessage: E } = W(),
      v = {
        walletProvider: {
          title: E({
            id: "HrfxUE",
            defaultMessage: [{ type: 0, value: "Wallet Provider" }],
          }),
        },
        walletName: {
          title: E({
            id: "XYtt8J",
            defaultMessage: [{ type: 0, value: "Wallet Name" }],
          }),
        },
        walletNumber: {
          title: E({
            id: "PJQfY+",
            defaultMessage: [{ type: 0, value: "Wallet Number" }],
          }),
        },
        bank: {
          title: E({
            id: "hbSqJA",
            defaultMessage: [{ type: 0, value: "Bank" }],
          }),
        },
        abaRouting: { title: "ABA Routing" },
        domesticRouting: { title: "Domestic/Int'l Wire Transfer Routing" },
        routingNumber: {
          title: E({
            id: "EkI6k1",
            defaultMessage: [{ type: 0, value: "Routing Number" }],
          }),
        },
        iban: { title: "IBAN" },
        bic: { title: "BIC" },
        bsb: { title: "BSB" },
        accountNumber: {
          title: E({
            id: "vV2G6z",
            defaultMessage: [{ type: 0, value: "Account Number" }],
          }),
        },
        swift: { title: "SWIFT" },
        accountName: {
          title: E({
            id: "XuxIBJ",
            defaultMessage: [{ type: 0, value: "Beneficiary / Account Name" }],
          }),
        },
        beneficiaryAddress: {
          title: E({
            id: "7iJ41/",
            defaultMessage: [{ type: 0, value: "Beneficiary Address" }],
          }),
        },
        bankAddress: {
          title:
            c === jt.Permata
              ? E({
                  id: "F+zSfg",
                  defaultMessage: [{ type: 0, value: "Branch Address" }],
                })
              : E({
                  id: "0BsVoS",
                  defaultMessage: [{ type: 0, value: "Bank Address" }],
                }),
        },
        ...(c === jt.Permata
          ? {
              branch: {
                title: E({
                  id: "8dAyZI",
                  defaultMessage: [{ type: 0, value: "Branch" }],
                }),
              },
            }
          : {}),
        bankName: {
          title: E({
            id: "hbSqJA",
            defaultMessage: [{ type: 0, value: "Bank" }],
          }),
        },
        routingCodes: {
          title: E({
            id: "hRPt0o",
            defaultMessage: [{ type: 0, value: "Sort Code" }],
          }),
        },
        accountHolderName: {
          title: E({
            id: "sZ7Viz",
            defaultMessage: [{ type: 0, value: "Account Holder Name" }],
          }),
        },
      };
    let T = [];
    const $ = b == null ? void 0 : b.status,
      I =
        $ === "virtualAccountActivated"
          ? b == null
            ? void 0
            : b.bankDetails
          : null;
    return (
      g && I
        ? (T = Object.keys(I)
            .filter((D) => !!v[D] && D !== "bankAddress")
            .map((D) => {
              var B, U;
              return {
                title: v[D].title,
                value:
                  D === "routingCodes"
                    ? (U =
                        (B = I.routingCodes) == null
                          ? void 0
                          : B.find((z) => z.type === "SORT_CODE")) == null
                      ? void 0
                      : U.value
                    : I[D],
              };
            }))
        : ((T = m
            ? Object.keys(m)
                .filter((D) => !!v[D])
                .map((D) => ({
                  title: v[D].title,
                  value: m[D],
                  valueImage: D === "bank" ? m.icon : void 0,
                  valueImageWidth:
                    D === "bank" || D === "walletProvider"
                      ? m.iconWidth
                      : void 0,
                  imageUrl: D === "walletProvider" ? m.imageUrl : void 0,
                  websiteLink: D === "walletProvider" ? m.websiteLink : void 0,
                }))
            : []),
          i &&
            T.push({
              title: E({
                id: "5mCBrX",
                defaultMessage: [{ type: 0, value: "Payment Reference" }],
              }),
              value: i,
              titleIcon: V.warning,
            })),
      t.jsxs(qd, {
        children: [
          t.jsxs(Wd, {
            gap: "16px",
            children: [
              t.jsx(ss, {
                children: t.jsx(p, {
                  id: "uQ8Y4G",
                  defaultMessage: [{ type: 0, value: "Choose your currency" }],
                }),
              }),
              t.jsx(Qd, {
                defaultValue: a,
                onChange: (D) => {
                  o(D);
                },
                options: Oi,
              }),
              t.jsx(ss, {
                children: t.jsx(p, {
                  id: "PgOQ7O",
                  defaultMessage: [
                    { type: 0, value: "Preferred deposit location" },
                  ],
                }),
              }),
              t.jsx(Md, {
                code: a,
                selectedBank: c,
                setSelectedBank: x,
                showFiatRepublicOptions: g,
              }),
              t.jsx(kd, {
                code: a,
                selectedBank: c,
                setSelectedBank: x,
                showFiatRepublicOptions: g,
              }),
              t.jsx(Gd, {
                children: t.jsx(p, {
                  id: "Phll1k",
                  defaultMessage: [
                    {
                      type: 0,
                      value:
                        "By depositing funds to this account you acknowledge and agree that the amount credited to your KMS Account may be less than the amount that you send as the remitter and/or beneficiary Bank may impose a fee on your transaction which is deducted from your payment. Allow 3-5 days for funds to clear.",
                    },
                  ],
                }),
              }),
            ],
          }),
          t.jsxs(k, {
            content:
              g && (!b || b.status !== "virtualAccountActivated")
                ? "center"
                : "flex-start",
            gap: "16px",
            padding: "24px",
            children: [
              Ts(a)
                ? M
                  ? t.jsx(_t, {
                      children: t.jsx(p, {
                        id: "sX77gu",
                        defaultMessage: [
                          { type: 0, value: "To add " },
                          { type: 1, value: "code" },
                          {
                            type: 0,
                            value:
                              " to your Kinesis Account, deposit funds to the Kinesis wallet provider detailed below:",
                          },
                        ],
                        values: { code: a },
                      }),
                    })
                  : (!g || (g && b && $ === "virtualAccountActivated")) &&
                    t.jsx(_t, {
                      children: t.jsx(p, {
                        id: "BwAjH8",
                        defaultMessage: [
                          { type: 0, value: "To add " },
                          { type: 1, value: "code" },
                          {
                            type: 0,
                            value:
                              " to your Kinesis Account, deposit funds to the Kinesis bank account detailed below:",
                          },
                        ],
                        values: { code: a },
                      }),
                    })
                : t.jsx(_t, {
                    children: t.jsx(p, {
                      id: "HwPMaG",
                      defaultMessage: [
                        {
                          type: 0,
                          value:
                            "All currencies added to your Kinesis account will be converted to USD at the current prevailing interbank rate",
                        },
                      ],
                    }),
                  }),
              t.jsx(Zd, {
                loading: y || d || f,
                handleClick: async (D) => {
                  await h(D);
                },
                showFiatRepublicBankDetails: g,
                bankTableData: T,
                code: a,
                fiatRepublicBank: b,
              }),
              t.jsx(Jd, {
                selectedBank: c,
                code: a,
                showFiatRepublicBankDetails: g,
                fiatRepublicBank: b,
              }),
              t.jsx(ae, {
                onClick: s,
                children: t.jsx(p, {
                  id: "rbrahO",
                  defaultMessage: [{ type: 0, value: "Close" }],
                }),
              }),
            ],
          }),
        ],
      })
    );
  },
  tc = l("div")`
  height: fit-content;
`,
  nc = l("div")`
  margin-bottom: 8px;
  font-size: 14px;
  line-height: 21px;
  color: ${({ theme: e }) => e.palette.designColors.text.strong};
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
`,
  sc = l(_e)`
  margin-bottom: 32px;
`,
  ic = l("div")`
  display: flex;
  flex-direction: row;
  align-self: center;
  justify-content: center;
  gap: 8px;
`,
  ac = (e) => {
    const {
        defaultCode: n = u.USD,
        onSelected: s,
        onCancel: i,
        labelDictionary: a,
        currencySelectorText: o,
      } = e,
      [r, d] = C.useState(n);
    return t.jsxs(tc, {
      children: [
        t.jsx(nc, { children: o ?? "" }),
        t.jsx(sc, {
          defaultValue: n,
          options: e.currencyOptions,
          labelDictionary: a,
          onChange: (h) => d(h),
        }),
        t.jsxs(ic, {
          children: [
            t.jsx(ae, {
              size: "large",
              disabled: !1,
              onClick: i,
              "data-cy": "currency-select-cancel-btn",
              children: t.jsx(p, {
                id: "47FYwb",
                defaultMessage: [{ type: 0, value: "Cancel" }],
              }),
            }),
            t.jsx(Z, {
              size: "large",
              disabled: !1,
              onClick: () => s(r),
              "data-cy": "currency-select-next-btn",
              children: t.jsx(p, {
                id: "9+Ddtu",
                defaultMessage: [{ type: 0, value: "Next" }],
              }),
            }),
          ],
        }),
      ],
    });
  },
  oc = ({
    uiState: {
      global: { depositWithdrawalModal: e },
    },
  }) => ({ depositWithdrawalModal: e }),
  rc = { openWithdrawalDeposit: mi },
  lc = l(Te)`
  &&& .MuiDialog-paper {
      overflow-y: scroll;
    }
`,
  dc = l(R)`
  border-bottom: 1px solid ${({ theme: e }) =>
    e.palette.designColors.surface.depressed};
`,
  cc = l("div")`
  padding: 32px 24px;
  @media screen and (max-width: 600px) {
    padding: 16px;
  }
`,
  uc = l(R)`
  flex-shrink: 0;
  height: 48px;
  align-items: center;
  padding: 0px 16px;
  justify-content: space-between;
  border-bottom: 1px solid ${({ theme: e }) =>
    e.palette.designColors.borders.subdued};
  border-bottom: none;
`,
  pc = l("span")`
  line-height: 14px;
  font-size: 14px;

  @media only screen and (max-width: ${({ theme: e }) =>
    `${e.breakpoints.values.sm}px`}) {
    font-size: 13px;
  }
`,
  hc = gi([en, (e, n) => n], (e, n) => n.filter((s) => !!e[s])),
  fc = (e) => {
    const { depositWithdrawalModal: n, openWithdrawalDeposit: s } = e,
      i = L(As),
      { tab: a, currency: o } = n,
      [r, d] = C.useState(""),
      [h, f] = C.useState(o),
      { formatMessage: m } = W(),
      c = L((g) => hc(g, i)),
      x = () => {
        s({ tab: null });
      };
    return t.jsx(lc, {
      open: !!a,
      onClose: x,
      size: "sm",
      hidePuller: !0,
      allowOverflow: !0,
      header: r
        ? t.jsx(uc, { children: t.jsx(pc, { children: r }) })
        : t.jsx(dc, {
            children: [
              {
                value: Lt.Deposit,
                label: m({
                  id: "dIgBOz",
                  defaultMessage: [{ type: 0, value: "Deposit" }],
                }),
              },
              {
                value: Lt.Withdrawal,
                label: m({
                  id: "M/9zHa",
                  defaultMessage: [{ type: 0, value: "Withdrawal" }],
                }),
              },
            ].map((g) =>
              t.jsx(
                yt,
                {
                  active: a === g.value,
                  onClick: () => {
                    s({ tab: g.value });
                  },
                  children: g.label,
                },
                g.value
              )
            ),
          }),
      blank: !0,
      children:
        a === Lt.Deposit
          ? t.jsx(ec, { defaultCode: o, onCancel: x })
          : t.jsx(cc, {
              children: h
                ? t.jsx(yd, {
                    setHeadingText: d,
                    cancelFunction: () => f(void 0),
                    closeModal: x,
                    selectedCurrency: h,
                  })
                : t.jsx(ac, {
                    currencySelectorText: m({
                      id: "WX5lq+",
                      defaultMessage: [
                        {
                          type: 0,
                          value: "Select your Kinesis Account to withdraw from",
                        },
                      ],
                    }),
                    labelDictionary: {
                      [u.USD]: "USD Account",
                      [u.GBP]: "GBP Account",
                      [u.EUR]: "EUR Account",
                      [u.AUD]: "AUD Account",
                      [u.CAD]: "CAD Account",
                      [u.SGD]: "SGD Account",
                      [u.CHF]: "CHF Account",
                      [u.AED]: "AED Account",
                      [u.KES]: "KES Account",
                    },
                    currencyOptions: c,
                    onCancel: x,
                    defaultCode: o ?? u.USD,
                    onSelected: f,
                  }),
            }),
    });
  },
  mc = ye(oc, rc)(fc),
  jn = () => {
    const [e, { isFetching: n, data: s, error: i }] = ca();
    return {
      triggerMfaValidation: e,
      isValidatingMfa: n,
      mfaData: s,
      errors: [i].filter(Boolean),
    };
  },
  gc = l(ia)`
  color: ${({ theme: e, currencyCode: n }) =>
    e.palette.colorPalette.currencies[n].default};
`,
  xc = l(ps)`
  color: ${({ theme: e, currencyCode: n }) =>
    e.palette.colorPalette.currencies[n].default};
`,
  yc = l(ps)`
  color: ${({ theme: e }) => e.palette.designColors.text.default};
`,
  bc = (e) => {
    const { amount: n, currencyCode: s } = e,
      [i, a] = zi(
        ie(
          { code: s, value: n },
          { appendCurrencyCode: !1, prependFiatSymbol: !1 }
        )
      )
        .toFixed(5)
        .split(".");
    return t.jsx(gc, {
      currencyCode: s,
      "data-cy": `${s}-balance`,
      children: t.jsxs(R, {
        gap: "4px",
        alignItems: "baseline",
        children: [
          t.jsxs(R, {
            alignItems: "baseline",
            children: [
              i,
              a &&
                t.jsx(p, {
                  id: "IXVPok",
                  defaultMessage: [
                    { type: 0, value: "." },
                    { type: 1, value: "value" },
                  ],
                  values: { value: a.substring(0, 3) },
                }),
              (a == null ? void 0 : a.length) > 3 &&
                t.jsx(xc, {
                  currencyCode: s,
                  weight: "bold",
                  children: a.substring(3, a.length),
                }),
            ],
          }),
          t.jsx(yc, { children: s }),
        ],
      }),
    });
  },
  Cc = l(k)`
  padding: 0 0 48px 0;
  align-items: center;
  max-width: 318px;
  width: 100%;
  gap: 32px;
`,
  as = l("span")`
  color: ${({ theme: e }) => e.palette.designColors.text.tertiary};
  font-size: 13px;
  line-height: 18px;
  font-family: ${({ theme: e }) => e.typography.fonts.regular};
`,
  vc = l("span")`
  color: ${({ theme: e }) => e.palette.designColors.text.strong};
  font-size: 13px;
  line-height: 18px;
  font-family: ${({ theme: e }) => e.typography.fonts.bold};
`,
  jc = l(R)`
  gap: 10px;
  justify-content: end;
`,
  wc = l("span")`
  color: ${({ theme: e }) => e.palette.designColors.text.default};
  font-size: 12px;
  line-height: 16px;
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
`,
  Mc = l("span")`
  color: ${({ theme: e }) => e.palette.designColors.text.default};
  font-size: 12px;
  line-height: 16px;
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
`,
  Sc = l(k)`
  align-items: center;
  gap: 14px;
  width: 100%;
`,
  kc = l("label")`
  &&& {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 4px;
    color: ${({ theme: e }) => e.palette.designColors.text.tertiary};
    font-size: 13px;
    line-height: 18px;
    font-family: ${({ theme: e }) => e.typography.fonts.regular};
    color: ${({ theme: e }) => e.palette.designColors.text.tertiary};
  }
`,
  Ac = l("span")`
  font-size: 14px;
  line-height: 16px;
  color: ${({ theme: e }) => e.palette.designColors.text.default};
`,
  Tc = l("span")`
  color: ${({ theme: e }) => e.palette.designColors.text.critical};
`,
  $c = l(ot)`
  flex: none;
`,
  Ic = l(k)`
  width: 100%;
  padding: 16px;
  background-color: ${({ theme: e }) =>
    e.palette.designColors.background.default};
  border-radius: 8px;
  gap: 14px;
`,
  Dc = l(R)`
  width: 100%;
  justify-content: space-between;
`,
  Ec = l("span")`
  color: ${({ theme: e }) => e.palette.designColors.text.tertiary};
  font-size: 13px;
  line-height: 20px;
  font-family: ${({ theme: e }) => e.typography.fonts.regular};
`,
  Rc = l("span")`
  color: ${({ theme: e }) => e.palette.designColors.text.strong};
  font-size: 14px;
  line-height: 22px;
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
`,
  Bc = (e) => {
    const {
        onCancel: n,
        onGoToMfa: s,
        paymentCurrency: i,
        setPaymentCurrency: a,
        onSubmit: o,
        globalPaymentId: r,
      } = e,
      { data: d } = Bt({ globalPaymentId: r }),
      { formatMessage: h } = W(),
      f = L((I) => {
        var D;
        return (D = tt(I, i)) == null ? void 0 : D.available;
      }),
      [m, c] = C.useState(0);
    C.useEffect(() => {
      d != null &&
        d.createdAt &&
        c(
          new fe(Date.now() - new Date(d.createdAt).getTime())
            .div(1e3)
            .toNumber()
        );
    }, [d == null ? void 0 : d.createdAt]);
    const { triggerMfaValidation: x, isValidatingMfa: g } = jn(),
      M = !d || g,
      y = async () => {
        if (!d) {
          ue.error(
            h({
              id: "i44UWr",
              defaultMessage: [
                { type: 0, value: "Payment data is unavailable." },
              ],
            })
          );
          return;
        }
        const { data: I } = await x({
          amount:
            i === u.KAU
              ? d.paymentKauAmount.toString()
              : d.paymentKagAmount.toString(),
          currency: i,
        });
        return I === void 0 ? n() : I ? s() : o();
      },
      b = () => {
        n(),
          ue.error(
            h({
              id: "I1ZPxR",
              defaultMessage: [
                {
                  type: 0,
                  value: "Your Kinesis Pay session has expired, try again.",
                },
              ],
            })
          );
      };
    if (!d) return t.jsx(Dt, {});
    const E = d.amount,
      v = d.amountCurrency,
      T =
        i === u.KAU
          ? d == null
            ? void 0
            : d.paymentKauAmount
          : d == null
          ? void 0
          : d.paymentKagAmount,
      $ = new fe(
        new Date(d.expiryAt).getTime() - new Date(d.createdAt).getTime()
      )
        .div(1e3)
        .round(0)
        .toNumber();
    return t.jsxs(Cc, {
      children: [
        t.jsxs(k, {
          gap: "24px",
          alignItems: "center",
          children: [
            t.jsx(Pi, {
              seconds: m,
              setSeconds: c,
              maxSeconds: $,
              onTimerReached: b,
            }),
            t.jsxs(k, {
              gap: "14px",
              alignItems: "center",
              children: [
                t.jsxs(R, {
                  gap: "4px",
                  alignItems: "center",
                  children: [
                    t.jsx(as, {
                      children: t.jsx(p, {
                        id: "lD3+8a",
                        defaultMessage: [{ type: 0, value: "Pay" }],
                      }),
                    }),
                    t.jsx(vc, { children: d.merchantBusinessName }),
                    t.jsx(as, {
                      children: t.jsx(p, {
                        id: "pG7OTC",
                        defaultMessage: [{ type: 0, value: "with" }],
                      }),
                    }),
                  ],
                }),
                t.jsx(R, {
                  gap: "10px",
                  children: [u.KAU, u.KAG].map((I) =>
                    t.jsx(
                      hs,
                      {
                        color: I === i ? "primary" : "secondary",
                        onClick: () => {
                          M || a(I);
                        },
                        children: t.jsxs(R, {
                          gap: "4px",
                          alignItems: "center",
                          children: [
                            t.jsx($c, { size: "16px", currencyCode: I }),
                            t.jsx(Ac, { children: I }),
                          ],
                        }),
                      },
                      I
                    )
                  ),
                }),
              ],
            }),
          ],
        }),
        t.jsxs(Sc, {
          children: [
            t.jsx(kc, {
              children: t.jsx(p, {
                id: "fL08MU",
                defaultMessage: [{ type: 0, value: "Order value" }],
              }),
            }),
            t.jsxs(k, {
              gap: "4px",
              alignItems: "center",
              children: [
                t.jsx(bc, { amount: T, currencyCode: i }),
                t.jsxs(R, {
                  alignItems: "flex-end",
                  gap: "2px",
                  children: [
                    t.jsx(wc, {
                      children: t.jsx(p, {
                        id: "S25yCI",
                        defaultMessage: [
                          { type: 0, value: "= " },
                          { type: 1, value: "value" },
                        ],
                        values: { value: ie({ value: E, code: v }) },
                      }),
                    }),
                    t.jsx(Mc, { children: v }),
                  ],
                }),
              ],
            }),
          ],
        }),
        t.jsxs(k, {
          gap: "56px",
          width: "100%",
          alignItems: "center",
          children: [
            t.jsx(Ic, {
              children: t.jsxs(Dc, {
                children: [
                  t.jsx(Ec, {
                    children: t.jsx(p, {
                      id: "0bZ4/4",
                      defaultMessage: [{ type: 0, value: "Payment ID" }],
                    }),
                  }),
                  t.jsx(Rc, { children: d.globalPaymentId }),
                ],
              }),
            }),
            t.jsxs(jc, {
              children: [
                t.jsx(ae, {
                  size: "small",
                  onClick: n,
                  disabled: M,
                  children: t.jsx(p, {
                    id: "47FYwb",
                    defaultMessage: [{ type: 0, value: "Cancel" }],
                  }),
                }),
                t.jsx(Z, {
                  size: "small",
                  disabled: M || new fe(T).gt(f),
                  loading: M,
                  onClick: () => y(),
                  children: new fe(T).gt(f)
                    ? t.jsxs(R, {
                        gap: "4px",
                        children: [
                          t.jsx(F, {
                            name: V.info,
                            fill: (I) => I.palette.designColors.icons.critical,
                            size: A.fourteen,
                            iconSize: A.fourteen,
                          }),
                          t.jsx(Tc, {
                            children: t.jsx(p, {
                              id: "D6ZiaM",
                              defaultMessage: [
                                { type: 0, value: "Balance Exceeded" },
                              ],
                            }),
                          }),
                        ],
                      })
                    : t.jsx(p, {
                        id: "lD3+8a",
                        defaultMessage: [{ type: 0, value: "Pay" }],
                      }),
                }),
              ],
            }),
          ],
        }),
      ],
    });
  },
  Nc = (e) => {
    const { onBack: n, onSubmit: s, onCloseClick: i } = e,
      a = L(fs);
    return t.jsx(t.Fragment, {
      children: {
        [je.sms]: t.jsx(dn, {
          buttonSize: "small",
          onBack: n,
          onSubmit: s,
          onCloseClick: i,
        }),
        [je.qrCode]: t.jsx(ln, { buttonSize: "small", onBack: n, onSubmit: s }),
      }[a ?? je.sms],
    });
  },
  Pc = l(k)`
  padding: 0 0 48px 0;
  align-items: center;
  gap: 32px;
`,
  Fc = l("span")`
  margin-top: 12px;
  color: ${({ theme: e }) => e.palette.designColors.text.default};
  font-size: 21px;
  line-height: 30px;
  font-family: ${({ theme: e }) => e.typography.fonts.bold};
`,
  Lc = l("span")`
  color: ${({ theme: e }) => e.palette.designColors.text.tertiary};
  font-size: 16px;
  line-height: 21px;
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
`,
  Vc = l(R, { shouldForwardProp: G(["disabled", "disabled"]) })`
  align-items: center;
  padding-right: 3px;
  width: 100%;
  border-radius: 4px;
  border: 1px solid ${({ hasError: e, theme: n }) =>
    e
      ? n.palette.designColors.borders.critical.default
      : n.palette.designColors.borders.subdued};
  background-color: ${({ theme: e, hasError: n, disabled: s }) =>
    n
      ? e.palette.designColors.surface.critical.subdued
      : s
      ? e.palette.designColors.surface.disabled
      : "transparent"};
`,
  zc = l("div")`
  display: flex;
  flex-direction: row;
  justify-content: center;
  width: 100%;
  height: 46px;
  padding: 12px;
`,
  Oc = l("input", { shouldForwardProp: G(["$hasError"]) })`
  margin: auto 8px;
  outline: none;
  border: none;
  text-align: start;
  color: ${({ $hasError: e, theme: n }) =>
    e
      ? n.palette.designColors.text.critical
      : n.palette.designColors.text.default};
  height: 100%;
  width: 100%;
  font-size: 14px;
  line-height: 22px;
  font-family: ${({ theme: e }) => e.typography.fonts.regular};

  ::placeholder {
    color: ${({ theme: e }) => e.palette.designColors.text.subdued};
  }

  ${({ theme: e, $hasError: n }) =>
    n &&
    et`
      background-color: ${e.palette.designColors.surface.critical.subdued};
    `}
`,
  Uc = l("span", { shouldForwardProp: G(["$hasError"]) })`
  color: ${({ theme: e }) => e.palette.designColors.text.critical};
  font-size: 13px;
  line-height: 20px;
  font-family: ${({ theme: e }) => e.typography.fonts.regular};
  display: ${({ $hasError: e }) => (e ? "block" : "none")};
`,
  _c = l(R)`
  gap: 10px;
  justify-content: end;
`,
  Kc = (e) => {
    const { onCancel: n, onSubmit: s } = e,
      [i, a] = C.useState(),
      o = L((g) => g.uiState.global.kinesisPayPaymentId),
      [r, d] = C.useState(o ?? ""),
      [h, { data: f, error: m, isFetching: c }] = ua(),
      x = C.useMemo(
        () => Bs(async (g) => await h({ globalPaymentId: g }), 1e3),
        [h]
      );
    return (
      C.useEffect(() => {
        if (m) {
          if (rt(m)) {
            const g = m.data.message;
            return a(g ?? "An unexpected error occurred.");
          }
          return Ji(m)
            ? a(m.message ?? "An unexpected error occurred.")
            : a("An unexpected error occurred.");
        }
      }, [m]),
      C.useEffect(() => (r && x(r), x.cancel), [r, x]),
      C.useEffect(() => {
        o && d(o);
      }, [o]),
      t.jsxs(Pc, {
        children: [
          t.jsxs(k, {
            gap: "12px",
            alignItems: "center",
            children: [
              t.jsx(F, {
                name: V.merchantKPayLogo,
                size: A.forty,
                iconSize: A.forty,
              }),
              t.jsx(Fc, {
                children: t.jsx(p, {
                  id: "2tPDEL",
                  defaultMessage: [{ type: 0, value: "Kinesis Pay" }],
                }),
              }),
              t.jsx(Lc, {
                children: t.jsx(p, {
                  id: "GVgGa4",
                  defaultMessage: [
                    {
                      type: 0,
                      value: "Enter a Payment ID to make your payment",
                    },
                  ],
                }),
              }),
            ],
          }),
          t.jsxs(k, {
            gap: "8px",
            children: [
              t.jsxs(Vc, {
                $hasError: !!i,
                children: [
                  t.jsx(zc, {
                    children: t.jsx(Oc, {
                      id: "pay-modal-input-payment-id",
                      value: r,
                      $hasError: !!i,
                      "data-cy": "pay-modal-request",
                      placeholder: "e.g. KP12A34BC56E",
                      maxLength: 15,
                      autoComplete: "off",
                      autoFocus: !0,
                      onChange: (g) => {
                        a(void 0), d(g.target.value);
                      },
                    }),
                  }),
                  t.jsx(Z, {
                    variant: "outlined",
                    size: "small",
                    onClick: async () => {
                      const g = await navigator.clipboard.readText();
                      d(g);
                    },
                    children: t.jsx(p, {
                      id: "ZQbg51",
                      defaultMessage: [{ type: 0, value: "Paste" }],
                    }),
                  }),
                ],
              }),
              t.jsx(Uc, {
                $hasError: !!i,
                children: t.jsxs(R, {
                  gap: "8px",
                  alignItems: "center",
                  children: [
                    t.jsx(F, {
                      name: V.info,
                      fill: (g) => g.palette.designColors.icons.critical,
                      size: A.fourteen,
                      iconSize: A.fourteen,
                    }),
                    i,
                  ],
                }),
              }),
            ],
          }),
          t.jsxs(_c, {
            children: [
              t.jsx(ae, {
                size: "small",
                onClick: n,
                disabled: c,
                children: t.jsx(p, {
                  id: "47FYwb",
                  defaultMessage: [{ type: 0, value: "Cancel" }],
                }),
              }),
              t.jsx(Z, {
                size: "small",
                disabled:
                  !(f != null && f.globalPaymentId) ||
                  c ||
                  !(r != null && r.length),
                loading: c,
                onClick: () => {
                  f != null && f.globalPaymentId && s(f.globalPaymentId);
                },
                children: t.jsx(p, {
                  id: "9+Ddtu",
                  defaultMessage: [{ type: 0, value: "Next" }],
                }),
              }),
            ],
          }),
        ],
      })
    );
  },
  qc = l(k)`
  padding: 0 0 36px 0;
  align-items: center;
  gap: 29px;
`,
  Wc = l("span")`
  margin-top: 12px;
  color: ${({ theme: e }) => e.palette.designColors.text.default};
  font-size: 21px;
  line-height: 30px;
  font-family: ${({ theme: e }) => e.typography.fonts.bold};
`,
  Gc = l("span")`
  margin-bottom: 32px;
  text-align: center;
  color: ${({ theme: e }) => e.palette.designColors.text.tertiary};
  font-size: 14px;
  line-height: 22px;
  font-family: ${({ theme: e }) => e.typography.fonts.regular};
`,
  Hc = l("span")`
  text-align: left;
  color: ${({ theme: e }) => e.palette.designColors.text.tertiary};
  font-size: 13px;
  line-height: 22px;
  max-width: 290px;
  font-family: ${({ theme: e }) => e.typography.fonts.regular};
`,
  Xc = l(R)`
  gap: 10px;
  justify-content: end;
`,
  os = l(us)`
  text-align: left;
  font-size: 14px;
  line-height: 16px;
  font-family: ${({ theme: e }) => e.typography.fonts.regular};
`,
  Qc = l("div")`
  padding: 36px;
  border-radius: 50%;
  background-color: ${({ theme: e }) =>
    e.palette.designColors.background.default};
`,
  Yc = (e) => {
    const { onNext: n } = e,
      s = L(ms),
      [i, a] = C.useState(!1),
      o = () => {
        i && la("kpay_welcome", s), n();
      };
    return t.jsxs(qc, {
      children: [
        t.jsxs(k, {
          gap: "12px",
          alignItems: "center",
          children: [
            t.jsx(Qc, {
              children: t.jsx(F, {
                name: V.merchantKPayLogo,
                size: A.forty,
                iconSize: A.forty,
              }),
            }),
            t.jsx(Wc, {
              children: t.jsx(p, {
                id: "R1Val8",
                defaultMessage: [{ type: 0, value: "Welcome to Kinesis Pay" }],
              }),
            }),
            t.jsx(Gc, {
              children: t.jsx(p, {
                id: "8x6j9D",
                defaultMessage: [
                  {
                    type: 0,
                    value:
                      "Fast and secure payments for goods and services in Kinesis gold (KAU) and silver (KAG). ",
                  },
                  {
                    type: 8,
                    value: "Link",
                    children: [{ type: 0, value: "Learn more" }],
                  },
                ],
                values: {
                  Link: (r) =>
                    t.jsx(os, {
                      href: "https://support.kinesis.money/hc/en-gb/categories/9453998263069-Kinesis-Pay",
                      target: "_blank",
                      children: r,
                    }),
                },
              }),
            }),
            t.jsx(Hc, {
              children: t.jsx(p, {
                id: "Tp4aWv",
                defaultMessage: [
                  {
                    type: 0,
                    value:
                      "By clicking the MAKE A PAYMENT button, you agree with our ",
                  },
                  {
                    type: 8,
                    value: "Link",
                    children: [{ type: 0, value: "Terms & Conditions" }],
                  },
                  { type: 0, value: "." },
                ],
                values: {
                  Link: (r) =>
                    t.jsx(os, {
                      href: "https://kinesis.money/about-us/documents/terms-of-use/",
                      target: "_blank",
                      children: r,
                    }),
                },
              }),
            }),
          ],
        }),
        t.jsx(Xc, {
          children: t.jsx(Z, {
            size: "small",
            onClick: o,
            children: t.jsx(p, {
              id: "ABteGQ",
              defaultMessage: [{ type: 0, value: "Make a payment" }],
            }),
          }),
        }),
        t.jsxs(R, {
          alignItems: "center",
          gap: "9px",
          children: [
            t.jsx("input", {
              type: "checkbox",
              name: "not-show-again",
              id: "no-server",
              onChange: () => a(!i),
            }),
            t.jsx("label", {
              htmlFor: "not-show-again",
              children: t.jsx(p, {
                id: "OfQY5F",
                defaultMessage: [{ type: 0, value: "Don't show again" }],
              }),
            }),
          ],
        }),
      ],
    });
  },
  Zc = (e) => {
    const { onCloseClick: n } = e,
      s = L(ms),
      i = da("kpay_welcome", s) ? 1 : 0,
      [a, o] = C.useState(i),
      [r, d] = C.useState(u.KAU),
      [h, f] = C.useState(),
      { data: m } = Bt({ globalPaymentId: h ?? "" }, { skip: !h }),
      [c] = pa(),
      x = Rt(),
      g = Me(),
      { formatMessage: M } = W(),
      y = async (b) => {
        var E;
        if (!(m != null && m.globalPaymentId)) return n();
        try {
          await Es(
            c({
              globalPaymentId: m.globalPaymentId,
              currencyCode: r,
              mfaToken: b,
            }),
            M({
              id: "rnzEYq",
              defaultMessage: [
                {
                  type: 0,
                  value: "Your payment has been successfully submitted",
                },
              ],
            })
          );
        } catch (v) {
          rt(v) &&
            (E = v.data.metadata) != null &&
            E.reachedLimit &&
            (g(gs()),
            ue.error(
              M({
                id: "t43Q7E",
                defaultMessage: [
                  {
                    type: 0,
                    value: "Logged out due to incorrect 2FA attempts.",
                  },
                ],
              })
            )),
            b ||
              ue.error(
                M({
                  id: "wDtAuX",
                  defaultMessage: [
                    {
                      type: 0,
                      value: "Payment failed due to missing MFA token.",
                    },
                  ],
                })
              ),
            ue.error(
              M({
                id: "+BuwKc",
                defaultMessage: [{ type: 0, value: "Payment failed." }],
              })
            );
        }
        n();
      };
    return t.jsx(t.Fragment, {
      children: {
        0: t.jsx(Yc, {
          onNext: () => {
            o(1);
          },
        }),
        1: t.jsx(Kc, {
          onCancel: n,
          onSubmit: (b) => {
            f(b), o(2);
          },
        }),
        2: t.jsx(Bc, {
          globalPaymentId: h,
          onSubmit: y,
          paymentCurrency: r,
          setPaymentCurrency: d,
          onCancel: n,
          onGoToMfa: x({
            required: J.kycVerified,
            action: () => o(3),
            blockAction: n,
            require2fa: !0,
          }),
        }),
        3: t.jsx(Nc, { onBack: () => o(2), onSubmit: y, onCloseClick: n }),
      }[a],
    });
  },
  Jc = l("div")`
  &&& {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;
    overflow-y: auto;
    min-height: 250px;
  }
`,
  eu = (e) => {
    const { showModal: n, onCloseClick: s } = e;
    return t.jsx(Te, {
      open: n,
      onClose: s,
      size: "ms",
      fullWidth: !0,
      hidePuller: !0,
      children: t.jsx(Jc, { children: t.jsx(Zc, { onCloseClick: s }) }),
    });
  },
  tu = ({
    uiState: {
      global: { kinesisPayOpen: e },
    },
  }) => ({ kinesisPayOpen: e }),
  nu = { openKinesisPayModal: xi, resetError: xs },
  su = (e) => {
    const n = Me(),
      { kinesisPayOpen: s, openKinesisPayModal: i, resetError: a } = e;
    return t.jsx(eu, {
      showModal: s,
      onCloseClick: () => {
        i({ show: !1 }), a(), n(Et.util.invalidateTags(["merchant-payment"]));
      },
    });
  },
  iu = ye(tu, nu)(su),
  au = l(k)`
  padding: 24px;
`,
  ou = l(Cs)`
  width: 200px !important;
  height: 200px !important;
  margin: 0 auto;
`;
function ru(e) {
  const { link: n } = e;
  return t.jsx(au, { gap: "24px", children: t.jsx(ou, { value: n }) });
}
const lu = ({
    referrals: {
      referrerLink: { activeCode: e },
    },
    uiState: {
      global: { qrModalOpen: n },
    },
  }) => ({ activeCode: e, qrModalOpen: n }),
  du = { qrModalControl: yi },
  cu = (e) => {
    const { activeCode: n, qrModalControl: s, qrModalOpen: i } = e,
      a = () => s({ qrModalOpen: !1, link: void 0 }),
      o = i.link ?? `https://kms.kinesis.money/signup/${n}`;
    return t.jsxs(Te, {
      open: i.qrModalOpen,
      onClose: () => a(),
      size: "ms",
      hidePuller: !0,
      fullWidth: !0,
      children: [
        t.jsx(k, {
          children: t.jsx(p, {
            id: "FIwWyA",
            defaultMessage: [{ type: 0, value: "QR Code" }],
          }),
        }),
        t.jsx(ru, { link: o }),
      ],
    });
  },
  uu = ye(lu, du)(cu),
  pu = l(k)(() => ({ padding: "0 16px", alignItems: "center" })),
  hu = (e) => {
    const { onBack: n, onSubmit: s, onCloseClick: i } = e,
      a = L(fs);
    return t.jsxs(pu, {
      children: [
        t.jsx(F, {
          name: V.kinesisPayLogo,
          size: A.sixtyEight,
          iconSize: A.sixtyEight,
        }),
        {
          [je.sms]: t.jsx(dn, {
            buttonSize: "small",
            onBack: n,
            onSubmit: s,
            onCloseClick: i,
          }),
          [je.qrCode]: t.jsx(ln, {
            buttonSize: "small",
            onBack: n,
            onSubmit: s,
          }),
        }[a ?? je.sms],
      ],
    });
  },
  fu = (e) => {
    const n = e.paymentKauAmount && e.paymentKauAmount > 0;
    return {
      paymentCurrency: n ? u.KAU : u.KAG,
      convertedAmount: n ? e.paymentKauAmount : e.paymentKagAmount,
    };
  },
  mu = l(k)`
  align-items: center;
  width: 100%;
  height: 100%;
  gap: 36px;

  @media only screen and (max-width: ${({ theme: e }) =>
    `${e.breakpoints.values.sm}px`}) {
    gap: unset;
    justify-content: space-between;
  }
`,
  gu = l(Z)`
  width: 100%;
`,
  xu = l(k)`
  background-color: ${({ theme: e }) =>
    e.palette.designColors.background.default};
  border-radius: 8px;
  padding: 0 16px;
  width: 100%;
`,
  rs = l(Pe)`
  color: ${({ theme: e }) => e.palette.designColors.text.tertiary};
`,
  ls = l(R)`
  justify-content: space-between;
  padding: 16px 0;
`,
  yu = l(ot)`
  flex: none;
`,
  bu = l(Ds)`
  color: ${({ theme: e, currencyCode: n }) =>
    e.palette.colorPalette.currencies[n].default};
`,
  Cu = l(Ds)`
  color: ${({ theme: e }) => e.palette.designColors.text.tertiary};
`,
  vu = (e) => {
    const { onClose: n, globalPaymentId: s } = e,
      { data: i } = Bt({ globalPaymentId: s });
    if (!i) return t.jsx(Dt, {});
    const { merchantBusinessName: a, paymentCurrency: o, amount: r } = i,
      { paymentCurrency: d, convertedAmount: h } = fu(i);
    return t.jsxs(mu, {
      children: [
        t.jsxs(k, {
          gap: "32px",
          alignItems: "center",
          width: "100%",
          padding: "0 12px",
          children: [
            t.jsx(k, {
              gap: "12px",
              alignItems: "center",
              children: t.jsx(F, {
                name: V.kinesisPayLogo,
                size: A.sixtyEight,
                iconSize: A.sixtyEight,
              }),
            }),
            t.jsxs(k, {
              alignItems: "center",
              gap: "16px",
              children: [
                t.jsx(F, {
                  name: V.kinesisPaySuccessful,
                  size: A.eighty,
                  iconSize: A.eighty,
                }),
                t.jsx(Is, {
                  children: t.jsx(p, {
                    id: "HXXUpA",
                    defaultMessage: [{ type: 0, value: "Payment sent" }],
                  }),
                }),
              ],
            }),
            t.jsxs(k, {
              alignItems: "center",
              gap: "6px",
              children: [
                t.jsxs(R, {
                  gap: "4px",
                  children: [
                    t.jsx(xe, { weight: "bold", children: a }),
                    t.jsx(xe, {
                      subdued: !0,
                      children: t.jsx(p, {
                        id: "SvTgP+",
                        defaultMessage: [{ type: 0, value: "has received" }],
                      }),
                    }),
                  ],
                }),
                t.jsxs(R, {
                  gap: "4px",
                  alignItems: "center",
                  children: [
                    t.jsx(yu, { size: "24px", currencyCode: d }),
                    t.jsx(bu, {
                      currencyCode: d,
                      children: ie(
                        { value: h, code: d },
                        {
                          appendCurrencyCode: !1,
                          prependFiatSymbol: !0,
                          useGrouping: !0,
                          completeWithZerosAlways: !0,
                        }
                      ),
                    }),
                    t.jsx(Cu, { weight: "medium", children: d }),
                  ],
                }),
              ],
            }),
            t.jsxs(xu, {
              children: [
                t.jsxs(ls, {
                  children: [
                    t.jsx(rs, {
                      children: t.jsx(p, {
                        id: "0bZ4/4",
                        defaultMessage: [{ type: 0, value: "Payment ID" }],
                      }),
                    }),
                    t.jsx(xe, { children: s }),
                  ],
                }),
                t.jsx(Yt, {}),
                t.jsxs(ls, {
                  children: [
                    t.jsx(rs, {
                      children: t.jsx(p, {
                        id: "GufXy5",
                        defaultMessage: [{ type: 0, value: "Value" }],
                      }),
                    }),
                    t.jsx(xe, {
                      children: t.jsx(p, {
                        id: "lMjsw+",
                        defaultMessage: [
                          { type: 1, value: "symbol" },
                          { type: 1, value: "value" },
                        ],
                        values: {
                          symbol: pn(o ?? u.USD),
                          value: ie(
                            { value: r, code: o },
                            {
                              appendCurrencyCode: !0,
                              prependFiatSymbol: !1,
                              useGrouping: !0,
                              completeWithZerosAlways: !0,
                              decimalPoints: 2,
                            }
                          ),
                        },
                      }),
                    }),
                  ],
                }),
              ],
            }),
          ],
        }),
        t.jsx(gu, {
          size: "large",
          onClick: n,
          children: t.jsx(p, {
            id: "JXdbo8",
            defaultMessage: [{ type: 0, value: "Done" }],
          }),
        }),
      ],
    });
  },
  ju = (e, n) => {
    const { formatMessage: s } = W(),
      i = ws().shape({
        amount: Wt()
          .required(
            s({
              id: "ymyq8G",
              defaultMessage: [{ type: 0, value: "Please input amount" }],
            })
          )
          .test(
            "amount",
            s({
              id: "ymyq8G",
              defaultMessage: [{ type: 0, value: "Please input amount" }],
            }),
            (a) => !!Number(a)
          ),
        baseCurrency: $n().oneOf(Object.values(u)).default(u.USD),
        paymentCurrency: $n()
          .oneOf(Object.values(u))
          .required(
            s({
              id: "Fz/IEn",
              defaultMessage: [
                { type: 0, value: "Please select payment currency" },
              ],
            })
          ),
        convertedAmount: Wt()
          .required()
          .when("paymentCurrency", ([a], o) => {
            const r = a === u.KAU ? e.KAU : e.KAG;
            return o
              .test(
                "convertedAmount",
                s(
                  {
                    id: "sfBzTI",
                    defaultMessage: [
                      { type: 0, value: "Amount below allowed minimum of " },
                      { type: 1, value: "minLimit" },
                      { type: 0, value: " " },
                      { type: 1, value: "paymentCurrency" },
                    ],
                  },
                  { minLimit: r, paymentCurrency: a }
                ),
                (d) => !d || new fe(d).gte(r)
              )
              .test(
                "convertedAmount",
                s({
                  id: "rXswrK",
                  defaultMessage: [
                    {
                      type: 0,
                      value:
                        "The amount entered exceeds your available balance",
                    },
                  ],
                }),
                (d) => {
                  var f;
                  const h =
                    n && a ? ((f = n[a]) == null ? void 0 : f.available) : 0;
                  return !d || new fe(d).lt(h);
                }
              );
          }),
      });
    return Ms(i);
  },
  wu = l(k)`
  align-items: center;
  gap: 32px;
  width: 100%;
  height: 100%;
`,
  Mu = l(R, { shouldForwardProp: G(["disabled", "hasError"]) })`
  align-items: baseline;
  padding-right: 3px;
  width: 100%;
`,
  Su = l(k)`
  gap: 32px;

  @media only screen and (max-width: ${({ theme: e }) =>
    `${e.breakpoints.values.sm}px`}) {
    gap: 48px;
  }
`,
  ku = l(Pe, { shouldForwardProp: G(["$hasError"]) })`
  color: ${({ theme: e }) =>
    e.palette.designColors.interactive.critical.default};
  background-color: ${({ theme: e }) =>
    e.palette.designColors.surface.critical.subdued};
  width: 100%;
  padding: 16px;
  border-radius: 8px;
  display: ${({ $hasError: e }) => (e ? "block" : "none")};
`,
  Au = l(R)`
  gap: 10px;
  justify-content: center;
  width: 100%;
`,
  Tu = l("input")`
  border: none;
  font-size: 40px;
  line-height: 46px;
  letter-spacing: -0.8px;
  font-family: ${({ theme: e }) => e.typography.fonts.medium};
  padding: 1px 2px;

  &:focus {
    outline: none;
  }
`,
  $u = l(ot)`
  flex: none;
`,
  Iu = l(R)`
  background-color: ${({ theme: e }) =>
    e.palette.designColors.background.default};
  padding: 8px;
  border-radius: 4px;
`,
  Du = l(Ct, { shouldForwardProp: G(["currencyCode"]) })`
  color: ${({ theme: e, currencyCode: n }) =>
    e.palette.colorPalette.currencies[n].default};
`,
  Eu = l(Z)`
  width: 100%;
`,
  Ru = l("form")`
  width: 100%;
`,
  Bu = l(k, { shouldForwardProp: G(["isLoading"]) })`
  padding: ${({ isLoading: e }) => (e ? "32px" : "0")};
  width: 100%;
`,
  Nu = (e) => {
    var re, le;
    const { onCancel: n, onSubmit: s, form: i } = e,
      a = L((_) => _.uiState.global.kinesisPayMerchantId),
      o = L(en),
      { data: r, error: d, isLoading: h } = ha({ merchantId: a }, { skip: !a }),
      f = (r == null ? void 0 : r.preferredCurrency) ?? u.USD,
      [m, { data: c, isLoading: x, reset: g }] = fa(),
      { data: M } = Rs(),
      { formatMessage: y } = W(),
      b = h || x,
      {
        formState: E,
        watch: v,
        setValue: T,
        handleSubmit: $,
      } = un({
        mode: "onChange",
        resolver: ju(M, o),
        defaultValues: i ?? { paymentCurrency: u.KAU, baseCurrency: f },
      }),
      { isValidatingMfa: I } = jn(),
      { isValidatingProfile: D } = Vi(),
      B = I || D,
      [U, z] = v(["amount", "paymentCurrency", "convertedAmount"]),
      { isValid: ee, errors: S } = E,
      P = C.useMemo(
        () =>
          Bs(async (_, Se) => {
            await m({ currency: Se, amount: Number(_) }).catch(() => {
              ue.error(
                y({
                  id: "IWd1/B",
                  defaultMessage: [
                    { type: 0, value: "Unable to get minimum amount limit." },
                  ],
                })
              );
            });
          }, 800),
        [y, m]
      );
    return (
      C.useEffect(() => {
        if (d) {
          n();
          return;
        }
        return (
          i != null &&
            i.amount &&
            i != null &&
            i.baseCurrency &&
            P(i.baseCurrency, Number(i.amount)),
          () => {
            P.cancel();
          }
        );
      }, [
        P,
        i == null ? void 0 : i.amount,
        i == null ? void 0 : i.baseCurrency,
        d,
        n,
        m,
      ]),
      C.useEffect(() => {
        c &&
          z &&
          T(
            "convertedAmount",
            z === u.KAU ? c.kauAmount.toString() : c.kagAmount.toString(),
            { shouldValidate: !0 }
          );
      }, [z, c, T]),
      C.useEffect(() => {
        T("convertedAmount", "", { shouldValidate: !0 });
      }, [U, T]),
      C.useEffect(() => {
        T("baseCurrency", f, { shouldValidate: !0 });
      }, [f, T]),
      t.jsx(wu, {
        children: Qt(
          t.jsx(Ru, {
            onSubmit: $(s),
            children: t.jsxs(Su, {
              alignItems: "center",
              justifyContent: "space-between",
              children: [
                t.jsxs(k, {
                  gap: "32px",
                  alignItems: "center",
                  width: "100%",
                  children: [
                    t.jsx(F, {
                      name: V.kinesisPayLogo,
                      size: A.sixtyEight,
                      iconSize: A.sixtyEight,
                    }),
                    t.jsxs(k, {
                      gap: "14px",
                      alignItems: "center",
                      children: [
                        t.jsxs(R, {
                          gap: "4px",
                          alignItems: "center",
                          children: [
                            t.jsx(Pe, {
                              subdued: !0,
                              children: t.jsx(p, {
                                id: "lD3+8a",
                                defaultMessage: [{ type: 0, value: "Pay" }],
                              }),
                            }),
                            t.jsx(sn, {
                              weight: "bold",
                              children: r == null ? void 0 : r.businessName,
                            }),
                            t.jsx(Pe, {
                              subdued: !0,
                              children: t.jsx(p, {
                                id: "pG7OTC",
                                defaultMessage: [{ type: 0, value: "with" }],
                              }),
                            }),
                          ],
                        }),
                        t.jsx(R, {
                          gap: "10px",
                          children: [u.KAU, u.KAG].map((_) =>
                            t.jsx(
                              hs,
                              {
                                color: _ === z ? "primary" : "secondary",
                                onClick: () => {
                                  b ||
                                    T("paymentCurrency", _, {
                                      shouldValidate: !0,
                                    });
                                },
                                children: t.jsxs(R, {
                                  gap: "4px",
                                  alignItems: "center",
                                  children: [
                                    t.jsx($u, {
                                      size: "16px",
                                      currencyCode: _,
                                    }),
                                    t.jsx(bi, { children: _ }),
                                  ],
                                }),
                              },
                              _
                            )
                          ),
                        }),
                      ],
                    }),
                    t.jsxs(k, {
                      alignItems: "center",
                      gap: "8px",
                      width: "100%",
                      children: [
                        t.jsxs(Mu, {
                          disabled: b,
                          alignItems: "baseline",
                          justifyContent: "center",
                          children: [
                            t.jsxs(R, {
                              gap: "4px",
                              children: [
                                t.jsx(kn, { tertiary: !0, children: f }),
                                t.jsx(kn, {
                                  weight: "medium",
                                  children: pn(f),
                                }),
                              ],
                            }),
                            t.jsx(Tu, {
                              size: U === void 0 ? 4 : U.toString().length + 1,
                              type: "text",
                              placeholder: "0.00",
                              value: U ? `${U}` : "",
                              onChange: (_) => {
                                const Se = _.target.value,
                                  $e = ie(
                                    { code: f, value: Se },
                                    { prependFiatSymbol: !1 }
                                  );
                                _.target.setAttribute(
                                  "size",
                                  $e.length.toString()
                                ),
                                  g(),
                                  T("amount", $e, { shouldValidate: !0 }),
                                  P($e, f);
                              },
                            }),
                          ],
                        }),
                        t.jsx(Bu, {
                          isLoading: !c || b,
                          children: Qt(
                            c &&
                              t.jsx(k, {
                                justifyContent: "center",
                                gap: "32px",
                                width: "100%",
                                alignItems: "center",
                                children: t.jsxs(Iu, {
                                  gap: "2px",
                                  width: "fit-content",
                                  children: [
                                    t.jsx(Ct, {
                                      subdued: !0,
                                      children: t.jsx(p, {
                                        id: "T2q/Kb",
                                        defaultMessage: [
                                          { type: 0, value: "=" },
                                        ],
                                      }),
                                    }),
                                    t.jsx(Du, {
                                      currencyCode: z,
                                      children: ie(
                                        {
                                          value:
                                            z === u.KAU
                                              ? c.kauAmount
                                              : c.kagAmount,
                                          code: z,
                                        },
                                        {
                                          appendCurrencyCode: !1,
                                          prependFiatSymbol: !0,
                                          useGrouping: !0,
                                          completeWithZerosAlways: !0,
                                        }
                                      ),
                                    }),
                                    t.jsx(Ct, { subdued: !0, children: z }),
                                  ],
                                }),
                              }),
                            !c || !!b
                          ),
                        }),
                      ],
                    }),
                  ],
                }),
                t.jsx(Au, {
                  children:
                    U && !ee
                      ? t.jsx(ku, {
                          $hasError: !0,
                          children: t.jsx(R, {
                            gap: "8px",
                            alignItems: "center",
                            children:
                              ((re = S == null ? void 0 : S.amount) == null
                                ? void 0
                                : re.message) ??
                              ((le = S == null ? void 0 : S.convertedAmount) ==
                              null
                                ? void 0
                                : le.message),
                          }),
                        })
                      : t.jsx(Eu, {
                          type: "submit",
                          size: "large",
                          disabled: B || b || !c || !ee,
                          loading: B,
                          children: t.jsx(p, {
                            id: "mJB8gx",
                            defaultMessage: [
                              { type: 0, value: "Review payment" },
                            ],
                          }),
                        }),
                }),
              ],
            }),
          }),
          !r
        ),
      })
    );
  },
  Pu = l(k)`
  align-items: center;
  gap: 32px;
  width: 100%;
  height: 100%;
`,
  Fu = l(ae)`
  position: absolute;
  top: 16px;
  left: 12px;
  cursor: pointer;
  z-index: 100;
`,
  Lu = l(k)`
  background-color: ${({ theme: e }) =>
    e.palette.designColors.background.default};
  border-radius: 8px;
  padding: 0 16px;
  width: 100%;
`,
  Kt = l(R)`
  justify-content: space-between;
  padding: 16px 0;
`,
  Vu = l(Z)`
  width: 100%;
`,
  zu = l(k)`
  gap: 32px;
  align-items: center;
  width: 100%;
  height: 100%;

  @media only screen and (max-width: ${({ theme: e }) =>
    `${e.breakpoints.values.sm}px`}) {
    gap: unset;
    justify-content: space-between;
  }
`,
  Ou = (e) => {
    const {
        form: n,
        onCancel: s,
        onGoToMfa: i,
        onBack: a,
        onSubmit: o,
        merchantBusinessName: r,
      } = e,
      { triggerMfaValidation: d, isValidatingMfa: h } = jn(),
      f = Rt(),
      m = h,
      c = async () => {
        if (!n) return s();
        const { data: x } = await d({
          amount: n.convertedAmount,
          currency: n.paymentCurrency,
        });
        return x === void 0
          ? s()
          : x
          ? f({
              required: J.kycVerified,
              action: i,
              blockAction: s,
              require2fa: !0,
            })()
          : await o();
      };
    return t.jsxs(Pu, {
      children: [
        t.jsx(Fu, {
          size: "small",
          onClick: a,
          children: t.jsx(F, {
            name: V.kinesisPayArrowLeft,
            size: A.twentyFour,
            iconSize: A.twentyFour,
          }),
        }),
        t.jsxs(zu, {
          children: [
            t.jsxs(k, {
              gap: "32px",
              alignItems: "center",
              width: "100%",
              padding: "0 12px",
              children: [
                t.jsx(F, {
                  name: V.kinesisPayLogo,
                  size: A.sixtyEight,
                  iconSize: A.sixtyEight,
                }),
                t.jsx(k, {
                  alignItems: "center",
                  gap: "16px",
                  children: t.jsx(F, {
                    name: V.kinesisPayAddAccount,
                    size: A.eighty,
                    iconSize: A.eighty,
                  }),
                }),
                t.jsx(Ci, {
                  children: t.jsx(p, {
                    id: "mJB8gx",
                    defaultMessage: [{ type: 0, value: "Review payment" }],
                  }),
                }),
                t.jsxs(Lu, {
                  children: [
                    t.jsxs(Kt, {
                      children: [
                        t.jsx(Pe, {
                          subdued: !0,
                          children: t.jsx(p, {
                            id: "/0TOL5",
                            defaultMessage: [{ type: 0, value: "Amount" }],
                          }),
                        }),
                        t.jsx(xe, {
                          weight: "bold",
                          children: ie(
                            {
                              value: n.convertedAmount,
                              code: n.paymentCurrency,
                            },
                            {
                              appendCurrencyCode: !0,
                              prependFiatSymbol: !0,
                              useGrouping: !0,
                              completeWithZerosAlways: !0,
                            }
                          ),
                        }),
                      ],
                    }),
                    t.jsx(Yt, {}),
                    t.jsxs(Kt, {
                      children: [
                        t.jsx(Pe, {
                          subdued: !0,
                          children: t.jsx(p, {
                            id: "GufXy5",
                            defaultMessage: [{ type: 0, value: "Value" }],
                          }),
                        }),
                        t.jsx(xe, {
                          children: t.jsx(p, {
                            id: "cVi3fd",
                            defaultMessage: [
                              { type: 1, value: "symbol" },
                              { type: 1, value: "value" },
                              { type: 0, value: " " },
                              { type: 1, value: "code" },
                            ],
                            values: {
                              symbol: pn(n.baseCurrency),
                              value: ie(
                                { value: n.amount, code: n.baseCurrency },
                                {
                                  appendCurrencyCode: !1,
                                  prependFiatSymbol: !1,
                                  completeWithZerosAlways: !0,
                                  decimalPoints: 2,
                                }
                              ),
                              code: n.baseCurrency,
                            },
                          }),
                        }),
                      ],
                    }),
                    t.jsx(Yt, {}),
                    t.jsxs(Kt, {
                      children: [
                        t.jsx(Pe, {
                          subdued: !0,
                          children: t.jsx(p, {
                            id: "8Rkoyb",
                            defaultMessage: [{ type: 0, value: "Recipient" }],
                          }),
                        }),
                        t.jsx(xe, { children: r }),
                      ],
                    }),
                  ],
                }),
              ],
            }),
            t.jsx(Vu, {
              type: "button",
              size: "large",
              onClick: c,
              loading: m,
              children: t.jsx(p, {
                id: "xegBDx",
                defaultMessage: [{ type: 0, value: "Send payment" }],
              }),
            }),
          ],
        }),
      ],
    });
  };
var Uu = {
  cm: !0,
  mm: !0,
  in: !0,
  px: !0,
  pt: !0,
  pc: !0,
  em: !0,
  ex: !0,
  ch: !0,
  rem: !0,
  vw: !0,
  vh: !0,
  vmin: !0,
  vmax: !0,
  "%": !0,
};
function Xs(e) {
  if (typeof e == "number") return { value: e, unit: "px" };
  var n,
    s = (e.match(/^[0-9.]*/) || "").toString();
  s.includes(".") ? (n = parseFloat(s)) : (n = parseInt(s, 10));
  var i = (e.match(/[^0-9]*$/) || "").toString();
  return Uu[i]
    ? { value: n, unit: i }
    : (console.warn(
        "React Spinners: "
          .concat(e, " is not a valid css value. Defaulting to ")
          .concat(n, "px.")
      ),
      { value: n, unit: "px" });
}
function gt(e) {
  var n = Xs(e);
  return "".concat(n.value).concat(n.unit);
}
var _u = function (e, n, s) {
    var i = "react-spinners-".concat(e, "-").concat(s);
    if (typeof window > "u" || !window.document) return i;
    var a = document.createElement("style");
    document.head.appendChild(a);
    var o = a.sheet,
      r = `
    @keyframes `
        .concat(
          i,
          ` {
      `
        )
        .concat(
          n,
          `
    }
  `
        );
    return o && o.insertRule(r, 0), i;
  },
  te = function () {
    return (
      (te =
        Object.assign ||
        function (e) {
          for (var n, s = 1, i = arguments.length; s < i; s++) {
            n = arguments[s];
            for (var a in n)
              Object.prototype.hasOwnProperty.call(n, a) && (e[a] = n[a]);
          }
          return e;
        }),
      te.apply(this, arguments)
    );
  },
  Ku = function (e, n) {
    var s = {};
    for (var i in e)
      Object.prototype.hasOwnProperty.call(e, i) &&
        n.indexOf(i) < 0 &&
        (s[i] = e[i]);
    if (e != null && typeof Object.getOwnPropertySymbols == "function")
      for (var a = 0, i = Object.getOwnPropertySymbols(e); a < i.length; a++)
        n.indexOf(i[a]) < 0 &&
          Object.prototype.propertyIsEnumerable.call(e, i[a]) &&
          (s[i[a]] = e[i[a]]);
    return s;
  },
  qu = _u("FadeLoader", "50% {opacity: 0.3} 100% {opacity: 1}", "fade");
function Wu(e) {
  var n = e.loading,
    s = n === void 0 ? !0 : n,
    i = e.color,
    a = i === void 0 ? "#000000" : i,
    o = e.speedMultiplier,
    r = o === void 0 ? 1 : o,
    d = e.cssOverride,
    h = d === void 0 ? {} : d,
    f = e.height,
    m = f === void 0 ? 15 : f,
    c = e.width,
    x = c === void 0 ? 5 : c,
    g = e.radius,
    M = g === void 0 ? 2 : g,
    y = e.margin,
    b = y === void 0 ? 2 : y,
    E = Ku(e, [
      "loading",
      "color",
      "speedMultiplier",
      "cssOverride",
      "height",
      "width",
      "radius",
      "margin",
    ]),
    v = Xs(b).value,
    T = v + 18,
    $ = T / 2 + T / 5.5,
    I = te(
      {
        display: "inherit",
        position: "relative",
        fontSize: "0",
        top: T,
        left: T,
        width: "".concat(T * 3, "px"),
        height: "".concat(T * 3, "px"),
      },
      h
    ),
    D = function (_) {
      return {
        position: "absolute",
        width: gt(x),
        height: gt(m),
        margin: gt(b),
        backgroundColor: a,
        borderRadius: gt(M),
        transition: "2s",
        animationFillMode: "both",
        animation: ""
          .concat(qu, " ")
          .concat(1.2 / r, "s ")
          .concat(_ * 0.12, "s infinite ease-in-out"),
      };
    },
    B = te(te({}, D(1)), { top: "".concat(T, "px"), left: "0" }),
    U = te(te({}, D(2)), {
      top: "".concat($, "px"),
      left: "".concat($, "px"),
      transform: "rotate(-45deg)",
    }),
    z = te(te({}, D(3)), {
      top: "0",
      left: "".concat(T, "px"),
      transform: "rotate(90deg)",
    }),
    ee = te(te({}, D(4)), {
      top: "".concat(-1 * $, "px"),
      left: "".concat($, "px"),
      transform: "rotate(45deg)",
    }),
    S = te(te({}, D(5)), { top: "".concat(-1 * T, "px"), left: "0" }),
    P = te(te({}, D(6)), {
      top: "".concat(-1 * $, "px"),
      left: "".concat(-1 * $, "px"),
      transform: "rotate(-45deg)",
    }),
    re = te(te({}, D(7)), {
      top: "0",
      left: "".concat(-1 * T, "px"),
      transform: "rotate(90deg)",
    }),
    le = te(te({}, D(8)), {
      top: "".concat($, "px"),
      left: "".concat(-1 * $, "px"),
      transform: "rotate(45deg)",
    });
  return s
    ? C.createElement(
        "span",
        te({ style: I }, E),
        C.createElement("span", { style: B }),
        C.createElement("span", { style: U }),
        C.createElement("span", { style: z }),
        C.createElement("span", { style: ee }),
        C.createElement("span", { style: S }),
        C.createElement("span", { style: P }),
        C.createElement("span", { style: re }),
        C.createElement("span", { style: le })
      )
    : null;
}
const Gu = l("div")`
  position: relative;
  width: 80px;
  height: 80px;
  padding: 38px;
`,
  Hu = l("div")`
  position: absolute;
  top: 0;
  left: 0;
`,
  Xu = () =>
    t.jsxs(Gu, {
      children: [
        t.jsx(Hu, {
          children: t.jsx(F, {
            name: V.loaderPlaceholder,
            size: A.eighty,
            iconSize: A.eighty,
          }),
        }),
        t.jsx(Wu, {
          color: "#ffffff",
          width: 4,
          height: 4,
          margin: -9,
          radius: 8,
        }),
      ],
    }),
  Qu = l(k)`
  align-items: center;
  justify-content: flex-start;
  gap: 32px;
  width: 100%;
  height: 100%;
  padding: 80px 24px 180px 24px;
`,
  Yu = l("span")`
  &:before {
    animation: dots 3s linear infinite;
    content: '';
  }

  @keyframes dots {
    0%,
    20% {
      content: '.';
    }
    40% {
      content: '..';
    }
    60% {
      content: '...';
    }
    90%,
    100% {
      content: '';
    }
  }
`,
  Zu = (e) => {
    const { globalPaymentId: n, goToReceiptPage: s } = e,
      { data: i, isError: a } = Bt({ globalPaymentId: n, listenUpdates: !0 }),
      { formatMessage: o } = W();
    return (
      C.useEffect(() => {
        a ||
          !n ||
          (i == null ? void 0 : i.status) !== ma.processed ||
          (ue.success(
            o({
              id: "kjcowH",
              defaultMessage: [
                { type: 0, value: "Payment has been processed successfully." },
              ],
            })
          ),
          s());
      }, [i == null ? void 0 : i.status, o, n, s, a]),
      t.jsxs(Qu, {
        children: [
          t.jsx(Xu, {}),
          t.jsxs(Is, {
            children: [
              t.jsx(p, {
                id: "C2CIgC",
                defaultMessage: [{ type: 0, value: "Sending" }],
              }),
              t.jsx(Yu, {}),
            ],
          }),
        ],
      })
    );
  },
  Ju = (e) => {
    const { onCloseClick: n, setShowCloseButton: s } = e,
      [i, a] = C.useState(0),
      [o, r] = C.useState(),
      d = L((M) => M.uiState.global.kinesisPayMerchantId),
      [h, { data: f }] = ga(),
      { isError: m } = Rs(),
      c = Me(),
      { formatMessage: x } = W();
    C.useEffect(() => {
      m && n();
    }, [m, n]),
      C.useEffect(() => {
        s(i !== 4);
      }, [i, s]);
    const g = async (M) => {
      var y;
      if (!o || !d) return n();
      try {
        await h({
          amount: Number(o.amount),
          currencyCode: o.paymentCurrency,
          globalMerchantId: d,
          mfaToken: M,
        });
      } catch (b) {
        n(),
          rt(b) &&
            (y = b.data.metadata) != null &&
            y.reachedLimit &&
            (c(gs()),
            ue.error(
              x({
                id: "t43Q7E",
                defaultMessage: [
                  {
                    type: 0,
                    value: "Logged out due to incorrect 2FA attempts.",
                  },
                ],
              })
            )),
          M ||
            ue.error(
              x({
                id: "wDtAuX",
                defaultMessage: [
                  {
                    type: 0,
                    value: "Payment failed due to missing MFA token.",
                  },
                ],
              })
            ),
          ue.error(
            x({
              id: "+BuwKc",
              defaultMessage: [{ type: 0, value: "Payment failed." }],
            })
          );
      }
    };
    return {
      0: t.jsx(Nu, {
        form: o,
        onSubmit: (M) => {
          r(M), a(1);
        },
        onCancel: n,
      }),
      1: t.jsx(Ou, {
        form: o,
        onSubmit: async () => {
          await g(), a(4);
        },
        onCancel: n,
        onGoToMfa: () => a(3),
        onBack: () => a(0),
        merchantBusinessName: f == null ? void 0 : f.merchantBusinessName,
      }),
      4: t.jsx(Zu, {
        globalPaymentId: (f == null ? void 0 : f.globalPaymentId) ?? "",
        goToReceiptPage: () => a(2),
      }),
      3: t.jsx(hu, {
        onBack: () => a(0),
        onSubmit: async (M) => {
          await g(M), a(4);
        },
        onCloseClick: n,
      }),
      2: t.jsx(vu, {
        globalPaymentId: (f == null ? void 0 : f.globalPaymentId) ?? "",
        onClose: n,
      }),
    }[i];
  },
  ep = l("div")`
  &&& {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0 12px 12px 12px !important;
    height: 100%;
    overflow-y: auto;
    min-height: 250px;

    @media screen and (max-width: 600px) {
      padding: 16px;
    }
  }
`,
  tp = l(ys)`
  position: absolute;
  top: 16px;
  right: 12px;
  cursor: pointer;
  z-index: 100;
`,
  np = (e) => {
    const { showModal: n, onCloseClick: s } = e,
      [i, a] = C.useState(!0);
    return t.jsxs(Te, {
      open: n,
      size: "ms",
      fullWidth: !0,
      hidePuller: !0,
      children: [
        i &&
          t.jsx(tp, {
            size: "small",
            onClick: s,
            children: t.jsx(F, {
              name: V.close,
              size: A.sixteen,
              iconSize: A.sixteen,
            }),
          }),
        t.jsx(ep, {
          children: t.jsx(Ju, { onCloseClick: s, setShowCloseButton: a }),
        }),
      ],
    });
  },
  sp = ({
    uiState: {
      global: { kinesisPayByMerchantOpen: e },
    },
  }) => ({ kinesisPayByMerchantOpen: e }),
  ip = { openModal: vi, resetError: xs },
  ap = (e) => {
    const { kinesisPayByMerchantOpen: n, openModal: s, resetError: i } = e,
      a = Me(),
      o = Tt();
    return t.jsx(np, {
      showModal: n,
      onCloseClick: () => {
        s({ show: !1 }),
          i(),
          a(Et.util.invalidateTags(["merchant-payment"])),
          o(Ne.home.path);
      },
    });
  },
  op = ye(sp, ip)(ap),
  rp = l("div")(() => ({ position: "absolute", right: "16px", top: "30px" })),
  lp = () => {
    const e = Me(),
      n = L(ji),
      { onDirection: s, clear: i } = Ki();
    C.useEffect(() => {
      n === ct.buy && s(ct.buy), n === ct.sell && s(ct.sell);
    }, [s, n]);
    const a = () => {
      e(wi(void 0)), i();
    };
    return t.jsxs(Te, {
      open: !!n,
      onClose: a,
      dialogProps: {
        sx: { "& .MuiDialogContent-root": { padding: 0, overflowY: "unset" } },
      },
      drawerProps: { sx: { "& .MuiDialogContent-root": { padding: 0 } } },
      drawerMobile: !0,
      children: [
        t.jsx(rp, { children: t.jsx(xa, { onClick: a }) }),
        t.jsx(ya, {}),
      ],
    });
  },
  dp = () => t.jsx(_i, { children: t.jsx(lp, {}) }),
  cp = () =>
    t.jsxs(t.Fragment, {
      children: [
        t.jsx(ka, {}),
        t.jsx(Ua, {}),
        t.jsx(cl, {}),
        t.jsx(mc, {}),
        t.jsx(iu, {}),
        t.jsx(op, {}),
        t.jsx(uu, {}),
        t.jsx(dp, {}),
      ],
    }),
  kf = C.memo(cp);
export { kf as default };
